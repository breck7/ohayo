'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(a,b){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:b})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(c||"")+"_"+b++,c)}var b=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(a){return{value:a,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(b){return a.next(b)}function c(b){return a.throw(b)}return new Promise(function(d,e){function f(a){a.done?d(a.value):Promise.resolve(a.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,c){var b=this;b instanceof String&&(b=String(b));var e=b.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=b[c];if(f===a||Object.is(f,a))return!0}return!1}},"es7","es3");$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};$jscomp.polyfill("Object.values",function(a){return a?a:function(a){var b=[],d;for(d in a)$jscomp.owns(a,d)&&b.push(a[d]);return b}},"es8","es3");
const FlowGrammar="grammar\n name flow\n compiler html\n nodeTypes\n  abstract.tile\n  abstract.documentSetting\n  #\n catchAllNodeType catchAll.errorNode\ncellType alphanumeric\n regex [a-zA-Z0-9]+\ncellType anyFirstWord\ncellType anyWord\ncellType boolean\n enum false true\n highlightScope constant.numeric\ncellType columnName\n highlightScope entity.other.attribute-name\ncellType columnType\n description In Ohayo, all columns have a type chosen from one of these columnTypes. The type affects how the values in the column are understood and displayed. Ohayo attempts to choose the correct column, but you can override the default with the columns.setType tile.\n enum boolean code date day dir feet hour hourMinute html int microsecond minute month monthDay number numberString object path second string text url usd week year\ncellType commentWord\n highlightScope comment\ncellType comparison\n enum < > <= >= = !=\ncellType dateColumnType\n enum day month year monthDay\ncellType delimiter\ncellType documentLayoutOption\n enum custom bin tree column tiled\ncellType documentSettingName\n highlightScope entity.name.tag\ncellType dummyDataSetId\n enum flowPrograms waterBill gapMinder markdown webPages outerSpace wordCounts treeProgram poem playerGoals patients regionalMarkets stockPrice\ncellType errorWord\n highlightScope invalid\ncellType extraWord\n highlightScope invalid\ncellType formatType\n enum csv tsv json tree ssv xml psv text spaced sections json list txt jsonMap jsonVector jsonCounts\n highlightScope constant\ncellType gender\n highlightScope constant\ncellType hackerNewsUserName\ncellType htmlContent\ncellType htmlTextTag\n enum div pre p h1 h2 h3 h4 h5 h6\ncellType int\n regex -?[0-9]+\ncellType localStorageKey\ncellType newColumnName\ncellType newColumnNames\n description When you are creating new columns.\ncellType number\n regex -?[0-9]*.?[0-9]*\ncellType path\n description A filepath\ncellType reductionType\n enum count sum mean min max median\ncellType scalarValue\ncellType string\n highlightScope string\ncellType subredditName\ncellType supportedTreeLanguage\n enum flow stump hakon fire\ncellType tileEventName\n enum fetchCards getTileBodyStumpCode chiselDidMount chiselDidUpdate\ncellType tileName\n highlightScope variable.function\ncellType tileSettingName\n highlightScope variable.language\ncellType titleCell\ncellType url\ncellType vegaDataSet\n enum 7zip.png airports.csv anscombe.json barley.json birdstrikes.json budget.json budgets.json burtin.json cars.json climate.json co2-concentration.csv countries.json crimea.json descriptions.json disasters.csv driving.json earthquakes.json ffox.png flare-dependencies.json flare.json flights-10k.json flights-200k.json flights-20k.json flights-2k.json flights-3m.csv flights-5k.json flights-airport.csv gapminder-health-income.csv gapminder.json gimp.png github.csv graticule.json income.json iowa-electricity.csv iris.json jobs.json la-riots.csv londonBoroughs.json londonCentroids.json londonTubeLines.json lookup_groups.csv lookup_people.csv miserables.json monarchs.json movies.json normal-2d.json obesity.json points.json population.json population_engineers_hurricanes.csv seattle-temps.csv seattle-weather.csv sf-temps.csv sp500.csv stocks.csv udistrict.json unemployment-across-industries.json unemployment.tsv us-10m.json us-employment.csv us-state-capitals.json weather.csv weather.json weball26.json wheat.json windvectors.csv world-110m.json zipcodes.csv\ncellType vegaExampleName\n enum airport_connections area area_cumulative_freq area_horizon area_overlay area_temperature_range area_vertical bar bar_1d bar_1d_rangestep_config bar_aggregate bar_aggregate_count bar_aggregate_format bar_aggregate_size bar_aggregate_sort_by_encoding bar_aggregate_sort_mean bar_aggregate_transform bar_aggregate_vertical bar_argmax bar_argmax_transform bar_array_aggregate bar_binned_data bar_color_disabled_scale bar_column_fold bar_custom_sort_full bar_custom_sort_partial bar_distinct bar_diverging_stack_transform bar_filter_calc bar_fit bar_gantt bar_grouped bar_grouped_horizontal bar_layered_transparent bar_layered_weather bar_month bar_month_temporal bar_size_default bar_size_explicit bar_size_explicit_bad bar_size_fit bar_size_rangestep_small bar_sort_by_count bar_swap_axes bar_swap_custom bar_title bar_title_start bar_tooltip bar_tooltip_multi bar_yearmonth bar_yearmonth_custom_format boxplot_1D_horizontal boxplot_1D_horizontal_custom_mark boxplot_1D_horizontal_explicit boxplot_1D_vertical boxplot_2D_horizontal boxplot_2D_horizontal_color_size boxplot_2D_vertical boxplot_minmax_2D_horizontal boxplot_minmax_2D_horizontal_custom_midtick_color boxplot_minmax_2D_vertical boxplot_tooltip_aggregate boxplot_tooltip_not_aggregate brush_table circle circle_binned circle_binned_maxbins_2 circle_binned_maxbins_20 circle_binned_maxbins_5 circle_bubble_health_income circle_flatten circle_github_punchcard circle_natural_disasters circle_opacity circle_scale_quantile circle_scale_quantize circle_scale_threshold concat_bar_layer_circle concat_bar_scales_discretize concat_bar_scales_discretize_2_cols concat_hover concat_hover_filter concat_layer_voyager_result_future concat_marginal_histograms concat_population_pyramid concat_weather connected_scatterplot embedded_csv errorband_2d_horizontal_color_encoding errorband_2d_vertical_borders errorbar_2d_vertical_ticks errorbar_aggregate errorbar_horizontal_aggregate facet_bullet facet_column_facet_column_point_future facet_column_facet_row_point_future facet_cross_independent_scale facet_custom facet_custom_header facet_independent_scale facet_independent_scale_layer_broken facet_row_facet_row_point_future geo_choropleth geo_circle geo_constant_value geo_custom_projection geo_graticule geo_graticule_object geo_layer geo_layer_line_london geo_layer_multi geo_line geo_point geo_repeat geo_rule geo_sphere geo_text geo_trellis hconcat_weather histogram histogram_bin_change histogram_bin_transform histogram_log histogram_no_spacing histogram_ordinal histogram_ordinal_sort interactive_area_brush interactive_bar_select_highlight interactive_brush interactive_concat_layer interactive_dashboard_europe_pop interactive_layered_crossfilter interactive_layered_crossfilter_discrete interactive_multi_line_label interactive_multi_line_tooltip interactive_overview_detail interactive_paintbrush interactive_paintbrush_color interactive_paintbrush_color_nearest interactive_paintbrush_interval interactive_paintbrush_simple_all interactive_paintbrush_simple_none interactive_panzoom_splom interactive_panzoom_vconcat_shared interactive_query_widgets interactive_seattle_weather interactive_splom interactive_stocks_nearest_index isotype_bar_chart isotype_bar_chart_emoji isotype_grid joinaggregate_mean_difference joinaggregate_mean_difference_by_year joinaggregate_percent_of_total joinaggregate_residual_graph layer_bar_annotations layer_bar_labels layer_bar_labels_style layer_bar_line layer_bar_line_union layer_bar_month layer_boxplot_circle layer_candlestick layer_circle_independent_color layer_color_legend_left layer_cumulative_histogram layer_dual_axis layer_falkensee layer_histogram layer_histogram_global_mean layer_line_co2_concentration layer_line_color_rule layer_line_errorband_2d_horizontal_borders_strokedash layer_line_errorband_ci layer_line_errorband_pre_aggregated layer_line_mean_point_raw layer_overlay layer_point_errorbar_1d_horizontal layer_point_errorbar_1d_vertical layer_point_errorbar_2d_horizontal layer_point_errorbar_2d_horizontal_ci layer_point_errorbar_2d_horizontal_color_encoding layer_point_errorbar_2d_horizontal_custom_ticks layer_point_errorbar_2d_horizontal_iqr layer_point_errorbar_2d_horizontal_stdev layer_point_errorbar_2d_vertical layer_point_errorbar_ci layer_point_errorbar_pre_aggregated_asymmetric_error layer_point_errorbar_pre_aggregated_symmetric_error layer_point_errorbar_pre_aggregated_upper_lower layer_point_errorbar_stdev layer_precipitation_mean layer_ranged_dot layer_rect_extent layer_scatter_errorband_1D_stdev_global_mean layer_scatter_errorband_1d_stdev layer_single_color layer_text_heatmap line line_calculate line_color line_color_binned line_detail line_encoding_impute_keyvals line_encoding_impute_keyvals_sequence line_impute_frame line_impute_keyvals line_impute_method line_impute_transform_frame line_impute_transform_value line_impute_value line_inside_domain_using_clip line_inside_domain_using_transform line_max_year line_mean_month line_mean_year line_monotone line_month line_outside_domain line_overlay line_overlay_stroked line_quarter_legend line_shape_overlay line_skip_invalid line_skip_invalid_mid line_skip_invalid_mid_cap_square line_skip_invalid_mid_overlay line_slope line_step line_timeunit_transform lookup parallel_coordinate point_1d point_1d_array point_2d point_2d_aggregate point_2d_array point_2d_array_named point_2d_tooltip_data point_aggregate_detail point_background point_binned_color point_binned_opacity point_binned_size point_bubble point_color point_color_custom point_color_ordinal point_color_quantitative point_color_shape_constant point_color_with_shape point_colorramp_size point_diverging_color point_dot_timeunit_color point_filled point_href point_invalid_color point_log point_no_axis_domain_grid point_ordinal_color point_overlap point_shape_custom point_tooltip rect_binned_heatmap rect_heatmap rect_heatmap_weather rect_lasagna_future rect_mosaic_labelled rect_mosaic_labelled_with_offset rect_mosaic_simple repeat_histogram repeat_histogram_flights repeat_independent_colors repeat_layer repeat_line_weather repeat_splom_cars repeat_splom_iris rule_color_mean rule_extent sample_scatterplot selection_bind_cylyr selection_bind_origin selection_brush_timeunit selection_clear_brush selection_composition_and selection_composition_or selection_concat selection_filter selection_filter_composition selection_heatmap selection_insert selection_interval_mark_style selection_layer_bar_month selection_multi_condition selection_project_binned_interval selection_project_interval selection_project_interval_x selection_project_interval_x_y selection_project_interval_y selection_project_multi selection_project_multi_cylinders selection_project_multi_cylinders_origin selection_project_multi_origin selection_project_single selection_project_single_cylinders selection_project_single_cylinders_origin selection_project_single_origin selection_resolution_global selection_resolution_intersect selection_resolution_union selection_toggle_altKey selection_toggle_altKey_shiftKey selection_toggle_shiftKey selection_translate_brush_drag selection_translate_brush_shift-drag selection_translate_scatterplot_drag selection_translate_scatterplot_shift-drag selection_type_interval selection_type_interval_invert selection_type_multi selection_type_single selection_type_single_dblclick selection_type_single_mouseover selection_zoom_brush_shift-wheel selection_zoom_brush_wheel selection_zoom_scatterplot_shift-wheel selection_zoom_scatterplot_wheel sequence_line square stacked_area stacked_area_normalize stacked_area_ordinal stacked_area_overlay stacked_area_stream stacked_bar_1d stacked_bar_count stacked_bar_h stacked_bar_h_order stacked_bar_h_order_custom stacked_bar_normalize stacked_bar_population stacked_bar_population_transform stacked_bar_size stacked_bar_sum_opacity stacked_bar_unaggregate stacked_bar_v stacked_bar_weather test_aggregate_nested test_field_with_spaces test_single_point_color test_subobject test_subobject_missing test_subobject_nested text_format text_scatterplot_colored tick_dot tick_dot_thickness tick_sort tick_strip time_output_utc_scale time_output_utc_timeunit time_parse_local time_parse_utc time_parse_utc_format trail_color trellis_anscombe trellis_area trellis_area_sort_array trellis_bar trellis_bar_histogram trellis_bar_histogram_label_rotated trellis_barley trellis_barley_independent trellis_barley_layer_median trellis_column_year trellis_cross_sort trellis_cross_sort_array trellis_line_quarter trellis_row_column trellis_scatter trellis_scatter_binned_row trellis_scatter_small trellis_selections trellis_stacked_bar vconcat_flatten vconcat_weather waterfall_chart wheat_wages window_cumulative_running_average window_percent_of_total window_rank window_top_k window_top_k_others\ncellType challengeId int\ncellType length int\ncellType milliseconds int\ncellType quantity int\ncellType startIndex int\ncellType challengeAnswer number\ncellType max number\ncellType min number\nabstract abstract.documentSetting\n firstCellType documentSettingName\n constants\n  tileJsConstructor string TileDocumentSettingNode /aientist/client/tiles/TileDocumentSettingNode.js\nabstract abstract.tile\n nodeTypes\n  abstract.tile\n  hidden\n  maximized\n  abstract.pagePosition\n  #\n frequency 0.00001\n firstCellType tileName\n constructors\n  browser FlowWithAutoComplete\n constants\n  tileJsConstructor string AbstractFlowTile /aientist/client/flow/AbstractFlowTile.js\nabstract abstract.tileSetting\n firstCellType tileSettingName\nabstract abstract.html abstract.chart\n catchAllCellType anyWord\n frequency 0\n description An HTML element\n nodeTypes\n  style\n  content\n constants\n  tileJsConstructor string HTMLTile /aientist/client/plugins/html/HTMLTiles.js\nabstract abstract.showTile abstract.chart\n cells columnName\n catchAllCellType titleCell\n description Display a key number.\n frequency .02\n example A dashboard for a Seattle family's water bill.\n  samples.waterBill\n   hidden\n   vega.scatter\n   tables.basic\n   show.mean Amount\n   show.median Amount\n   show.sum Amount\n   show.min Amount\n   show.max Amount\n  layout bin\n constants\n  tileSize string 140 120\n  tileJsConstructor string ShowTile /aientist/client/plugins/show/ShowTiles.js\n  dummyDataSet string stockPrice\nabstract abstract.snippetGallery abstract.chart\n constants\n  tileSize string 600 240\nabstract abstract.vega abstract.chart\n frequency .1\n catchAllCellType titleCell\n constants\n  tileSize string 800 300\n  tileJsConstructor string VegaLiteBaseTile /aientist/client/plugins/vega/VegaLiteTiles.js\n  tileScript string /standard-packages/vega/vega.combined.min.js\n  dummyDataSet string stockPrice\n  mark string bar\nabstract icons._icon abstract.chart\nabstract abstract.urlNoCells abstract.provider\n constants\n  tileSize string 300 150\n  tileJsConstructor string AbstractUrlProvider /aientist/client/flow/providers/UrlProviders.js\n defaults\n  useCache true\n nodeTypes\n  format\n  useCache\nabstract abstract.column abstract.terminalSetting\n cells columnName\nabstract abstract.pagePosition abstract.terminalSetting\n frequency .2\n cells int\nabstract abstract.chart abstract.tile\n nodeTypes\n  title\n  rowDisplayLimit\n defaults\n  rowDisplayLimit 10000\nabstract abstract.templateGallery abstract.chart\n constants\n  tileSize string 600 240\nabstract abstract.text abstract.chart\n catchAllCellType string\n frequency 0\n description Prints a message\n nodeTypes\n  content\n constants\n  tileJsConstructor string TextChart /aientist/client/flow/charts/TextChart.js\nabstract abstract.comingSoon abstract.text\n frequency 0\n description Coming soon\n constants\n  tileSize string 600 240\n  content string Instructions go here.\nabstract abstract.provider abstract.tile\n constants\n  tileSize string 140 60\nabstract abstract.dummy abstract.provider\n constants\n  tileSize string 300 150\n  tileJsConstructor string AbstractDummyProviderTile /aientist/client/flow/AbstractDummyProviderTile.js\nabstract abstract.hackernews abstract.url\n frequency .01\n tags internetConnectionRequired\nabstract abstract.fixedDatasetFromUrl abstract.urlNoCells\n description A dataset that generally is fixed and will never change.\nabstract abstract.fixedDatasetFromOhayoCollection abstract.fixedDatasetFromUrl\n description A dataset that ships with Ohayo.\n constants\n  tileSize string 300 150\n  tileJsConstructor string AbstractLocalUrlProvider /aientist/client/flow/providers/UrlProviders.js\nabstract abstract.transformer abstract.provider\n constants\n  tileSize string 160 100\nabstract abstract.instructions abstract.text\n constants\n  tileSize string 600 240\n  content string Instructions go here.\nabstract abstract.nonTerminalSetting abstract.tileSetting\n constructors\n  nodejs /aientist/client/tiles/TileSettingNonTerminalNode.js\n  browser TileSettingNonTerminalNode\n constants\n  tileJsConstructor string TileSettingNonTerminalNode /aientist/client/tiles/TileSettingNonTerminalNode.js\nabstract abstract.terminalSetting abstract.tileSetting\n constructors\n  nodejs /aientist/client/tiles/TileSettingTerminalNode.js\n  browser TileSettingTerminalNode\n constants\n  tileJsConstructor string TileSettingTerminalNode /aientist/client/tiles/TileSettingTerminalNode.js\nabstract abstract.url abstract.urlNoCells\n cells url\n constants\n  tileSize string 300 100\nnodeType #\n description A comment node\n frequency 0\n example An example program with comments\n  # get iris data\n  samples.iris\n   # filter is\n   filter.where Species = virginica\n    # display results\n    tables.basic\n catchAllCellType commentWord\n firstCellType commentWord\n catchAllNodeType #\n constants\n  tileJsConstructor string TileDocumentSettingNode /aientist/client/tiles/TileDocumentSettingNode.js\nnodeType catchAll.errorNode\n catchAllCellType errorWord\n constructors\n  nodejs ErrorNode\n  browser ErrorNode\nnodeType lineOfContent\n catchAllNodeType lineOfContent\n catchAllCellType anyWord\nnodeType challenge.play abstract.chart\n cells challengeId\n description Learn ohayo by trying a challenge.\n catchAllCellType challengeAnswer\n tags aTileThatCreatesPrograms\n example\n  challenge.list\n  challenge.play 1\n  challenge.play 2\n  layout tiled\n constants\n  tileSize string 640 240\n  tileJsConstructor string ChallengeTile /aientist/client/plugins/challenge/ChallengeTiles.js\nnodeType date.heatcal abstract.chart\n description Shows which days have higher counts.\n nodeTypes\n  count\n  day\n constants\n  tileSize string 750 200\n  tileJsConstructor string HeatCalendarChart /aientist/client/plugins/date/HeatCalendar.js\n  columnPredictionHints\n   count getColumnTypeName=number\n   day getColumnTypeName=day\n  dummyDataSet string waterBill\nnodeType debug.commands abstract.chart\n description Tools for ohayo developers.\n example Show debug commands\n  debug.commands\n constants\n  tileJsConstructor string DebugCommandsTile /aientist/client/plugins/debug/DebugTiles.js\nnodeType debug.dump abstract.chart\n description Dumps data from content or dump's first column input as 1 concatenated string.\n example Print a poem.\n  samples.poem\n   debug.dump\n constants\n  tileJsConstructor string DumpTile /aientist/client/flow/charts/DumpTiles.js\nnodeType debug.grammarTree abstract.chart\n description Show the family tree for a grammar.\n cells supportedTreeLanguage\n example Show the family tree for a grammar\n  debug.grammarTree flow\n   treenotation.outline\n constants\n  tileJsConstructor string DebugGrammarTreeTile /aientist/client/plugins/debug/DebugTiles.js\nnodeType debug.sleep abstract.chart\n cells milliseconds dummyDataSetId\n description Sleeps for a few seconds and then loads data. Useful for testing and development.\n example Sleep for 1 second then load data\n  debug.sleep 100 waterBill\n   tables.basic\n constants\n  dummyDataSet string waterBill\n  tileJsConstructor string DebugSleepTile /aientist/client/plugins/debug/DebugTiles.js\nnodeType debug.throw abstract.chart\n description Throws an error during load. Used for testing.\n cells tileEventName\n example Throw an error\n  samples.poem\n  debug.throw fetchCards\n constants\n  tileJsConstructor string DebugThrowErrorTile /aientist/client/plugins/debug/DebugTiles.js\nnodeType dtjs.basic abstract.chart\n description A spreadsheet-like table.\n constants\n  tileSize string 1200 500\n  tileJsConstructor string DataTablesTile /aientist/client/plugins/dtjs/DataTablesTile.js\n  tileCssScript string /standard-packages/dtjs/datatables.min.css\n  tileScript string /standard-packages/dtjs/datatables.min.js\nnodeType editor.gallery abstract.chart\n description Show a thumbnail of all the Ohayo documents in the input table.\n example\n  editor.files\n   editor.gallery\n constants\n  tileSize string 1080 600\n  tileJsConstructor string MiniMapTile /aientist/client/flow/charts/MiniMapTile.js\n  dummyDataSet string flowPrograms\nnodeType handsontable.basic abstract.chart\n description A spreadsheet-like table.\n constants\n  tileSize string 1200 500\n  tileJsConstructor string HandsOnTableTile /aientist/client/plugins/handsontable/HandsOnTableTile.js\n  tileCssScript string /standard-packages/handsontable/handsontable.min.css\n  tileScript string /standard-packages/handsontable/handsontable.full.min.js\nnodeType html.custom abstract.chart\n description Display custom HTML, but currently only allows certain tags.\n example Hello world\n  html.custom\n   content\n    <h1>Hello world</h1>\n nodeTypes\n  content\n constants\n  tileJsConstructor string CustomHTMLTile /aientist/client/plugins/html/HTMLTiles.js\n  tileScript string /standard-packages/html/sanitize-html.min.js\n  allowedTags string img h1 p div pre a\n  allowedAttributes string\n   a href name target\n   img src\nnodeType list.basic abstract.chart\n catchAllCellType columnName\n description Show 1 column as a text list.\n example List of world's telescopes\n  samples.telescopes\n   list.basic\n nodeTypes\n  label\n constants\n  tileJsConstructor string ListTile /aientist/client/plugins/list/ListTiles.js\n  tileSize string 400 400\n  dummyDataSet string telescopes\n  columnPredictionHints\n   label getTitlePotential\nnodeType markdown.toHtml abstract.chart\n description Displays Markdown rendered as HTML.\n example Show a text editor and some rendered Markdown.\n  data.inline\n   format text\n   content\n    # My header\n    ## My subheader\n    \n    Hello world\n   markdown.toHtml\n constants\n  tileJsConstructor string MarkdownChart /aientist/client/plugins/markdown/MarkdownChart.js\n  tileSize string 400 400\n  dummyDataSet string markdown\n nodeTypes\n  content\nnodeType tables.basic abstract.chart\n frequency .1\n description Basic table with sorting.\n example Basic table with Iris data\n  samples.iris\n   tables.basic\n catchAllCellType titleCell\n nodeTypes\n  columnLimit\n defaults\n  rowDisplayLimit 100\n  columnLimit 20\n constants\n  tileSize string 750 300\n  tileJsConstructor string TableTile /aientist/client/plugins/tables/TableTile.js\nnodeType text.wordcloud abstract.chart\n description Turn text into a word cloud.\n nodeTypes\n  column\n  count\n example A poem analyzed\n  samples.poem\n   text.wc\n    text.wordcloud\n constants\n  tileJsConstructor string WordCloudChart /aientist/client/plugins/text/WordCloud.js\n  tileScript string /standard-packages/text/wordcloud2.js\n  dummyDataSet string wordCounts\n  columnPredictionHints\n   name isString=true\n   count isString=false\nnodeType treenotation.3d abstract.chart\n description A 3D visualization of Tree Language source code.\n example 3D vis of a Tree Program.\n  samples.treeProgram\n   treenotation.3d\n constants\n  tileJsConstructor string ThreeDChart /aientist/client/plugins/treenotation/ThreeDChart.js\n  tileSize string 800 500\n  tileScript string /standard-packages/treenotation/vis.min.js\n  dummyDataSet string treeProgram\n nodeTypes\n  content\n  size\n  cameraPosition\nnodeType treenotation.outline abstract.chart\n description A simple pretty text-only view of a Tree Notation document.\n example Outer space\n  samples.outerSpace\n   treenotation.outline\n constants\n  dummyDataSet string outerSpace\n  tileJsConstructor string TreeOutline /aientist/client/plugins/treenotation/TreeTiles.js\n  tileSize string 800 500\nnodeType colorColumn abstract.column\nnodeType column abstract.column\nnodeType count abstract.column\nnodeType day abstract.column\nnodeType emojiColumn abstract.column\nnodeType label abstract.column\nnodeType link abstract.column\nnodeType sizeColumn abstract.column\nnodeType sourceColumn abstract.column\nnodeType value abstract.column\nnodeType xColumn abstract.column\nnodeType yColumn abstract.column\nnodeType datawrapper.comingSoon abstract.comingSoon\n constants\n  content string We don't have support yet for https://www.datawrapper.de/\nnodeType dcjs.comingSoon abstract.comingSoon\n constants\n  content string We don't have support yet for https://github.com/dc-js/dc.js\nnodeType finos.perspective.comingSoon abstract.comingSoon\n constants\n  content string We don't have support yet for https://perspective.finos.org/\nnodeType fivethirtyeight.comingSoon abstract.comingSoon\n constants\n  content string We don't have support yet for https://github.com/fivethirtyeight/data/\nnodeType highcharts.comingSoon abstract.comingSoon\n constants\n  content string We don't have support yet for https://www.highcharts.com/blog/snippets/3d-solar-system/\nnodeType re3data.comingSoon abstract.comingSoon\n constants\n  content string We don't have support yet for https://www.re3data.org/\nnodeType layout abstract.documentSetting\n cells documentLayoutOption\nnodeType samples.gapMinder abstract.dummy\n description Health and income data from gapMinder\n frequency .15\n constants\n  dummyDataSet string gapMinder\nnodeType samples.outerSpace abstract.dummy\n description A simple text document of major structures in the universe.\n constants\n  dummyDataSet string outerSpace\nnodeType samples.patients abstract.dummy\n description A row for each patient in a sample clinical dataset.\n constants\n  dummyDataSet string patients\nnodeType samples.poem abstract.dummy\n description The Road Not Taken by Robert Frost\n constants\n  dummyDataSet string poem\nnodeType samples.treeProgram abstract.dummy\n description A simple program in a Tree Language.\n constants\n  dummyDataSet string treeProgram\nnodeType samples.waterBill abstract.dummy\n description A family's water bill.\n frequency .15\n constants\n  dummyDataSet string waterBill\nnodeType kaggle.datasets.heart abstract.fixedDatasetFromOhayoCollection\n tags internetConnectionRequired\n description Heart Disease dataset from https://www.kaggle.com/ronitf/heart-disease-uci\n constants\n  url string /standard-packages/kaggle/heart.csv\nnodeType samples.babyNames abstract.fixedDatasetFromOhayoCollection\n description 30 rows of a much larger dataset of baby name popularity over time in the U.S.\n frequency .03\n constants\n  url string /standard-packages/samples/baby-names-sample.csv\nnodeType samples.flights14 abstract.fixedDatasetFromOhayoCollection\n description On-Time flights data from the Bureau of Transporation Statistics for all the flights that departed from New York City airports in 2014. The data is available only for Jan-Oct'14.\n constants\n  url string /standard-packages/samples/flights14-sample.csv\nnodeType samples.iris abstract.fixedDatasetFromOhayoCollection\n description The famous Iris flower data set.\n frequency .15\n constants\n  url string /standard-packages/samples/iris.tsv\nnodeType samples.mtcars abstract.fixedDatasetFromOhayoCollection\n description Dataset from 1974 Motor Trend US magazine.\n frequency .03\n constants\n  url string /standard-packages/samples/mtcars.tsv\nnodeType samples.populations abstract.fixedDatasetFromOhayoCollection\n description Countries of the world and their populations.\n frequency .15\n constants\n  url string /standard-packages/samples/populations.tsv\nnodeType samples.presidents abstract.fixedDatasetFromOhayoCollection\n description CSV of president's of United States.\n frequency .03\n constants\n  url string /standard-packages/samples/presidents.csv\nnodeType samples.si abstract.fixedDatasetFromOhayoCollection\n description A description of The International System of Units (SI) aka the metric system.\n example View outline of SI system.\n  samples.si\n   treenotation.outline\n frequency .03\n constants\n  url string /standard-packages/samples/si.tree\n  format string text\nnodeType samples.starWars abstract.fixedDatasetFromOhayoCollection\n description All Star Wars characters. Data comes from https://swapi.co/\n frequency .03\n constants\n  url string /standard-packages/samples/starwars.json\nnodeType samples.telescopes abstract.fixedDatasetFromOhayoCollection\n description A partial list of humankind's largest telescopes.\n frequency .03\n example Display list of links to telescope websites.\n  samples.telescopes\n   list.links Name Url\n constants\n  url string /standard-packages/samples/telescopes.tsv\nnodeType ucimlr.datasets abstract.fixedDatasetFromOhayoCollection\n description A list of datasets from the UC Irvine Machine Learning Repository at http://archive.ics.uci.edu/ml/index.php.\n frequency .001\n example Display list of datasets from UCIMLR\n  ucimlr.datasets\n   tables.basic\n constants\n  url string /standard-packages/ucimlr/datasets.tsv\nnodeType vega.data abstract.fixedDatasetFromOhayoCollection\n cells vegaDataSet\n frequency .001\n description Fetchs a Vega sample dataset\n constants\n  urlPrefix string /standard-packages/vega/datasets/\nnodeType hackernews.submissions abstract.hackernews\n description Get a user's comments and submissions\n cells hackerNewsUserName quantity\n example View a users comment and story submissions\n  hackernews.submissions breck 100\n   tables.basic\n    filter.where type = story\n     vega.scatter Stories\n      xColumn time\n      yColumn score\n    filter.where type = comment\n     vega.scatter Comments\n      xColumn time\n      yColumn score\n  layout tree\n constants\n  tileJsConstructor string HackerNewsSubmissionsTile /aientist/client/plugins/hackernews/HackerNewsTiles.js\nnodeType hackernews.top abstract.hackernews\n cells quantity\n description Get the top stories on hackernews\n example A dashboard of the Hacker News homepage.\n  hackernews.top 10\n   rows.sortBy by\n    tables.basic\n     vega.scatter\n      xColumn time\n      yColumn score\n  layout tree\n constants\n  tileJsConstructor string HackerNewsGetAllTile /aientist/client/plugins/hackernews/HackerNewsTiles.js\nnodeType html.h1 abstract.html\n catchAllCellType htmlContent\n description Displays an H1 Header with fixed text\n example A title\n  html.h1 Hello world\n frequency .002\n constants\n  tileJsConstructor string HTMLFixedTagTile /aientist/client/plugins/html/HTMLTiles.js\n  tileSize string 600 75\n  htmlTag string h1\n  style string text-align:center;\nnodeType html.iframe abstract.html\n description Displays an iframe from given url.\n cells url\n constants\n  tileJsConstructor string HTMLContentIsSrcTile /aientist/client/plugins/html/HTMLTiles.js\n  htmlTag string iframe\nnodeType html.img abstract.html\n description Displays an image from given url.\n cells url\n frequency .002\n constants\n  tileJsConstructor string HTMLContentIsSrcTile /aientist/client/plugins/html/HTMLTiles.js\n  htmlTag string img\n  style string width:100%;\nnodeType html.printAs abstract.html\n description Displays input table in the given HTML element.\n cells htmlTextTag\n frequency .002\n constants\n  tileJsConstructor string HTMLDumpTile /aientist/client/plugins/html/HTMLTiles.js\nnodeType html.text abstract.html\n description Displays fixed text in the given HTML element.\n cells htmlTextTag\n catchAllCellType htmlContent\n frequency .002\nnodeType amazon.history abstract.instructions\n description Instructions on how to get your Amazon order history.\n constants\n  content string Step 1. Go to <a target=\"_blank\" href=\"https://www.amazon.com/gp/b2b/reports\">https://www.amazon.com/gp/b2b/reports</a> to download your Amazon order history.<br> Step 2. Drop the CSV onto this page.\nnodeType challenge.list abstract.instructions\n description View all challenges\n constants\n  tileJsConstructor string ChallengeList /aientist/client/plugins/challenge/ChallengeTiles.js\n  title string Try a challenge:\n  itemFormat string {id}. {question}\nnodeType fitbit.all abstract.instructions\n description Instructions on how to get your Fitbit data.\n constants\n  content string Step 1. Go to <a target=\"_blank\" href=\"https://www.fitbit.com/settings/data/export\">https://www.fitbit.com/settings/data/export</a> to download your Fitbit data.<br> Step 2. Drop the CSV onto this page.\nnodeType catchAllNodes.postContent abstract.nonTerminalSetting\n catchAllCellType anyWord\n firstCellType anyWord\nnodeType content abstract.nonTerminalSetting\n catchAllNodeType lineOfContent\nnodeType post abstract.nonTerminalSetting\n catchAllNodeType catchAllNodes.postContent\nnodeType height abstract.pagePosition\nnodeType left abstract.pagePosition\nnodeType top abstract.pagePosition\nnodeType width abstract.pagePosition\nnodeType data.inline abstract.provider\n nodeTypes\n  content\n  format\n  treeLanguage\n frequency .2\n description Store data in your doc, in CSV, TSV, JSON, and other formats.\n example\n  data.inline\n   format csv\n   content\n    petal_length,petal_width,species\n    4.9,1.8,virginica\n    4.9,2,virginica\n    1.5,0.2,setosa\n constants\n  tileJsConstructor string InlineDataTile /aientist/client/plugins/data/InlineDataTile.js\n  tileSize string 280 220\nnodeType debug.parserTest abstract.provider\n description Dumps data on why a certain file parser was chosen.\n example See why a certain file parser was chosen.\n  vega.data descriptions.json\n   debug.parserTest\n    tables.basic\n constants\n  tileJsConstructor string ParserTest /aientist/client/plugins/debug/DebugTiles.js\nnodeType editor.commandHistory abstract.provider\n description Outputs row for each command executed in this Ohayo session.\n example Show what you've done in this tab session.\n  editor.commandHistory\n   tables.basic\n constants\n  tileJsConstructor string AbstractRunTimeProvider /aientist/client/flow/providers/AbstractRunTimeProvider.js\n  method string getCommandsBuffer\nnodeType editor.files abstract.provider\n description Fetch your files in the current working folder.\n example\n  editor.files\n   editor.gallery\n constants\n  tileSize string 140 120\n  tileJsConstructor string ProgramsTile /aientist/client/flow/providers/ProgramsTile.js\nnodeType random.float abstract.provider\n description Generates uniform random floats between min and max.\n cells quantity min max\n example Get 10 random probabilities above .5\n  random.float 10 .5 1\n defaults\n  howMany 30\n  min 0\n  max 1\n constants\n  tileJsConstructor string RandomFloatTile /aientist/client/plugins/random/RandomTiles.js\nnodeType random.int abstract.provider\n description Generates uniform random ints between min and max.\n cells quantity min max\n example Get 30 random numbers between 0 and 100\n  random.int 30 0 100\n defaults\n  howMany 30\n  min 0\n  max 100\n constants\n  tileJsConstructor string RandomIntTile /aientist/client/plugins/random/RandomTiles.js\nnodeType samples.tinyIris abstract.provider\n description A snippet of the Iris dataset.\n constants\n  tileJsConstructor string TinyDataTile /aientist/client/flow/providers/TinyDataTile.js\n  data string\n   petal_length,petal_width,species\n   4.9,1.8,virginica\n   4.2,1.3,versicolor\n   4.9,2,virginica\n   1.5,0.2,setosa\nnodeType show.count abstract.showTile\nnodeType show.max abstract.showTile\nnodeType show.mean abstract.showTile\nnodeType show.median abstract.showTile\nnodeType show.min abstract.showTile\nnodeType show.sum abstract.showTile\nnodeType samples.list abstract.snippetGallery\n description View all available sample tiles\n constants\n  tileJsConstructor string SamplesList /aientist/client/plugins/samples/SampleTiles.js\n  title string All samples:\n  itemFormat string {id} - {description}\nnodeType vega.data.list abstract.snippetGallery\n description View all available Vega datasets\n frequency .001\n constants\n  tileJsConstructor string VegaDataSetList /aientist/client/plugins/vega/VegaLiteTiles.js\n  title string All Vega datasets:\n  itemFormat string {id}\nnodeType vega.example.list abstract.snippetGallery\n description View all available Vega examples\n frequency .001\n constants\n  tileJsConstructor string VegaExamplesList /aientist/client/plugins/vega/VegaLiteTiles.js\n  title string All Vega examples:\n  itemFormat string {id}\nnodeType templates.list abstract.templateGallery\n description View templates\n frequency .11\n constants\n  tileJsConstructor string TemplatesList /aientist/client/plugins/templates/TemplateTiles.js\n  title string All templates:\n  itemFormat string {id} - {description}\nnodeType cameraPosition abstract.terminalSetting\n cells number number number\nnodeType columnLimit abstract.terminalSetting\n description How many columns to show\n cells int\nnodeType format abstract.terminalSetting\n cells formatType\n description CSV, TSV, JSON, etc.\nnodeType genderColumn abstract.terminalSetting\n cells columnName\nnodeType headSize abstract.terminalSetting\n cells columnName\nnodeType hidden abstract.terminalSetting\nnodeType howMany abstract.terminalSetting\n cells quantity\nnodeType maximized abstract.terminalSetting\nnodeType radius abstract.terminalSetting\n cells columnName\nnodeType reduce abstract.terminalSetting\n description Provide information to correctly parse a column.\n example 4 years of seattle weather\n  vega.data seattle-weather.csv\n   date.addColumns\n    group.by year\n     reduce temp_max mean average_max\n     reduce temp_max max max_max\n     reduce temp_min min min_min\n     tables.basic\n cells columnName reductionType newColumnName\nnodeType reduction abstract.terminalSetting\n cells reductionType\nnodeType rowDisplayLimit abstract.terminalSetting\n cells int\n frequency .5\n description Sets the maximum number of rows to show in a tile.\nnodeType size abstract.terminalSetting\n cells number\n description Size of mark.\nnodeType src abstract.terminalSetting\n cells url\nnodeType style abstract.terminalSetting\nnodeType treeLanguage abstract.terminalSetting\n cells supportedTreeLanguage\nnodeType useCache abstract.terminalSetting\n cells boolean\nnodeType editor.helloWorld abstract.text\n description Prints hello world\n example Say hello.\n  editor.helloWorld\n constants\n  content string Ohayo world!\nnodeType help._didyoumean abstract.tile\n tags noPicker\n description Provides suggestions for misspelled tiles.\n constants\n  tileJsConstructor string DidYouMeanTile /aientist/client/tiles/DidYouMeanTile.js\nnodeType help.picker abstract.tile\n description Displays list of available tiles.\n constants\n  tileJsConstructor string PickerTile /aientist/client/tiles/PickerTile.js\n  tileSize string 480 420\nnodeType columns.describe abstract.transformer\n description Computes statistics for each input column.\n example List column information\n  samples.iris\n   columns.describe\n constants\n  tileJsConstructor string ColumnStatsTile /aientist/client/plugins/columns/ColumnTiles.js\nnodeType columns.first abstract.transformer\n cells int\n description Keeps only the first N columns.\n example Drop all but first column\n  samples.iris\n   columns.first 1\n    tables.basic\n constants\n  tileJsConstructor string ColumnsFirstTile /aientist/client/plugins/columns/ColumnTiles.js\nnodeType columns.keep abstract.transformer\n catchAllCellType columnName\n description Keep only the named columns\n example Show 2 columns\n  samples.iris\n   columns.keep Species Petal.Length\n    tables.basic\n constants\n  tileJsConstructor string ColumnKeepTile /aientist/client/plugins/columns/ColumnTiles.js\nnodeType columns.last abstract.transformer\n cells int\n description Keeps only the last N columns.\n example Drop all but 1 column\n  samples.iris\n   columns.last 1\n    tables.basic\n constants\n  tileJsConstructor string ColumnsLastTile /aientist/client/plugins/columns/ColumnTiles.js\nnodeType columns.list abstract.transformer\n description Provides a list of table columns and their types.\n example List columns\n  samples.iris\n   columns.list\n constants\n  tileJsConstructor string ColumnListTile /aientist/client/plugins/columns/ColumnTiles.js\nnodeType columns.setType abstract.transformer\n cells columnName columnType\n description Ohayo attempts to choose the correct column type, but you can override the default with this tile.\n example List column information\n  samples.waterBill\n   columns.keep Amount Gallons\n    columns.setType Gallons year\n     columns.describe\n      tables.basic\n constants\n  tileJsConstructor string ColumnChangeTypeTile /aientist/client/plugins/columns/ColumnTiles.js\nnodeType data.eval abstract.transformer\n description Passes input rows, if any, to a Javascript function and returns transformed or new rows.\n example Generate some data.\n  data.eval\n   content\n    inputRows => [{name: \"Swift\", year: 2015}, {name: \"Kotlin\", year: 2011}]\n   tables.basic\n constants\n  tileJsConstructor string EvalTile /aientist/client/plugins/data/EvalTile.js\n nodeTypes\n  content\nnodeType date.addColumns abstract.transformer\n description Takes an input table with a time column and adds a day, month and year column.\n catchAllCellType dateColumnType\n constants\n  tileJsConstructor string DateAddColumnsTile /aientist/client/plugins/date/DateTiles.js\n  columnPredictionHints\n   sourceColumn isTemporal=true\n nodeTypes\n  sourceColumn\nnodeType filter.where abstract.transformer\n description Each row must meet a certain condition\n cells columnName comparison scalarValue\n example Select rows by a certain text column\n  samples.iris\n   show.count Species\n   filter.where Species = setosa\n    show.count Species\n frequency .01\n constants\n  tileJsConstructor string FilterWhereTile /aientist/client/plugins/filter/FilterTiles.js\n  tileSize string 250 100\nnodeType filter.with abstract.transformer\n description Each row must contain all of these words\n frequency .01\n constants\n  tileJsConstructor string FilterWithTile /aientist/client/plugins/filter/FilterTiles.js\n  tileSize string 250 100\n catchAllCellType anyWord\nnodeType group.by abstract.transformer\n frequency .01\n cells columnName\n nodeTypes\n  reduce\n description Group rows with the same value for a column into one row and provide summary columns.\n example Group rows and display counts for each group.\n  samples.iris\n   group.by Species\n    tables.basic\n constants\n  tileJsConstructor string GroupTile /aientist/client/plugins/group/GroupTile.js\nnodeType join.by abstract.transformer\n catchAllCellType columnName\n description Combines multiple tables into one, linking the rows by the provided key column.\n constants\n  tileJsConstructor string JoinTile /aientist/client/plugins/join/JoinTile.js\nnodeType match.columnsFuzzy abstract.transformer\n description Attempts to fuzzy match words in one column of parent table against words in a column in grandparent table.\n cells columnName columnName\n example Try to match different spellings of country names.\n  samples.gapMinder\n   samples.populations\n    match.columnsFuzzy Country country\n     rows.sortBy confidence\n      rows.reverse\n       tables.basic\n constants\n  tileJsConstructor string FuzzyMatchTile /aientist/client/plugins/match/FuzzyMatchTile.js\n  tileScript string /standard-packages/match/fuse.min.js\nnodeType rows.addIndexColumn abstract.transformer\n description Add an index column to the data.\n constants\n  tileJsConstructor string RowsAddIndexColumn /aientist/client/plugins/rows/RowsTiles.js\nnodeType rows.dropIfMissing abstract.transformer\n cells columnName\n description Drop a row if it is missing a value in a column.\n constants\n  tileJsConstructor string RowsDropMissingTile /aientist/client/plugins/filter/FilterTiles.js\nnodeType rows.first abstract.transformer\n cells int\n description Return the first N rows.\n constants\n  tileJsConstructor string RowsFirstTile /aientist/client/plugins/filter/FilterTiles.js\nnodeType rows.last abstract.transformer\n cells int\n description Return the last N rows.\n constants\n  tileJsConstructor string RowsLastTile /aientist/client/plugins/filter/FilterTiles.js\nnodeType rows.reverse abstract.transformer\n description Reverse the order of the rows\n constants\n  tileJsConstructor string RowsReverseTile /aientist/client/plugins/rows/RowsTiles.js\nnodeType rows.runningTotal abstract.transformer\n cells columnName\n description Add a column that accumulates the running total of a column.\n constants\n  tileJsConstructor string RowsAddCumulativeTotalColumn /aientist/client/plugins/rows/RowsTiles.js\nnodeType rows.shuffle abstract.transformer\n description Shuffle the rows into a random order.\n constants\n  tileJsConstructor string RowsShuffleTile /aientist/client/plugins/rows/RowsTiles.js\nnodeType rows.sortBy abstract.transformer\n catchAllCellType columnName\n description Sort the rows by a column(s).\n example See cheaptest and most expensive months in a family's water bills\n  samples.waterBill\n   rows.sortBy Amount\n    rows.first 1\n     tables.basic Cheapest month\n    rows.reverse\n     rows.first 1\n      tables.basic Most expensive\n  layout tiled\n constants\n  tileJsConstructor string RowsSortByTile /aientist/client/plugins/rows/RowsTiles.js\nnodeType text.lc abstract.transformer\n description Counts the number of lines in the input data.\n constants\n  dummyDataSet string poem\n  tileJsConstructor string LineCount /aientist/client/plugins/text/LineCount.js\nnodeType text.split abstract.transformer\n description Split one column into multiple by a string\n cells columnName delimiter\n catchAllCellType newColumnNames\n example Split a filename into name and extension\n  vega.data descriptions.json\n   text.split filename . name extension\n    tables.basic\n constants\n  dummyDataSet string poem\n  tileJsConstructor string SplitText /aientist/client/plugins/text/TextTiles.js\nnodeType text.substring abstract.transformer\n description Extract parts of one column into another column.\n cells columnName newColumnName startIndex length\n example Select the first character of someone's name\n  samples.presidents\n   text.substring name firstLetter 0 1\n    tables.basic\n constants\n  dummyDataSet string poem\n  tileJsConstructor string TextSubstringTile /aientist/client/plugins/text/TextTiles.js\nnodeType text.wc abstract.transformer\n description Word counter\n constants\n  dummyDataSet string poem\n  tileJsConstructor string WordCount /aientist/client/plugins/text/WordCount.js\nnodeType treenotation.wordTypes abstract.transformer\n description Generates the word types for a Tree Language program.\n example See counts of word types in a Tree Language program.\n  treenotation.wordTypes\n   treenotation.outline\n   text.wc\n    tables.basic\n constants\n  tileJsConstructor string TreeNotationWordTypesTile /aientist/client/plugins/treenotation/TreeNotationWordTypesTile.js\n  dummyDataSet string treeProgram\nnodeType disk.browse abstract.url\n frequency .01\n tags localVersion\n catchAllCellType path\n description An interactive list of files and folders.\n constants\n  tileJsConstructor string DiskBrowseTile /aientist/client/plugins/disk/DiskTiles.js\n  tileSize string 500 500\nnodeType disk.read abstract.url\n frequency .01\n tags localVersion\n description Reads a file from disk.\n constants\n  urlPrefix string /disk.read?path=\nnodeType web.get abstract.url\n description Get a URL and parse the fetched data.\n example Fetch a TSV from the web and show results\n  web.get https://raw.githubusercontent.com/breck7/ohayo/master/standard-packages/samples/iris.tsv\n   tables.basic\n frequency .1\n constants\n  tileJsConstructor string WebGetTile /aientist/client/plugins/web/WebGetTile.js\n  tileSize string 400 100\nnodeType web.post abstract.url\n frequency .02\n description Post data to a URL and parse the returned data.\n nodeTypes\n  post\n constants\n  tileJsConstructor string WebPostTile /aientist/client/plugins/web/WebPostTile.js\n  tileSize string 400 130\nnodeType reddit.all abstract.urlNoCells\n tags internetConnectionRequired\n description Fetches top stories from r/all.\n example A simple reddit dashboard\n  reddit.all\n   hidden\n   columns.keep title created_utc score subreddit url\n    hidden\n    rows.sortBy score\n     rows.reverse\n      tables.basic Top Stories on Reddit\n    vega.scatter\n     yColumn score\n     xColumn created_utc\n  layout bin\n frequency .05\n constants\n  tileJsConstructor string RedditTile /aientist/client/plugins/reddit/RedditTiles.js\n  url string https://www.reddit.com/r/all/top/.json?sort=top\n  offlineDataSet string /standard-packages/reddit/all.json\nnodeType vega.bar abstract.vega\n description A bar chart\n constants\n  tileJsConstructor string VegaLiteBarTile /aientist/client/plugins/vega/VegaLiteTiles.js\n  columnPredictionHints\n   xColumn\n   yColumn isString=false,!xColumn\n nodeTypes\n  xColumn\n  yColumn\nnodeType vega.example abstract.vega\n description Shows a chart from the Vega Example Gallery\n frequency .001\n cells vegaExampleName\n example\n  vega.example trellis_anscombe\n constants\n  tileJsConstructor string VegaFromExampleTile /aientist/client/plugins/vega/VegaLiteTiles.js\nnodeType vega.histogram abstract.vega\n description A histogram\n constants\n  tileJsConstructor string VegaLiteHistogramTile /aientist/client/plugins/vega/VegaLiteTiles.js\n  columnPredictionHints\n   xColumn isString=false\n  dummyDataSet string wordCounts\n nodeTypes\n  xColumn\nnodeType data.localStorage data.inline\n cells localStorageKey\n description Use your browser's localStorage for storing data.\n example\n  data.localStorage a-dropped-file.csv\n constants\n  tileJsConstructor string LocalStorageDataTile /aientist/client/plugins/data/LocalStorageDataTile.js\nnodeType web.dump debug.dump\n frequency .02\n description Dump the raw text from the web request.\n constants\n  tileJsConstructor string WebDumpTile /aientist/client/plugins/web/WebDumpTile.js\nnodeType filter.without filter.with\n description Each row CANNOT contain any of these words\n constants\n  tileJsConstructor string FilterWithoutTile /aientist/client/plugins/filter/FilterTiles.js\nnodeType html.any html.custom\n description Display custom HTML, but currently only allows a few tags, including script.\n constants\n  allowedTags string img h1 p div pre a script\n  allowedAttributes string\n   a href name target\n   img src\n   script src\nnodeType icons.circle icons._icon\n description Displays a simple icon for each row of your data.\n example\n  samples.iris\n   icons.circle\n    radius Petal.Length\n nodeTypes\n  radius\n constants\n  columnPredictionHints\n   radius isString=false\n  tileJsConstructor string CircleIconTile /aientist/client/plugins/icons/IconTiles.js\n  dummyDataSet string playerGoals\nnodeType icons.human icons._icon\n description Assuming each row in your data represents a human, creates a human icon.\n example\n  samples.patients\n   icons.human\n nodeTypes\n  genderColumn\n  headSize\n constants\n  columnPredictionHints\n   headSize isString=false\n   genderColumn isString=true\n  tileJsConstructor string HumanIconTile /aientist/client/plugins/icons/IconTiles.js\n  dummyDataSet string patients\nnodeType list.links list.basic\n description Show 1 column as a list of links, using 1 column for the url.\n catchAllCellType columnName\n example List of world's telescopes with links\n  samples.telescopes\n   list.links\n nodeTypes\n  label\n  link\n constants\n  dummyDataSet string telescopes\n  tileJsConstructor string ListWithLinksTile /aientist/client/plugins/list/ListTiles.js\n  columnPredictionHints\n   label getTitlePotential\n   link isLink\nnodeType reddit.sub reddit.all\n cells subredditName\n frequency .006\n description Fetches top stories in a subreddit.\n constants\n  tileJsConstructor string SubRedditTile /aientist/client/plugins/reddit/RedditTiles.js\nnodeType reddit.subs reddit.all\n description Fetches top subreddits.\n frequency .005\n constants\n  url string https://www.reddit.com/reddits.json\n  tileJsConstructor string SubRedditsTile /aientist/client/plugins/reddit/RedditTiles.js\nnodeType tables.dump tables.basic\n description Prints data with no formatting or column reordering.\n frequency .01\n constants\n  columnOrder string default\nnodeType tables.interesting tables.basic\n frequency .01\n description Prints most interesting columns.\n constants\n  columnOrder string importance\nnodeType treenotation.dotline treenotation.outline\n description A simple pretty icon-only visualization of the structure of a Tree Notation doc.\n example Outer space\n  samples.outerSpace\n   treenotation.dotline\n constants\n  dots boolean true\n  dummyDataSet string outerSpace\n  tileJsConstructor string DotLine /aientist/client/plugins/treenotation/TreeTiles.js\nnodeType vega.emoji vega.bar\n description A bar chart with emojis\n frequency .001\n constants\n  columnPredictionHints\n   emojiColumn isString=true\n   yColumn isString=false\n  dummyDataSet string emojis\n  tileJsConstructor string VegaLiteEmojiTile /aientist/client/plugins/vega/VegaLiteTiles.js\n nodeTypes\n  yColumn\n  emojiColumn\nnodeType vega.line vega.bar\n description A line chart\n constants\n  mark string line\nnodeType vega.scatter vega.bar\n description A scatterplot\n constants\n  mark string point\n  tileJsConstructor string VegaLiteScatterTile /aientist/client/plugins/vega/VegaLiteTiles.js\nnodeType vega.area vega.line\n description An area chart\n constants\n  mark string area\nnodeType vega.bubble vega.scatter\n description A bubble plot\n constants\n  mark string circle\n  tileJsConstructor string VegaLiteBubbleTile /aientist/client/plugins/vega/VegaLiteTiles.js\n  dummyDataSet string gapMinder\n  columnPredictionHints\n   sizeColumn isString=false\n   xColumn isString=false\n nodeTypes\n  sizeColumn\n  colorColumn",ChallengesTree=
'challenge\n id 1\n question How many U.S. Presidents were born in California?\n answer 2\n difficulty easy\n solution\n  samples.presidents\n   filter.with California\n    tables.basic\nchallenge\n id 2\n question What is the score of the highest rated movie on IMDB?\n answer 9.2\n difficulty easy\n solution\n  vega.data movies.json\n   columns.keep Title IMDB_Rating\n    filter.where IMDB_Rating > 0\n     rows.sortBy IMDB_Rating\n      rows.reverse\n       tables.basic\nchallenge\n id 3\n question How many movies are rated 8+ on IMDB?\n answer 157\n difficulty easy\n solution\n  vega.data movies.json\n   filter.where IMDB_Rating > 8\n    columns.keep Title IMDB_Rating\n     tables.basic\nchallenge\n id 4\n question In the sample dataset "waterBill", what is the median monthly water bill?\n answer 65.03\n difficulty easy\n solution\n  samples.waterBill\n   columns.describe\n    columns.keep Column median\n     tables.basic',
TemplatesStamp="file templates/git-repo-dashboard.flow\n data\n  html.h1 Desktop Only: Statistics for Local Git Repo\n  web.get http://localhost:2222/shell?command=gitlog&cwd=/aientist/\n   date.addColumns\n    group.by day\n     date.heatcal\n      count count\n     show.median count Median Commits Per Coding Day\n     show.count count # Coding Days\n    group.by month\n     vega.line Monthly Commit Trends\n      xColumn month\n      yColumn count\n     vega.bar Days worked by month\n      xColumn month\n      yColumn count\n   show.count author Total Commits\n   show.max time Most Recent Commit\n   show.min time First Commit\n  layout bin\nfile templates/loc-with-bars.flow\n data\n  html.h1 Desktop Only: Analyze lines of code in a folder\n  web.get /disk?path=/aientist/client&lineStats=true&recursive=true\n   filter.without .DS_Store min.js node_modules ignore package-lock.json\n    show.sum lines Total LoC\n    columns.keep name extension lines words bytes wordsPerLine\n     rows.sortBy lines\n      rows.reverse\n       tables.basic Files in client\n    group.by extension\n     reduce words sum words\n     reduce bytes sum bytes\n     reduce lines sum lines\n     vega.bar Lines of Code\n      yColumn lines\n     vega.bar Words\n      yColumn words\n     tables.basic Top Extensions\n  layout column\nfile templates/reddit.flow\n data\n  html.h1 Top Stories on Reddit\n  reddit.all\n   hidden\n   columns.keep title created_utc score subreddit url\n    hidden\n    rows.sortBy score\n     rows.reverse\n      tables.basic Top Stories on Reddit\n    vega.scatter\n     yColumn score\n     xColumn created_utc\n    vega.bar Top Stories on Reddit Right Now\n     yColumn score\n  layout bin\nfile templates/trends-in-baby-names.flow\n data\n  html.h1 Trends in Baby Names\n  # Uncomment the below line, and delete the following line, to use the full dataset\n  # web.get https://raw.githubusercontent.com/hadley/data-baby-names/master/baby-names.csv\n  samples.babyNames\n   filter.where name = Aria\n    filter.where sex = girl\n     vega.line\n      xColumn year\n      yColumn percent\n  layout column\nfile templates/trends-in-git-commits.flow\n data\n  html.h1 Desktop Only: Trends in Git Commits\n  web.get http://localhost:2222/shell?command=gitlog&cwd=/aientist/\n   date.addColumns\n    group.by day\n     group.by month\n      vega.line Deploy Trends\n       xColumn month\n       yColumn count\n      vega.bar Days worked by month\n       xColumn month\n       yColumn count\n     date.heatcal\n      count count\n     show.median count Per Day\n     show.count count Days Worked\n    group.by dayName\n     vega.bar By day of week\n      xColumn dayName\n      yColumn count\n    group.by timeOfDay\n     vega.bar\n      xColumn timeOfDay\n      yColumn count\n   show.count author Total\n   show.max time Most Recent\n  layout bin\nfile templates/ucimlr-overview.flow\n data\n  html.h1 UCIMLR Dataset Overview\n  layout column\n  ucimlr.datasets\n   show.count Name Total Datasets\n   group.by Category\n    vega.bar\n   # Filter out missing data:\n   filter.where Year > 1910\n    group.by Year\n     columns.setType Year year\n      vega.bar\n       xColumn Year\n       yColumn count\n",
OhayoAppDrums="panel new createNewBlankProgramCommand ctrl+n New file\nmounted new cloneTabCommand ctrl+shift+n Clone file\npanel new createMiniMapCommand shift+m Browse files\nmounted new createNewSourceCodeVisualizationProgramCommand shift+v Source Code Visualizer\nmounted file saveTabAndNotifyCommand command+s Save file\nmounted file showTabMoveFilePromptCommand ctrl+shift+r Move file\nmounted file typeCheckProgramCommand shift+c Type Check file\nmounted file showDeleteFileConfirmDialogCommand shift+backspace Delete file\npanel file openDeleteAllTabsPromptCommand command+shift+d Delete all open files\nmounted navigation closeMountedProgramCommand ctrl+w Close focused tab\npanel navigation closeAllTabsCommand ctrl+shift+w Close all tabs\nmounted navigation mountPreviousTabCommand shift+left Previous tab\nmounted navigation mountNextTabCommand shift+right Next tab\npanel navigation openFullDiskFilePathPromptCommand shift+o Open file from path\npanel navigation openFolderPromptCommand command+shift+o Open folder\npanel navigation changeWorkingFolderPromptCommand  Change working folder\nmounted selection selectAllTilesCommand command+a Select all tiles\nmounted selection selectNextTileCommand shift+down Select next tile\nmounted selection selectPreviousTileCommand shift+up Select previous Tile\nmounted selection deleteSelectionCommand backspace Delete Selection\nmounted selection duplicateSelectionCommand command+d Duplicate Selection\npanel window toggleThemeCommand shift+t Toggle Theme\npanel window toggleGutterCommand shift+u Toggle Source Editor Gutter\npanel window toggleFullScreenCommand shift+f Toggle Full Screen\npanel window toggleFocusedModeCommand command+shift+f Toggle Focused Mode\npanel window closeModalCommand escape Close any open modal\nmounted window clearTabMessagesCommand command+\\ Clear tab messages\npanel window toggleAutoSaveCommand shift+s Toggle autosave\nmounted window fetchAndReloadFocusedTabCommand shift+r Re-download and refresh tab\nmounted code saveCompiledCommand command+b Save compiled code\nmounted code executeProgramCommand shift+e Execute Code\nmounted edit toggleLayoutCommand shift+l Toggle layout\nmounted edit undoFocusedProgramCommand command+z Undo\nmounted edit redoFocusedProgramCommand command+shift+z Redo\nmounted edit insertAdjacentTileCommand shift+i Insert Tile\npanel ohayo toggleHelpCommand ? Help\npanel ohayo confirmAndResetAppStateCommand command+shift+i Reset Ohayo\npanel test _runSpeedTestCommand ctrl+shift+m\npanel test _runTileQualityCheckCommand ctrl+shift+g",
OhayoGrammarConstants={gutter:"gutter",terminal:"terminal",console:"console",theme:"theme",menu:"menu",wall:"wall",flex:"flex",newDropDownMenu:"newDropDownMenu",windowSize:"windowSize",panel:"panel",tabs:"tabs",helpModal:"helpModal",tileContextMenu:"tileContextMenu",tabContextMenu:"tabContextMenu",DropDownMenuSubstring:"DropDownMenu"};window.OhayoGrammarConstants=OhayoGrammarConstants;const Version="12.0.0";"undefined"!==typeof exports&&(module.exports=Version);const CodeMirrorConstants={options:{}};
CodeMirrorConstants.options.theme="theme";CodeMirrorConstants.themes={};CodeMirrorConstants.themes.oceanicNext="oceanic-next";CodeMirrorConstants.themes.default="default";CodeMirrorConstants.events={};CodeMirrorConstants.events.blur="blur";CodeMirrorConstants.events.gutterClick="gutterClick";CodeMirrorConstants.keyMap={};CodeMirrorConstants.keyMap.cmdEnter="Cmd-Enter";CodeMirrorConstants.keyMap.shiftCmdEnter="Shift-Cmd-Enter";CodeMirrorConstants.keyMap.cmdBackSlash="Cmd-\\";
CodeMirrorConstants.keyMap.cmdS="Cmd-S";window.CodeMirrorConstants=CodeMirrorConstants;
const CodeMirrorCss=".CodeMirror {\n  font-family: monospace;\n  height: 300px;\n  color: #000\n}\n\n.CodeMirror-lines {\n  padding: 4px 0\n}\n\n.CodeMirror pre {\n  padding: 0 4px\n}\n\n.CodeMirror-scrollbar-filler,\n.CodeMirror-gutter-filler {\n  background-color: #fff\n}\n\n.CodeMirror-gutters {\n  border-right: 0;\n  background-color: #f7f7f7;\n  white-space: nowrap\n}\n\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap\n}\n\n.CodeMirror-guttermarker {\n  color: #000\n}\n\n.CodeMirror-guttermarker-subtle {\n  color: #999\n}\n\n.CodeMirror-cursor {\n  border-left: 1px solid #000;\n  border-right: none;\n  width: 0\n}\n\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver\n}\n\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0!important;\n  background: #7e7\n}\n\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1\n}\n\n.cm-animate-fat-cursor {\n  width: auto;\n  border: 0;\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n  background-color: #7e7\n}\n\n@-moz-keyframes blink {\n  50% {\n    background-color: transparent\n  }\n}\n\n@-webkit-keyframes blink {\n  50% {\n    background-color: transparent\n  }\n}\n\n@keyframes blink {\n  50% {\n    background-color: transparent\n  }\n}\n\n.cm-tab {\n  display: inline-block;\n  text-decoration: inherit\n}\n\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: -50px;\n  bottom: -20px;\n  overflow: hidden\n}\n\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0;\n  bottom: 0;\n  position: absolute\n}\n\n.cm-s-default .cm-header {\n  color: blue\n}\n\n.cm-s-default .cm-quote {\n  color: #090\n}\n\n.cm-negative {\n  color: #d44\n}\n\n.cm-positive {\n  color: #292\n}\n\n.cm-header,\n.cm-strong {\n  font-weight: 700\n}\n\n.cm-em {\n  font-style: italic\n}\n\n.cm-link {\n  text-decoration: underline\n}\n\n.cm-strikethrough {\n  text-decoration: line-through\n}\n\n.cm-s-default .cm-keyword {\n  color: #708\n}\n\n.cm-s-default .cm-atom {\n  color: #219\n}\n\n.cm-s-default .cm-number {\n  color: #164\n}\n\n.cm-s-default .cm-def {\n  color: #00f\n}\n\n.cm-s-default .cm-variable-2 {\n  color: #05a\n}\n\n.cm-s-default .cm-variable-3,\n.cm-s-default .cm-type {\n  color: #085\n}\n\n.cm-s-default .cm-comment {\n  color: #a50\n}\n\n.cm-s-default .cm-string {\n  color: #a11\n}\n\n.cm-s-default .cm-string-2 {\n  color: #f50\n}\n\n.cm-s-default .cm-meta {\n  color: #555\n}\n\n.cm-s-default .cm-qualifier {\n  color: #555\n}\n\n.cm-s-default .cm-builtin {\n  color: #30a\n}\n\n.cm-s-default .cm-bracket {\n  color: #997\n}\n\n.cm-s-default .cm-tag {\n  color: #170\n}\n\n.cm-s-default .cm-attribute {\n  color: #00c\n}\n\n.cm-s-default .cm-hr {\n  color: #999\n}\n\n.cm-s-default .cm-link {\n  color: #00c\n}\n\n.cm-s-default .cm-error {\n  color: red\n}\n\n.cm-invalidchar {\n  color: red\n}\n\n.CodeMirror-composing {\n  border-bottom: 2px solid\n}\n\ndiv.CodeMirror span.CodeMirror-matchingbracket {\n  color: #0f0\n}\n\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {\n  color: #f22\n}\n\n.CodeMirror-matchingtag {\n  background: rgba(255, 150, 0, .3)\n}\n\n.CodeMirror-activeline-background {\n  background: #e8f2ff\n}\n\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: #fff\n}\n\n.CodeMirror-scroll {\n  overflow: scroll!important;\n  margin-bottom: -30px;\n  margin-right: -30px;\n  padding-bottom: 30px;\n  height: 100%;\n  outline: none;\n  position: relative\n}\n\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 30px solid transparent\n}\n\n.CodeMirror-vscrollbar,\n.CodeMirror-hscrollbar,\n.CodeMirror-scrollbar-filler,\n.CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none\n}\n\n.CodeMirror-vscrollbar {\n  right: 0;\n  top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll\n}\n\n.CodeMirror-hscrollbar {\n  bottom: 0;\n  left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll\n}\n\n.CodeMirror-scrollbar-filler {\n  right: 0;\n  bottom: 0\n}\n\n.CodeMirror-gutter-filler {\n  left: 0;\n  bottom: 0\n}\n\n.CodeMirror-gutters {\n  position: absolute;\n  left: 0;\n  top: 0;\n  min-height: 100%;\n  z-index: 3\n}\n\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -30px\n}\n\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none!important;\n  border: none!important\n}\n\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  z-index: 4\n}\n\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4\n}\n\n.CodeMirror-gutter-wrapper ::selection {\n  background-color: transparent\n}\n\n.CodeMirror-gutter-wrapper ::-moz-selection {\n  background-color: transparent\n}\n\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px\n}\n\n.CodeMirror pre {\n  -moz-border-radius: 0;\n  -webkit-border-radius: 0;\n  border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  font-variant-ligatures: contextual\n}\n\n.CodeMirror-wrap pre {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal\n}\n\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 0\n}\n\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  overflow: auto\n}\n\n.CodeMirror-rtl pre {\n  direction: rtl\n}\n\n.CodeMirror-code {\n  outline: none\n}\n\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box\n}\n\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden\n}\n\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none\n}\n\n.CodeMirror-measure pre {\n  position: static\n}\n\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3\n}\n\ndiv.CodeMirror-dragcursors {\n  visibility: visible\n}\n\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible\n}\n\n.CodeMirror-selected {\n  background: #d9d9d9\n}\n\n.CodeMirror-focused .CodeMirror-selected {\n  background: #d7d4f0\n}\n\n.CodeMirror-crosshair {\n  cursor: crosshair\n}\n\n.CodeMirror-line::selection,\n.CodeMirror-line>span::selection,\n.CodeMirror-line>span>span::selection {\n  background: #d7d4f0\n}\n\n.CodeMirror-line::-moz-selection,\n.CodeMirror-line>span::-moz-selection,\n.CodeMirror-line>span>span::-moz-selection {\n  background: #d7d4f0\n}\n\n.cm-searching {\n  background: #ffa;\n  background: rgba(255, 255, 0, .4)\n}\n\n.cm-force-border {\n  padding-right: .1px\n}\n\n@media print {\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden\n  }\n}\n\n.cm-tab-wrap-hack:after {\n  content: ''\n}\n\nspan.CodeMirror-selectedtext {\n  background: none\n}\n\n.CodeMirror-hints {\n  position: absolute;\n  z-index: 10;\n  overflow: hidden;\n  list-style: none;\n  margin: 0;\n  padding: 2px;\n  -webkit-box-shadow: 2px 3px 5px rgba(0, 0, 0, .2);\n  -moz-box-shadow: 2px 3px 5px rgba(0, 0, 0, .2);\n  box-shadow: 2px 3px 5px rgba(0, 0, 0, .2);\n  border-radius: 3px;\n  border: 1px solid silver;\n  background: #fff;\n  font-size: 90%;\n  font-family: monospace;\n  max-height: 20em;\n  overflow-y: auto\n}\n\n.CodeMirror-hint {\n  margin: 0;\n  padding: 0 4px;\n  border-radius: 2px;\n  white-space: pre;\n  color: #000;\n  cursor: pointer\n}\n\nli.CodeMirror-hint-active {\n  background: #08f;\n  color: #fff\n}\n\n.CodeMirror, .CodeMirror .CodeMirror-gutters { background: transparent;}\n\n.cm-s-oceanic-next.CodeMirror { background: #304148; color: #f8f8f2; }\n\n.cm-s-oceanic-next div.CodeMirror-selected { background: rgba(101, 115, 126, 0.33); }\n.cm-s-oceanic-next .CodeMirror-line::selection, .cm-s-oceanic-next .CodeMirror-line > span::selection, .cm-s-oceanic-next .CodeMirror-line > span > span::selection { background: rgba(101, 115, 126, 0.33); }\n.cm-s-oceanic-next .CodeMirror-line::-moz-selection, .cm-s-oceanic-next .CodeMirror-line > span::-moz-selection, .cm-s-oceanic-next .CodeMirror-line > span > span::-moz-selection { background: rgba(101, 115, 126, 0.33); }\n.cm-s-oceanic-next .CodeMirror-gutters { background: #304148; border-right: 10px; }\n.cm-s-oceanic-next .CodeMirror-guttermarker { color: white; }\n.cm-s-oceanic-next .CodeMirror-guttermarker-subtle { color: #d0d0d0; }\n.cm-s-oceanic-next .CodeMirror-linenumber { color: #d0d0d0; }\n.cm-s-oceanic-next .CodeMirror-cursor { border-left: 1px solid #f8f8f0; }\n\n.cm-s-oceanic-next span.cm-comment { color: #65737E; }\n.cm-s-oceanic-next span.cm-atom { color: #C594C5; }\n.cm-s-oceanic-next span.cm-number { color: #F99157; }\n\n.cm-s-oceanic-next span.cm-property { color: #99C794; }\n.cm-s-oceanic-next span.cm-attribute,\n.cm-s-oceanic-next span.cm-keyword { color: #C594C5; }\n.cm-s-oceanic-next span.cm-builtin { color: #66d9ef; }\n.cm-s-oceanic-next span.cm-string { color: #99C794; }\n\n.cm-s-oceanic-next span.cm-variable,\n.cm-s-oceanic-next span.cm-variable-2,\n.cm-s-oceanic-next span.cm-variable-3 { color: #f8f8f2; }\n.cm-s-oceanic-next span.cm-def { color: #6699CC; }\n.cm-s-oceanic-next span.cm-bracket { color: #5FB3B3; }\n.cm-s-oceanic-next span.cm-tag { color: #C594C5; }\n.cm-s-oceanic-next span.cm-header { color: #C594C5; }\n.cm-s-oceanic-next span.cm-link { color: #C594C5; }\n.cm-s-oceanic-next span.cm-error { background: #C594C5; color: #f8f8f0; }\n\n.cm-s-oceanic-next .CodeMirror-activeline-background { background: rgba(101, 115, 126, 0.33); }\n.cm-s-oceanic-next .CodeMirror-matchingbracket {\n  text-decoration: underline;\n  color: white !important;\n}\n\n.cm-s-oceanic-next.CodeMirror, .cm-s-oceanic-next .CodeMirror-gutters{background: transparent;}\n\n".replace(/\n/g,"");
window.CodeMirrorCss=CodeMirrorCss;class AbstractCommander{constructor(a){this._target=a}getTarget(){return this._target}}window.AbstractCommander=AbstractCommander;
class ChiselCommander extends AbstractCommander{stopPropagationCommand(){}clearMessageBufferCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){delete a.getTarget()._messageBuffer})}unmountAndDestroyCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.getTarget().unmountAndDestroy()})}}window.ChiselCommander=ChiselCommander;
class AbstractChisel extends jtree.TreeNode{getApp(){return this.getRootNode()}getParseErrorCount(){return this.length?this.getTopDownArray().map(a=>a.getParseErrorCount()).reduce((a,b)=>a+b):0}getCommander(){return new ChiselCommander(this)}getStumpNode(){return this._htmlStumpNode}isNodeJs(){return"undefined"!==typeof exports}getHakon(){return""}getTheme(){return this.getApp().getTheme()}getCommandsBuffer(){this._commandsBuffer||(this._commandsBuffer=[]);return this._commandsBuffer}addToCommandLog(a){this.getCommandsBuffer().push({command:a,
time:this._getProcessTimeInMilliseconds()})}getMessageBuffer(){this._messageBuffer||(this._messageBuffer=new jtree.TreeNode);return this._messageBuffer}addStumpCodeMessageToLog(a){this.getMessageBuffer().appendLineAndChildren("message",a)}addStumpErrorMessageToLog(a){return this.addStumpCodeMessageToLog(`div
 class OhayoError
 bern${jtree.TreeNode.nest(a,2)}`)}logMessageText(a){a=`pre
 bern${jtree.TreeNode.nest(void 0===a?"":a,2)}`;return this.addStumpCodeMessageToLog(a)}unmount(){this.isMounted()&&(this._getChildChisels().forEach(a=>a.unmount()),this.chiselWillUnmount(),this._removeCss(),this._removeHtml(),delete this._lastRenderedTime,this.chiselDidUnmount())}_removeHtml(){this._htmlStumpNode.removeStumpNode();delete this._htmlStumpNode}getStumpCode(){return`div
 class ${this.constructor.name}`}chiselWillMount(){}chiselDidMount(){void 0===AbstractChisel._mountedChisels&&(AbstractChisel._mountedChisels=0);AbstractChisel._mountedChisels++}chiselDidUnmount(){AbstractChisel._mountedChisels--}chiselWillUnmount(){}forceUpdate(){}getNewestTimeToRender(){return this._lastTimeToRender}_setLastRenderedTime(a){this._lastRenderedTime=a;return this}chiselDidUpdate(){}_getChildChisels(){return this.getChildrenByNodeConstructor(AbstractChisel)}makeAllDirty(){this.makeDirty();
this._getChildChisels().forEach(a=>a.makeAllDirty())}_hasChildrenChisels(){return 0<this._getChildChisels().length}getStumpNodeForChildren(){return this.getStumpNode()}_getLastRenderedTime(){return this._lastRenderedTime}makeDirty(){this._setLastRenderedTime(0)}_getCss(){return this.getTheme().hakonToCss(this.getHakon())}_getCssStumpCode(){return`styleTag
 data-styleFor ${this.constructor.name}
 bern${jtree.TreeNode.nest(this._getCss(),2)}`}isNotATile(){return!0}_updateAndGetUpdateResult(){if(!this._shouldChiselUpdate())return{chiselDidUpdate:!1,reason:"_shouldChiselUpdate is false"};this._setLastRenderedTime(this._getProcessTimeInMilliseconds());this._removeCss();this._mountCss();if(this.isNotATile()&&this._hasChildrenChisels())return{chiselDidUpdate:!1,reason:"is a parent"};this.updateHtml();this._lastTimeToRender=this._getProcessTimeInMilliseconds()-this._getLastRenderedTime();return{chiselDidUpdate:!0}}_getWrappedStumpCode(a){return this.getStumpCode(a)}updateHtml(){const a=
this._htmlStumpNode.getParent(),b=this._htmlStumpNode.getIndex();this._removeHtml();this._mountHtml(a,b)}unmountAndDestroy(){this.unmount();return this.destroy()}toggle(a,b){var c=this.getNode(a);if(!b)return c?c.unmountAndDestroy():this.appendLine(a);c=void 0===c?void 0:c.getContent();c=b.indexOf(c);b=-1===c||c+1===b.length?b[0]:b[c+1];this.delete(a);b&&this.touchNode(a).setContent(b);return b}isMounted(){return!!this._htmlStumpNode}getNextOrPrevious(a){const b=a.length,c=a.indexOf(this);if(1!==
b)return c===b-1?a[c-1]:a[c+1]}toggleAndRender(a,b){this.toggle(a,b);this.getApp().renderApp()}_getFirstOutdatedDependency(a){a=void 0===a?this._getLastRenderedTime()||0:a;return this.getDependencies().find(b=>b.getMTime()>a)}_getReasonForUpdatingOrNot(){const a=this.getMTime(),b=this._getLastRenderedTime()||0;var c=a-b;return 0===b?{shouldUpdate:!0,reason:"Chisel hasn't been rendered yet",staleTime:c}:0<c?{shouldUpdate:!0,reason:"Chisel itself changed",staleTime:c}:(c=this._getFirstOutdatedDependency(b))?
{shouldUpdate:!0,reason:"A dependency changed",dependency:c,staleTime:c.getMTime()-b}:{shouldUpdate:!1,reason:"No render needed",lastRenderedTime:b,mTime:a}}getDependencies(){return[]}getChildrenThatNeedRendering(){const a=[];this._getChiselsThatNeedRendering(a);return a}_shouldChiselUpdate(){return this._getReasonForUpdatingOrNot().shouldUpdate}_getChiselsThatNeedRendering(a){this._getChildChisels().forEach(b=>{b.isMounted()&&!b._shouldChiselUpdate()||a.push({child:b,childUpdateBecause:b._getReasonForUpdatingOrNot()});
b._getChiselsThatNeedRendering(a)})}_mount(a,b){this._setLastRenderedTime(this._getProcessTimeInMilliseconds());this.chiselWillMount();this._mountCss(a);this._mountHtml(a,b);this._lastTimeToRender=this._getProcessTimeInMilliseconds()-this._getLastRenderedTime();return this}_mountCss(a){this._cssStumpNode=this.getApp().getWillowProgram().getHeadStumpNode().insertCssChildNode(this._getCssStumpCode())}_removeCss(){this._cssStumpNode.removeCssStumpNode();delete this._cssStumpNode}_mountHtml(a,b){this._htmlStumpNode=
a.insertChildNode(this._getWrappedStumpCode(b),b);this._htmlStumpNode.setStumpNodeChisel||console.log(this._htmlStumpNode);this._htmlStumpNode.setStumpNodeChisel(this)}_chiselDidUpdate(){this.chiselDidUpdate()}_chiselDidMount(){this.chiselDidMount()}renderAndGetRenderResult(a,b){const c=this.isMounted();let d={chiselDidUpdate:!1};c?d=this._updateAndGetUpdateResult():this._mount(a,b);const e=this.getStumpNodeForChildren();a=this._getChildChisels();this.getApp().getPerfSettings().max10tiles&&(a=a.slice(0,
10));a=a.map((a,b)=>a.renderAndGetRenderResult(e,b));if(c){if(d.chiselDidUpdate)try{this._chiselDidUpdate()}catch(f){console.error(f)}}else try{this._chiselDidMount()}catch(f){console.error(f)}return{type:c?"update":"mount",chiselUpdateResult:d,children:a}}}window.AbstractChisel=AbstractChisel;
class ConsoleChisel extends AbstractChisel{_getConsoleOutput(){const a=this._getMessageBuffer().map(a=>a.childrenToString());a.reverse();return a.join("\n")}_getHeight(){return Math.floor(.3*(this.getApp().getBodyShadowDimensions().height-60))}getHakon(){return`.consoleOutput
 height ${this._getHeight()}px
 overflow scroll
 font-family monospace
 white-space nowrap
 div
  margin-top 2px`}_getMessageBuffer(){const a=this.getApp(),b=a.getMountedTab();return b?b.getMessageBuffer():a.getMessageBuffer()}getDependencies(){const a=this.getParent().getGutterDependencies(),b=this._getMessageBuffer();b.length?a.push(b.nodeAt(-1)):a.push(new jtree.TreeNode);a.push(this.getParent().getParent());return a}getStumpCode(){const a=this._getConsoleOutput();return`div
 class consoleOutput${jtree.TreeNode.nest(a,1)}`}}window.ConsoleChisel=ConsoleChisel;class ThemeChisel extends AbstractChisel{getStumpCode(){const a=this.getTheme();return`styleTag ${CodeMirrorCss} .CodeMirror{color: ${a.mediumBlack};}`}getHakon(){const a=this.getTheme();return`${"html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,audio,video\n margin 0\n padding 0\n border 0\n font-size 100%\n font inherit\n vertical-align baseline\narticle,aside,figcaption,figure,footer,header,hgroup,menu,nav,section\n display block\nbody\n line-height 1.3\n overscroll-behavior-x none\nol,ul\n list-style none\ntable\n border-collapse collapse\n border-spacing 0"}

html,body
 width 100%
 height 100%
 margin 0
 padding 0
 font-family ${a.fonts}
 color ${a.mediumBlack}

html
 background ${a.bodyBackground}

table
 padding 0
 margin 0
 border-collapse collapse
 border-spacing 0
 table-layout fixed
 tr,td
  padding 0
  margin 0

.ThemeChisel
 display none

h1
 font-size 200%

h2
 font-size 166%

h3
 font-size 133%

h4
 font-size 120%

p
 margin 1em 0

a
 cursor pointer
 text-decoration none
 color ${a.linkColor}

::-webkit-scrollbar
 display none

.ui-resizable-handle
 position absolute
 font-size 0.1px
 display block
 -ms-touch-action none
 touch-action none

.ui-resizable-disabled
 .ui-resizable-handle
  display none

.ui-resizable-autohide
 .ui-resizable-handle
  display none

.leftButton,.rightButton
 background transparent
 border 0

.LintError,.LintErrorWithSuggestion,.LintCellTypeHints
 white-space pre
 color red
 background #e5e5e5

.LintCellTypeHints
 color black

.LintErrorWithSuggestion
 cursor pointer

.TileTextArea
 padding 5px
 width 100%
 height 100%
 box-sizing border-box
 outline 0
 border 0
 font-size 14px
 font-family ${a.fonts}
 resize none

.rightButton
 float right

.LargeLabel
 font-size 12px
 color ${a.midGray}
 position absolute
 left 26px
 top 2px

.LargeTileInput
 display block
 width 100%
 height 34px
 margin-top 4px
 padding 2px 20px
 font-size 14px
 line-height 1.428571429
 vertical-align middle
 box-sizing border-box
 color ${a.darkBlack}
 background ${a.backgroundColor}
 border 0

.dragOver
 opacity 0.5

#dragOverHelp
 position absolute
 font-size 36px
 width 100%
 height 100%
 z-index 300
 display flex
 align-items center
 justify-content center
 top 0
 left 0

.noTransition
 transition none

.SVGIcon
 fill ${a.foregroundColor}
 cursor pointer

.buttonPrimary
 border-radius 2px
 cursor pointer
 border none
 padding 15px 32px
 text-align center
 text-decoration none
 font-size 16px
 color white
 background ${a.successColor}

.divider
 background ${a.lineColor}
 height 1px
 margin 10px 0
 width 100%

input,textarea
 background transparent
 color ${a.foregroundColor}

.TileChisel
 position absolute
 box-shadow ${a.tileShadow}
 opacity ${a.tileOpacity}
 background ${a.tileBackgroundColor}
 border 1px solid ${a.borderColor}
 ol
  height 100%
  width 100%
  overflow scroll
  box-sizing border-box
  margin 0
 z-index 1
 ${a.disableTextSelect(1)}
 &.TileMaximized
  z-index 2
 .TilePencilButton
  svg
   opacity 0
 .ui-resizable-se
  cursor se-resize
  width 36px
  height 36px
  box-sizing border-box
  right 1px
  bottom 1px
  opacity 0
  border-right 4px solid ${a.darkerBackground}
  border-bottom 4px solid ${a.darkerBackground}
  &:hover
   opacity 1
 &:hover
  background ${a.backgroundColor}
  z-index 2
  .ui-resizable-se
   opacity .5
  .TilePencilButton
   svg
    opacity 1
    cursor pointer
    fill ${a.greyish}
    &:hover
     fill ${a.foregroundColor}
 .TilePage
  overflow hidden
  width 100%
  height 100%
  position relative
 .TileHeader,.TileFooter
  height 30px
  line-height 30px
  padding-left 5px
 .TileSelectable
  ${a.enableTextSelect(2)}
 .TileBody
  padding 5px
  width 100%
  height calc(100% - 80px)
  box-sizing border-box
  overflow scroll
  &.BodyOnly
   height calc(100% - 20px)
  &.HeaderLess
   height calc(100% - 50px)
 .TileGrabber
  width 100%
  height 10px
  cursor move
 .TileHeader
  font-size 14px
  text-transform uppercase
  text-align center
  border-bottom 1px solid ${a.borderColor}
  overflow hidden
  text-overflow ellipsis
 .TileFooter
  font-size 12px
  white-space nowrap
  color ${a.midGray}
  overflow hidden
 iframe
  width 100%
  height 100%
  border 0`}}window.ThemeChisel=ThemeChisel;const DiskConstants={bytes:"bytes",link:"link",filename:"filename"};window.DiskConstants=DiskConstants;class GlobalShortcutNode extends jtree.TreeNode{getKeyCombo(){return this.getWord(3)}getFn(){return this.getWord(2)}getCategory(){return this.getWord(1)}getDescription(){return this.getWordsFrom(4).join(" ")}isEnabled(){return!0}execute(a){if(!this.isEnabled(a))return!1;const b=this.getFn();a.addToCommandLog(`app ${b}`);a.getCommander()[b]()}}
class MountedShortcutNode extends GlobalShortcutNode{isEnabled(a){return!!a.getMountedTab()}}class DrumsProgram extends jtree.TreeNode{getFirstWordMap(){return{panel:GlobalShortcutNode,mounted:MountedShortcutNode}}}window.DrumsProgram=DrumsProgram;
const DummyDataSets={flowPrograms:[["filename","bytes","link"],["hello.flow","samples.iris\n tables.basic",""]],waterBill:[["Amount","PaidOn","Gallons"],["$64.86","1/10/2018",2087],["$73.32","1/28/2018",2451],["$62.65","2/26/2018",1968],["$71.51","3/25/2018",2365],["$65.03","4/23/2018",2075],["$81.39","5/15/2018",2757],["$65.01","6/15/2018",2047],["$93.09","7/10/2018",3051],["$196.58","8/25/2018",7309],["$130.68","9/10/2018",4597],["$55.03","10/14/2018",1484],["$63.44","11/7/2018",1967],["$71.88",
"12/12/2018",2335],["$53.18","2/3/2019",1483],["$52.05","3/8/2019",1429],["$54.73","4/28/2019",1544]],gapMinder:[["country","income","health","population"],["Afghanistan",1925,"57.63",32526562],["Albania",10620,"76",2896679],["Algeria",13434,"76.5",39666519],["Andorra",46577,"84.1",70473],["Angola",7615,"61",25021974],["Antigua and Barbuda",21049,"75.2",91818],["Argentina",17344,"76.2",43416755],["Armenia",7763,"74.4",3017712],["Australia",44056,"81.8",23968973],["Austria",44401,"81",8544586],["Azerbaijan",
16986,"72.9",9753968],["Bahamas",22818,"72.3",388019],["Bahrain",44138,"79.2",1377237],["Bangladesh",3161,"70.1",160995642],["Barbados",12984,"75.8",284215],["Belarus",17415,"70.4",9495826],["Belgium",41240,"80.4",11299192],["Belize",8501,"70",359287],["Benin",1830,"65.5",10879829],["Bhutan",7983,"70.2",774830],["Bolivia",6295,"72.3",10724705],["Bosnia and Herzegovina",9833,"77.9",3810416],["Botswana",17196,"66.4",2262485],["Brazil",15441,"75.6",207847528],["Brunei",73003,"78.7",423188],["Bulgaria",
16371,"74.9",7149787],["Burkina Faso",1654,"62.8",18105570],["Burundi",777,"60.4",11178921],["Cambodia",3267,"68.4",15577899],["Cameroon",2897,"59.5",23344179],["Canada",43294,"81.7",35939927],["Cape Verde",6514,"74.6",520502],["Central African Republic",599,"53.8",4900274],["Chad",2191,"57.7",14037472],["Chile",22465,"79.3",17948141],["China",13334,"76.9",1376048943],["Colombia",12761,"75.8",48228704],["Comoros",1472,"64.1",788474],["Congo, Dem. Rep.",809,"58.3",77266814],["Congo, Rep.",6220,"61.9",
4620330],["Costa Rica",14132,"80",4807850],["Cote d'Ivoire",3491,"60.33",22701556],["Croatia",20260,"78",4240317],["Cuba",21291,"78.5",11389562],["Cyprus",29797,"82.6",1165300],["Czech Republic",29437,"78.6",10543186],["Denmark",43495,"80.1",5669081],["Djibouti",3139,"64.63",887861],["Dominica",10503,"74.6",72680],["Dominican Republic",12837,"73.8",10528391],["Ecuador",10996,"75.2",16144363],["Egypt",11031,"71.3",91508084],["El Salvador",7776,"74.1",6126583],["Equatorial Guinea",31087,"60.63",845060],
["Eritrea",1129,"62.9",5227791],["Estonia",26812,"76.8",1312558],["Ethiopia",1520,"63.6",99390750],["Fiji",7925,"66.3",892145],["Finland",38923,"80.8",5503457],["France",37599,"81.9",64395345],["Gabon",18627,"60.53",1725292],["Gambia",1644,"65.1",1990924],["Georgia",7474,"73.3",3999812],["Germany",44053,"81.1",80688545],["Ghana",4099,"65.5",27409893],["Greece",25430,"79.8",10954617],["Grenada",11593,"71.7",106825],["Guatemala",7279,"73.1",16342897],["Guinea",1225,"60.8",12608590],["Guinea-Bissau",
1386,"53.4",1844325],["Guyana",6816,"64.4",767085],["Haiti",1710,"65.3",10711067],["Honduras",4270,"72.4",8075060],["Hungary",24200,"76.2",9855023],["Iceland",42182,"82.8",329425],["India",5903,"66.8",1311050527],["Indonesia",10504,"70.9",257563815],["Iran",15573,"78.5",79109272],["Iraq",14646,"72.1",36423395],["Ireland",47758,"80.4",4688465],["Israel",31590,"82.4",8064036],["Italy",33297,"82.1",59797685],["Jamaica",8606,"75.5",2793335],["Japan",36162,"83.5",126573481],["Jordan",11752,"78.3",7594547],
["Kazakhstan",23468,"68.2",17625226],["Kenya",2898,"66.63",46050302],["Kiribati",1824,"62.4",112423],["Kuwait",82633,"80.7",3892115],["Kyrgyz Republic",3245,"69",5939962],["Lao",5212,"66.4",6802023],["Latvia",23282,"75.7",1970503],["Lebanon",17050,"78.5",5850743],["Lesotho",2598,"48.5",2135022],["Liberia",958,"63.9",4503438],["Libya",17261,"76.2",6278438],["Lithuania",26665,"75.4",2878405],["Luxembourg",88314,"81.1",567110],["Macedonia, FYR",12547,"77",2078453],["Madagascar",1400,"64.7",24235390],
["Malawi",799,"60.22",17215232],["Malaysia",24320,"75.1",30331007],["Maldives",14408,"79.5",363657],["Mali",1684,"57.6",17599694],["Malta",30265,"82.1",418670],["Marshall Islands",3661,"65.1",52993],["Mauritania",3877,"65.7",4067564],["Mauritius",18350,"73.9",1273212],["Mexico",16850,"74.5",127017224],["Micronesia, Fed. Sts.",3510,"67",104460],["Moldova",4896,"72.7",4068897],["Mongolia",11819,"65.3",2959134],["Montenegro",14833,"75.8",625781],["Morocco",7319,"74.7",34377511],["Mozambique",1176,"56.4",
27977863],["Myanmar",4012,"67.9",53897154],["Namibia",10040,"61",2458830],["Nepal",2352,"71.2",28513700],["Netherlands",45784,"80.6",16924929],["New Zealand",34186,"80.6",4528526],["Nicaragua",4712,"76.8",6082032],["Niger",943,"62.2",19899120],["Nigeria",5727,"61.33",182201962],["North Korea",1390,"71.4",25155317],["Norway",64304,"81.6",5210967],["Oman",48226,"75.7",4490541],["Pakistan",4743,"66.5",188924874],["Panama",20485,"78.2",3929141],["Papua New Guinea",2529,"60.6",7619321],["Paraguay",8219,
"73.9",6639123],["Peru",11903,"77.5",31376670],["Philippines",6876,"70.2",100699395],["Poland",24787,"77.3",38611794],["Portugal",26437,"79.8",10349803],["Qatar",132877,"82",2235355],["Romania",19203,"76.8",19511324],["Russia",23038,"73.13",143456918],["Rwanda",1549,"66.53",11609666],["Samoa",5558,"72.2",193228],["Sao Tome and Principe",3003,"68.8",190344],["Saudi Arabia",52469,"78.1",31540372],["Senegal",2251,"66.1",15129273],["Serbia",12908,"78.1",8850975],["Seychelles",25684,"73.7",96471],["Sierra Leone",
2085,"58.5",6453184],["Singapore",80794,"82.1",5603740],["Slovak Republic",27204,"76.4",5426258],["Slovenia",28550,"80.2",2067526],["Solomon Islands",2047,"64.1",583591],["Somalia",624,"58.7",10787104],["South Africa",12509,"63.72",54490406],["South Korea",34644,"80.7",50293439],["South Sudan",3047,"58",12339812],["Spain",32979,"81.7",46121699],["Sri Lanka",10624,"76.5",20715010],["St. Lucia",9997,"74.5",184999],["St. Vincent and the Grenadines",10435,"72.9",109462],["Sudan",3975,"69.5",40234882],
["Suriname",17125,"70.5",542975],["Swaziland",6095,"51.5",1286970],["Sweden",44892,"82",9779426],["Switzerland",56118,"82.9",8298663],["Syria",4637,"70.26",18502413],["Tajikistan",2582,"71",8481855],["Tanzania",2571,"63.43",53470420],["Thailand",14512,"75.1",67959359],["Timor-Leste",2086,"72.4",1184765],["Togo",1433,"64.23",7304578],["Tonga",5069,"70.5",106170],["Trinidad and Tobago",30113,"71.4",1360088],["Tunisia",11126,"77.3",11253554],["Turkey",19360,"76.5",78665830],["Turkmenistan",15865,"67.9",
5373502],["Uganda",1680,"60.8",39032383],["Ukraine",8449,"72.1",44823765],["United Arab Emirates",60749,"76.6",9156963],["United Kingdom",38225,"81.4",64715810],["United States",53354,"79.1",321773631],["Uruguay",20438,"77.3",3431555],["Uzbekistan",5598,"70.1",29893488],["Vanuatu",2912,"65",264652],["Venezuela",15753,"75.8",31108083],["Vietnam",5623,"76.5",93447601],["West Bank and Gaza",4319,"75.2",4668466],["Yemen",3887,"67.6",26832215],["Zambia",4034,"58.96",16211767],["Zimbabwe",1801,"60.01",
15602751]],emojis:[["animal","count"],["\ud83d\udc04",9],["\ud83d\udc16",12],["\ud83d\udc0f",3]],telescopes:["Name Type Url Location OperatedBy FundedBy".split(" "),"Hubble Space Telescope;Space Telescope;https://en.wikipedia.org/wiki/Hubble_Space_Telescope;Space;NASA;NASA".split(";"),"LIGO Hanford;Gravity Wave Observatory;https://www.ligo.caltech.edu/WA;Richland, WA, USA;Caltech;National Science Foundation".split(";"),"LIGO Livingston;Gravity Wave Observatory;https://www.ligo.caltech.edu/LA;Livingston, LA, USA;MIT;National Science Foundation".split(";"),
"Gran Telescopio Canarias (GTC);Astronomical Observatory;http://www.gtc.iac.es/gtc/gtc.php;La Palma, Garaf\u00eda, Spain ;IAC;Observatorio Astron\u00f3mico de Canarias, National Autonomous University of Mexico, University of Florida Edit this on Wikidata".split(";"),"Hobby\u2013Eberly Telescope;Astronomical Observatory;http://mcdonaldobservatory.org/research/telescopes/HET;Davis Mountains, Texas, US;Stanford University & Ludwig Maximilians University of Munich and Georg August University of G\u00f6ttingen;YarCom Inc. and the Lott family ".split(";")],
markdown:[["text"],["# My header\n## My subheader\nHello world"]],webPages:[["name","url"]],outerSpace:[["text"],["universe\n galaxies\n  milkyWay\n   solarSystems\n    solarSystem\n     stars\n      sun\n     planets\n      mercury\n      venus\n      earth\n       moons\n        moon\n      mars\n      jupiter\n      saturn\n      uranus\n      neptune\n      pluto"]],wordCounts:[["name","count"],["Two",2],["roads",2],["diverged",2],["in",3],["a",3],["yellow",1],["wood",2],["And",6],["sorry",1],
["I",9],["could",2],["not",1],["travel",1],["both",2],["be",2],["one",3],["traveler",1],["long",1],["stood",1],["looked",1]],treeProgram:[["source"],["samples.iris\n group.by Species\n  tables.basic\n columns.first 3"]],poem:[["text"],["Two roads diverged in a yellow wood,\nAnd sorry I could not travel both\nAnd be one traveler, long I stood\nAnd looked down one as far as I could\nTo where it bent in the undergrowth;\n\nThen took the other, as just as fair,\nAnd having perhaps the better claim,\nBecause it was grassy and wanted wear;\nThough as for that the passing there\nHad worn them really about the same,\n\nAnd both that morning equally lay\nIn leaves no step had trodden black.\nOh, I kept the first for another day!\nYet knowing how way leads on to way,\nI doubted if I should ever come back.\n\nI shall be telling this with a sigh\nSomewhere ages and ages hence:\nTwo roads diverged in a wood, and I\u2014\nI took the one less traveled by,\nAnd that has made all the difference."]],
playerGoals:[["PlayerGoals","Goals"],["Player1",11],["Player2",2],["Player3",2],["Player4",2],["Player5",7]],patients:[["Patient","Gender","Weight"],["Patient1","Girl","3.31"],["Patient2","Male","2.8"],["Patient3","Male","3.7"],["Patient4","Girl","2.5"],["Patient5","Girl","2.8"]],regionalMarkets:[["Location","Parent","Market trade volume (size)","Market increase/decrease (color)"],["Global",null,0,0],["America","Global",0,0],["Europe","Global",0,0],["Asia","Global",0,0],["Australia","Global",0,0],
["Africa","Global",0,0],["Brazil","America",11,10],["USA","America",52,31],["Mexico","America",24,12],["Canada","America",16,-23],["France","Europe",42,-11],["Germany","Europe",31,-2],["Sweden","Europe",22,-13],["Italy","Europe",17,4],["UK","Europe",21,-5],["China","Asia",36,4],["Japan","Asia",20,-12],["India","Asia",40,63],["Laos","Asia",4,34],["Mongolia","Asia",1,-5],["Israel","Asia",12,24],["Iran","Asia",18,13],["Pakistan","Asia",11,-52],["Egypt","Africa",21,0],["S. Africa","Africa",30,43],["Sudan",
"Africa",12,2],["Congo","Africa",10,12],["Zaire","Africa",8,10]],stockPrice:[["Step","Price"],[0,0],[1,10],[2,23],[3,17],[4,18],[5,9],[6,11],[7,27],[8,33],[9,40],[10,32],[11,35],[12,30],[13,40],[14,42],[15,47],[16,44],[17,48],[18,52],[19,54],[20,42],[21,55],[22,56],[23,57],[24,60],[25,50],[26,52],[27,51],[28,49],[29,53],[30,55],[31,60],[32,61],[33,59],[34,62],[35,65],[36,62],[37,58],[38,55],[39,61],[40,64],[41,65],[42,63],[43,66],[44,67],[45,69],[46,69],[47,70],[48,72],[49,68],[50,66],[51,65],[52,
67],[53,70],[54,71],[55,72],[56,73],[57,75],[58,70],[59,68],[60,64],[61,60],[62,65],[63,67],[64,68],[65,69],[66,70],[67,72],[68,75],[69,80]]};window.DummyDataSets=DummyDataSets;const FlowConstants={setting:"setting",rowDisplayLimit:"rowDisplayLimit",content:"content",hidden:"hidden",maximized:"maximized",appPicker:"help.picker",dummyDataSet:"dummyDataSet",xColumn:"xColumn",columnPredictionHints:"columnPredictionHints",yColumn:"yColumn",flowFileExtension:".flow",dateTypes:{}};
FlowConstants.dateTypes.day="day";FlowConstants.dateTypes.month="month";FlowConstants.dateTypes.year="year";window.FlowConstants=FlowConstants;
class TileCommander extends AbstractCommander{cloneTileCommand(){const a=this.getTarget();a.cloneAndOffset();return a.getTab().autosaveAndRender()}updateContentFromHtmlCommand(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=Format.stripHtml(a.replace(/<br>/g,"\n").replace(/<div>/g,"\n"));return b.changeTileContentAndRenderCommand(c)})}toggleTileMaximizeCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.getTarget();
b.has(FlowConstants.maximized)?b.delete(FlowConstants.maximized):b.touchNode(FlowConstants.maximized);yield a._runAfterTileUpdate(b)})}triggerTileMethodCommand(a,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const d=c.getTarget();yield d[b](a);yield c._runAfterTileUpdate(d)})}changeTileTypeCommand(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=b.getTarget();c.setFirstWord(a);const d=c.duplicate();c.unmountAndDestroy();const e=
d.getDefinition(),f=c.getApp();yield c.getTileProcess().loadTileClassExternalDependenciesAndGetLoadingPromise(f,e);yield c.getTileProcess().getTab().autosaveAndRender();d.runAndRenderAndGetRenderResult()})}changeParentCommand(a){const b=this.getTarget();var c=b.getTileProcess();c=(a=a?a.split(" ").map(a=>parseInt(a)):"")?c.nodeAt(a):c;b.copyTo(c,c.length);b.unmountAndDestroy();return b.getTileProcess().getTab().autosaveAndRender()}openTileContextMenuCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=
a.getTarget();b.getApp().setTargetNode(b).toggleAndRender(OhayoGrammarConstants.tileContextMenu)})}destroyTileCommand(){const a=this.getTarget();a.unmountAndDestroy();return a.getTileProcess().getTab().autosaveAndRender()}getNewDataCommand(){}changeTileSettingAndRenderCommand(a,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const d=c.getTarget();d.touchNode(b).setContent(a.toString());yield c._runAfterTileUpdate(d)})}changeTileSettingMultilineCommand(a,b){const c=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const d=c.getTarget();d.touchNode(b).setChildren(a);yield c._runAfterTileUpdate(d)})}changeTileSettingCommand(a,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){c.getTarget().touchNode(a).setContent(b)})}changeWordAndRenderCommand(a,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const d=c.getTarget();d.setWord(parseInt(b),a);yield c._runAfterTileUpdate(d)})}changeWordsAndRenderCommand(a,
b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){b=parseInt(b);const d=c.getTarget(),e=d.getXI(),f=d.getWords().slice(0,b);d.setLine(f.concat(a.split(e)).join(e));yield c._runAfterTileUpdate(d)})}updateContentCommand(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=b.getTarget();c.touchNode(FlowConstants.content).setChildren(a);yield b._runAfterTileUpdate(c)})}updateChildrenCommand(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=
b.getTarget();c.setChildren(a);yield b._runAfterTileUpdate(c)})}_runAfterTileUpdate(a){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.makeDirty();a.getChildTiles().forEach(a=>{a.makeDirty()});yield a.getTab().autosaveTab();yield a.runAndRenderAndGetRenderResult();a.getApp().renderApp()})}changeTileContentAndRenderCommand(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=b.getTarget();c.setContent(a);yield b._runAfterTileUpdate(c)})}copyTileCommand(){const a=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.getTarget();b.getApp().getWillowProgram().copyTextToClipboard(b.getFirstAncestor().toString())})}createProgramFromTileExampleCommand(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var c=b.getTarget();const d=c.getExampleTemplate(a);d&&(c=yield c.getApp()._createAndOpen(d,`help-for-${c.getFirstWord()}.${"flow"}`),c.addStumpCodeMessageToLog(`div Created '${c.getFullTabFilePath()}'`))})}inspectTileCommand(){const a=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.getTarget();b.isNodeJs()||(console.log("Tile available at window.tile"),window.tile=b,console.log(b));const c=b.getInspection();b.getTab().addStumpCodeMessageToLog(c);b.getApp().renderApp()})}toggleToolbarCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.getTarget().toggleToolbar()})}createCardsFromTNCommand(a){return this.getTarget().createCards((new CardParser).parse(a,"tree"))}createProgramFromTemplateCommand(a){const b=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var c=b.getTarget();const d=c.getProgramTemplate(a);d&&(c=yield c.getApp()._createAndOpen(d.template,d.name),c.addStumpCodeMessageToLog(`div Created '${c.getFullTabFilePath()}'`))})}appendSnippetTemplateCommand(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=b.getTarget();var d=c.getSnippetTemplate(a);if(d){var e=c.getTab(),f=e.getTabProcess();d=f.concat(d).filter(a=>a instanceof AbstractTileChisel);
e.autosaveTab();f.clearSelection();e.getTabWall().unmount();yield f.run();c.getApp().renderApp();d.forEach(a=>a.selectTile())}})}copyDataCommand(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=b.getTarget();c.getApp().getWillowProgram().copyTextToClipboard(c.getOutputOrInputBinder().toDelimited(a))})}copyDataAsJavascriptCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.getTarget(),c=b.getOutputOrInputBinder();b.getApp().getWillowProgram().copyTextToClipboard(JSON.stringify(c.toTree().toDataTable(c.getColumnNames()),
null,2))})}copyDataAsTreeCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.getTarget(),c=b.getOutputOrInputBinder().toTree().toString();b.getApp().getWillowProgram().copyTextToClipboard(c)})}exportTileDataCommand(a){a=void 0===a?"csv":a;const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=b.getTarget();let d="csv",e="text/csv",f=c.getOutputOrInputBinder().toDelimited(",");"tree"===a&&(d="tree",e="text",f=c.getOutputOrInputBinder().toTree().toString());
c.getApp().getWillowProgram().downloadFile(f,c.getTab().getFileName()+"."+d,e)})}}window.TileCommander=TileCommander;
class WallCommander extends AbstractCommander{openWallContextMenuCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.getTarget().getApp().toggleAndRender("tabContextMenu")})}insertAdjacentTileCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var b=a.getTarget().getApp();const c=b.getMountedProcess(),d=b.getNodeCursors().slice(0,1).map(a=>a.appendLine(FlowConstants.appPicker));b=yield b.getMountedTab().autosaveAndRender();c.clearSelection();
d.forEach(a=>a.selectTile());return b})}insertPickerTileCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.getTarget(),c=b.getApp(),d=c.getMouseEvent(),e=c.getMountedProcess();d.shiftKey||e.clearSelection();const f=c.getNodeCursors().slice(0,1).map(a=>a.appendLineAndChildren(FlowConstants.appPicker,b.getPickerBlock(d)));f.forEach(a=>a.setIsLoaded(!0));yield c.getMountedTab().autosaveAndRender();e.clearSelection();f.forEach(a=>{a.selectTile()})})}}
window.WallCommander=WallCommander;class FlowWithAutoComplete extends jtree.NonTerminalNode{getRunTimeEnumOptions(a){try{if("columnName"===a.getCellTypeName())return app.getMountedProcess().nodeAtLine(this.getPointRelativeTo(this.getRootNode()).y-1).getParentOrDummyBinder().getColumnNames()}catch(b){}}}window.FlowWithAutoComplete=FlowWithAutoComplete;
const SVGS={nw:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="331.062px" height="331.062px" viewBox="0 0 331.062 331.062" style="enable-background:new 0 0 331.062 331.062;"   xml:space="preserve"><g> <g>   <polygon points="69.626,40.791 218.332,40.791 218.332,0 0.009,0 0.009,218.328 40.782,218.328 40.806,69.638 302.219,331.062      331.054,302.222     "/> </g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',"lt-eq":'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="121.809px" height="121.809px" viewBox="0 0 121.809 121.809" style="enable-background:new 0 0 121.809 121.809;"   xml:space="preserve"><g> <g>   <path d="M12.183,121.809h97.443c4.037,0,7.309-3.271,7.309-7.31c0-4.035-3.271-7.309-7.309-7.309H12.183     c-4.037,0-7.309,3.272-7.309,7.309C4.874,118.537,8.146,121.809,12.183,121.809z"/>    <path d="M109.142,4.695c-1.443-3.766-5.66-5.657-9.439-4.207L10.785,34.593c-2.753,1.055-4.604,3.662-4.689,6.609      c-0.085,2.948,1.607,5.657,4.297,6.872l88.918,40.197c0.974,0.44,1.996,0.65,3.002,0.65c2.785,0,5.443-1.6,6.664-4.302      c1.664-3.678,0.028-8.007-3.649-9.671L32.366,41.967l72.568-27.834C108.704,12.69,110.588,8.464,109.142,4.695z"/>  </g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
lt:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="103.537px" height="103.537px" viewBox="0 0 103.537 103.537" style="enable-background:new 0 0 103.537 103.537;"   xml:space="preserve"><g> <g>   <path d="M103.048,12.002c-1.445-3.771-5.679-5.649-9.438-4.207L4.692,41.9c-2.753,1.055-4.603,3.662-4.688,6.609     c-0.087,2.948,1.608,5.656,4.295,6.872l88.917,40.196c0.978,0.44,2,0.65,3.006,0.65c2.784,0,5.442-1.6,6.665-4.302      c1.661-3.678,0.029-8.007-3.648-9.671L26.273,49.277l72.568-27.834C102.61,19.998,104.496,15.771,103.048,12.002z"/>  </g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
pencil:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 55.25 55.25" style="enable-background:new 0 0 55.25 55.25;" xml:space="preserve"><path d="M52.618,2.631c-3.51-3.508-9.219-3.508-12.729,0L3.827,38.693C3.81,38.71,3.8,38.731,3.785,38.749  c-0.021,0.024-0.039,0.05-0.058,0.076c-0.053,0.074-0.094,0.153-0.125,0.239c-0.009,0.026-0.022,0.049-0.029,0.075  c-0.003,0.01-0.009,0.02-0.012,0.03l-3.535,14.85c-0.016,0.067-0.02,0.135-0.022,0.202C0.004,54.234,0,54.246,0,54.259  c0.001,0.114,0.026,0.225,0.065,0.332c0.009,0.025,0.019,0.047,0.03,0.071c0.049,0.107,0.11,0.21,0.196,0.296 c0.095,0.095,0.207,0.168,0.328,0.218c0.121,0.05,0.25,0.075,0.379,0.075c0.077,0,0.155-0.009,0.231-0.027l14.85-3.535  c0.027-0.006,0.051-0.021,0.077-0.03c0.034-0.011,0.066-0.024,0.099-0.039c0.072-0.033,0.139-0.074,0.201-0.123 c0.024-0.019,0.049-0.033,0.072-0.054c0.008-0.008,0.018-0.012,0.026-0.02l36.063-36.063C56.127,11.85,56.127,6.14,52.618,2.631z   M51.204,4.045c2.488,2.489,2.7,6.397,0.65,9.137l-9.787-9.787C44.808,1.345,48.716,1.557,51.204,4.045z M46.254,18.895l-9.9-9.9  l1.414-1.414l9.9,9.9L46.254,18.895z M4.961,50.288c-0.391-0.391-1.023-0.391-1.414,0L2.79,51.045l2.554-10.728l4.422-0.491 l-0.569,5.122c-0.004,0.038,0.01,0.073,0.01,0.11c0,0.038-0.014,0.072-0.01,0.11c0.004,0.033,0.021,0.06,0.028,0.092  c0.012,0.058,0.029,0.111,0.05,0.165c0.026,0.065,0.057,0.124,0.095,0.181c0.031,0.046,0.062,0.087,0.1,0.127 c0.048,0.051,0.1,0.094,0.157,0.134c0.045,0.031,0.088,0.06,0.138,0.084C9.831,45.982,9.9,46,9.972,46.017  c0.038,0.009,0.069,0.03,0.108,0.035c0.036,0.004,0.072,0.006,0.109,0.006c0,0,0.001,0,0.001,0c0,0,0.001,0,0.001,0h0.001 c0,0,0.001,0,0.001,0c0.036,0,0.073-0.002,0.109-0.006l5.122-0.569l-0.491,4.422L4.204,52.459l0.757-0.757  C5.351,51.312,5.351,50.679,4.961,50.288z M17.511,44.809L39.889,22.43c0.391-0.391,0.391-1.023,0-1.414s-1.023-0.391-1.414,0 L16.097,43.395l-4.773,0.53l0.53-4.773l22.38-22.378c0.391-0.391,0.391-1.023,0-1.414s-1.023-0.391-1.414,0L10.44,37.738  l-3.183,0.354L34.94,10.409l9.9,9.9L17.157,47.992L17.511,44.809z M49.082,16.067l-9.9-9.9l1.415-1.415l9.9,9.9L49.082,16.067z"/><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
fork:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="45.254px" height="45.254px" viewBox="0 0 45.254 45.254" style="enable-background:new 0 0 45.254 45.254;"   xml:space="preserve"><g> <path d="M44.68,12.649l-7.261-7.261c-0.562-0.562-1.41-0.729-2.144-0.426c-0.734,0.304-1.217,1.02-1.217,1.813v3.632   c-4.874,0.947-9.049,4.03-11.438,8.238c-2.388-4.208-6.514-7.291-11.436-8.238V6.775c0-0.793-0.477-1.509-1.211-1.813   C9.242,4.658,8.399,4.826,7.837,5.389L0.575,12.65c-0.767,0.767-0.767,2.009,0,2.775l7.262,7.263   c0.562,0.561,1.404,0.729,2.137,0.425c0.734-0.304,1.211-1.02,1.211-1.813v-2.735c3.378,1.291,5.742,4.55,5.742,8.357v10.619    c0,1.603,1.298,2.9,2.899,2.9h0.619h4.362h0.606c1.603,0,2.9-1.298,2.9-2.9V26.923c0-3.808,2.413-7.067,5.742-8.357v2.735   c0,0.794,0.481,1.509,1.217,1.813c0.732,0.304,1.578,0.136,2.14-0.425l7.265-7.263C45.447,14.659,45.447,13.417,44.68,12.649z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
call:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="348.077px" height="348.077px" viewBox="0 0 348.077 348.077" style="enable-background:new 0 0 348.077 348.077;"   xml:space="preserve"><g> <g>   <g>     <path d="M340.273,275.083l-53.755-53.761c-10.707-10.664-28.438-10.34-39.518,0.744l-27.082,27.076        c-1.711-0.943-3.482-1.928-5.344-2.973c-17.102-9.476-40.509-22.464-65.14-47.113c-24.704-24.701-37.704-48.144-47.209-65.257       c-1.003-1.813-1.964-3.561-2.913-5.221l18.176-18.149l8.936-8.947c11.097-11.1,11.403-28.826,0.721-39.521L73.39,8.194        C62.708-2.486,44.969-2.162,33.872,8.938l-15.15,15.237l0.414,0.411c-5.08,6.482-9.325,13.958-12.484,22.02       C3.74,54.28,1.927,61.603,1.098,68.941C-6,127.785,20.89,181.564,93.866,254.541c100.875,100.868,182.167,93.248,185.674,92.876       c7.638-0.913,14.958-2.738,22.397-5.627c7.992-3.122,15.463-7.361,21.941-12.43l0.331,0.294l15.348-15.029        C350.631,303.527,350.95,285.795,340.273,275.083z"/>   </g>  </g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
hashtag:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 490 490" style="enable-background:new 0 0 490 490;" xml:space="preserve"><g>  <path d="M327.08,180.984H192.677L161.05,309.958h133.984L327.08,180.984z M180.58,294.646l24.12-98.35h102.791l-24.419,98.35   H180.58z"/> <path d="M60.517,490h72.241l32.763-133.386h102.492L235.639,490h72.211l32.763-133.386h117.625v-61.968H355.702l24.434-98.35   h78.103v-61.968h-63.044L427.957,0h-72.615l-32.763,134.328H219.728L252.492,0h-72.256l-32.748,134.328H31.762v61.968h100.683   l-24.12,98.35H31.762v61.968h61.519L60.517,490z M47.074,341.301v-31.343h73.273l31.627-128.975h-104.9v-31.343H159.51    l32.748-134.328h40.734l-32.763,134.328h134.373l32.763-134.328h41.093l-32.763,134.328h67.231v31.343h-74.753l-32.061,128.975    h106.814v31.343H328.621l-32.763,133.386h-40.749l32.375-133.386H153.529l-32.763,133.386H80.047l32.763-133.386H47.074z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
minus:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 44 44" style="enable-background:new 0 0 44 44;" xml:space="preserve"><path d="M38.059,28H5.941C2.665,28,0,25.309,0,22s2.665-6,5.941-6h32.117C41.335,16,44,18.691,44,22S41.335,28,38.059,28z M5.941,18 C3.805,18,2,19.832,2,22s1.805,4,3.941,4h32.117C40.195,26,42,24.168,42,22s-1.805-4-3.941-4H5.941z"/><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
"font-1":'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="475.082px" height="475.082px" viewBox="0 0 475.082 475.082" style="enable-background:new 0 0 475.082 475.082;"   xml:space="preserve"><g> <path d="M473.371,433.11c-10.657-3.997-20.458-6.563-29.407-7.706c-8.945-0.767-15.516-2.95-19.701-6.567    c-2.475-1.529-5.808-6.95-9.996-16.279c-7.806-15.604-13.989-29.786-18.555-42.537c-7.427-20.181-13.617-35.789-18.565-46.829   c-10.845-25.311-19.982-47.678-27.401-67.092c-4.001-10.466-15.797-38.731-35.405-84.796L255.813,24.265l-3.142-5.996h-15.129   h-21.414l-79.94,206.704L68.523,400.847c-5.33,9.896-9.9,16.372-13.706,19.417c-3.996,2.848-14.466,5.805-31.405,8.843    c-11.042,2.102-18.654,3.812-22.841,5.141L0,456.812h5.996c16.37,0,32.264-1.334,47.679-3.997l13.706-2.279   c53.868,3.806,87.082,5.708,99.642,5.708c0.381-1.902,0.571-4.476,0.571-7.706c0-5.715-0.094-11.231-0.287-16.563   c-3.996-0.568-7.851-1.143-11.561-1.711c-3.711-0.575-6.567-1.047-8.565-1.431c-1.997-0.373-3.284-0.568-3.855-0.568    c-14.657-2.094-24.46-5.14-29.407-9.134c-3.236-2.282-4.854-6.375-4.854-12.278c0-3.806,2.19-11.796,6.567-23.982   c14.277-39.776,24.172-65.856,29.692-78.224l128.483,0.568l26.269,65.096l13.411,32.541c1.144,3.241,1.711,6.283,1.711,9.138    s-1.14,5.428-3.426,7.707c-2.285,1.905-8.753,4.093-19.417,6.563l-37.404,7.994c-0.763,6.283-1.136,13.702-1.136,22.271   l16.56-0.575l57.103-3.138c10.656-0.38,23.51-0.575,38.547-0.575c18.264,0,36.251,0.763,53.957,2.282   c21.313,1.523,39.588,2.283,54.819,2.283c0.192-2.283,0.281-4.754,0.281-7.423C475.082,445.957,474.513,440.537,473.371,433.11z    M251.245,270.941c-2.666,0-7.662-0.052-14.989-0.144c-7.327-0.089-18.649-0.233-33.973-0.425    c-15.321-0.195-29.93-0.383-43.824-0.574l48.535-128.477c7.424,15.037,16.178,35.117,26.264,60.242   c11.425,27.79,20.179,50.727,26.273,68.809L251.245,270.941z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
check:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="438.536px" height="438.536px" viewBox="0 0 438.536 438.536" style="enable-background:new 0 0 438.536 438.536;"   xml:space="preserve"><g> <path d="M414.41,24.123C398.333,8.042,378.963,0,356.315,0H82.228C59.58,0,40.21,8.042,24.126,24.123    C8.045,40.207,0.003,59.576,0.003,82.225v274.084c0,22.647,8.042,42.018,24.123,58.102c16.084,16.084,35.454,24.126,58.102,24.126   h274.084c22.648,0,42.018-8.042,58.095-24.126c16.084-16.084,24.126-35.454,24.126-58.102V82.225   C438.532,59.576,430.49,40.204,414.41,24.123z M370.88,159.024l-175.307,175.3c-3.615,3.614-7.898,5.428-12.85,5.428    c-4.95,0-9.233-1.807-12.85-5.421L67.663,232.118c-3.616-3.62-5.424-7.898-5.424-12.848c0-4.949,1.809-9.233,5.424-12.847   l29.124-29.124c3.617-3.616,7.895-5.424,12.847-5.424c4.952,0,9.235,1.809,12.851,5.424l60.242,60.24l133.334-133.333   c3.606-3.617,7.898-5.424,12.847-5.424c4.945,0,9.227,1.807,12.847,5.424l29.126,29.125c3.61,3.615,5.421,7.898,5.421,12.847    S374.49,155.411,370.88,159.024z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
copy:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="511.627px" height="511.627px" viewBox="0 0 511.627 511.627" style="enable-background:new 0 0 511.627 511.627;"   xml:space="preserve"><g> <path d="M503.633,117.628c-5.332-5.327-11.8-7.993-19.41-7.993H365.446c-11.417,0-23.603,3.806-36.542,11.42V27.412    c0-7.616-2.662-14.092-7.994-19.417C315.578,2.666,309.11,0,301.492,0H182.725c-7.614,0-15.99,1.903-25.125,5.708   c-9.136,3.806-16.368,8.376-21.7,13.706L19.414,135.901c-5.33,5.329-9.9,12.563-13.706,21.698C1.903,166.738,0,175.108,0,182.725    v191.858c0,7.618,2.663,14.093,7.992,19.417c5.33,5.332,11.803,7.994,19.414,7.994h155.318v82.229c0,7.61,2.662,14.085,7.992,19.41    c5.327,5.332,11.8,7.994,19.414,7.994h274.091c7.61,0,14.085-2.662,19.41-7.994c5.332-5.325,7.994-11.8,7.994-19.41V137.046   C511.627,129.432,508.965,122.958,503.633,117.628z M328.904,170.449v85.364h-85.366L328.904,170.449z M146.178,60.813v85.364   H60.814L146.178,60.813z M202.139,245.535c-5.33,5.33-9.9,12.564-13.706,21.701c-3.805,9.141-5.708,17.508-5.708,25.126v73.083    H36.547V182.725h118.766c7.616,0,14.087-2.664,19.417-7.994c5.327-5.33,7.994-11.801,7.994-19.412V36.547h109.637v118.771   L202.139,245.535z M475.078,475.085H219.263V292.355h118.775c7.614,0,14.082-2.662,19.41-7.994   c5.328-5.325,7.994-11.797,7.994-19.41V146.178h109.629v328.907H475.078z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
coding:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 470 470" xmlns:xlink="http://www.w3.org/1999/xlink" enable-background="new 0 0 470 470">  <g>    <path d="m167.313,209.123c-2.12-3.559-6.723-4.726-10.281-2.605l-87.369,52.039c-2.271,1.352-3.663,3.8-3.663,6.443s1.392,5.091 3.662,6.443l87.369,52.039c1.203,0.717 2.525,1.058 3.831,1.058 2.556,0 5.048-1.308 6.45-3.663 2.12-3.559 0.953-8.162-2.605-10.281l-76.551-45.596 76.551-45.596c3.559-2.119 4.726-6.722 2.606-10.281z"/>    <path d="m302.688,320.877c1.403,2.356 3.894,3.663 6.45,3.663 1.306,0 2.628-0.341 3.831-1.058l87.369-52.039c2.271-1.353 3.662-3.8 3.662-6.443s-1.392-5.091-3.662-6.443l-87.369-52.039c-3.558-2.12-8.163-0.954-10.281,2.605-2.12,3.559-0.953,8.162 2.605,10.281l76.551,45.596-76.551,45.596c-3.559,2.119-4.726,6.722-2.605,10.281z"/>    <path d="m263.72,208.78l-69.893,104.078c-2.309,3.438-1.394,8.098 2.045,10.408 1.284,0.862 2.737,1.274 4.175,1.274 2.415,0 4.786-1.165 6.233-3.32l69.893-104.078c2.309-3.438 1.394-8.098-2.045-10.408-3.441-2.309-8.1-1.392-10.408,2.046z"/>    <path d="m462.5,22.5h-455c-4.143,0-7.5,3.358-7.5,7.5v410c0,4.142 3.357,7.5 7.5,7.5h455c4.143,0 7.5-3.358 7.5-7.5v-80c0-4.142-3.357-7.5-7.5-7.5s-7.5,3.358-7.5,7.5v72.5h-440v-335h440v232.5c0,4.142 3.357,7.5 7.5,7.5s7.5-3.358 7.5-7.5v-300c0-4.142-3.357-7.5-7.5-7.5zm-447.5,15h277.5v45h-277.5v-45zm292.5,45v-45h147.5v45h-147.5z"/>    <path d="m381.5,52c-4.411,0-8,3.589-8,8s3.589,8 8,8 8-3.589 8-8-3.589-8-8-8z"/>    <path d="m340.5,52c-4.411,0-8,3.589-8,8s3.589,8 8,8 8-3.589 8-8-3.589-8-8-8z"/>    <path d="m422.5,52c-4.411,0-8,3.589-8,8s3.589,8 8,8 8-3.589 8-8-3.589-8-8-8z"/>  </g></svg>',
inspector:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 463.001 463.001" style="enable-background:new 0 0 463.001 463.001;" xml:space="preserve"><g>  <path d="M303.501,0c-87.948,0-159.5,71.551-159.5,159.5c0,36.188,12.122,69.593,32.507,96.386l-32.311,32.311    c-0.205,0.205-0.392,0.421-0.569,0.643c-2.645-0.551-5.363-0.84-8.127-0.84c-10.55,0-20.47,4.109-27.933,11.572l-95.999,95.999    C4.108,403.03,0,412.949,0,423.5s4.108,20.471,11.568,27.928C19.031,458.891,28.951,463,39.501,463s20.47-4.109,27.933-11.572   l95.999-95.999c7.461-7.458,11.569-17.377,11.569-27.929c0-2.765-0.289-5.484-0.84-8.129c0.222-0.176,0.437-0.363,0.642-0.568   l32.31-32.31C233.908,306.879,267.313,319,303.501,319c87.948,0,159.5-71.551,159.5-159.5S391.449,0,303.501,0z M56.826,440.822   C52.197,445.451,46.045,448,39.501,448s-12.696-2.549-17.326-7.179C17.548,436.196,15,430.045,15,423.5s2.548-12.696,7.176-17.322   l86.698-86.698l34.647,34.647L56.826,440.822z M154.075,343.468l-34.528-34.528c4.575-3.936,10.258-5.926,15.954-5.926    c6.274,0,12.55,2.389,17.326,7.166c4.627,4.625,7.175,10.776,7.175,17.321C160.002,333.427,157.906,339.027,154.075,343.468z     M167.73,304.665c-1.278-1.796-2.706-3.503-4.296-5.092c-1.592-1.591-3.301-3.02-5.098-4.299l27.841-27.841   c3,3.259,6.134,6.393,9.393,9.393L167.73,304.665z M303.501,304c-79.678,0-144.5-64.822-144.5-144.5S223.823,15,303.501,15    s144.5,64.822,144.5,144.5S383.179,304,303.501,304z"/> <path d="M303.501,32c-70.304,0-127.5,57.196-127.5,127.5S233.197,287,303.501,287s127.5-57.196,127.5-127.5S373.805,32,303.501,32z    M303.501,272c-62.032,0-112.5-50.467-112.5-112.5S241.469,47,303.501,47s112.5,50.467,112.5,112.5S365.533,272,303.501,272z"/> <path d="M355.58,79.438c-3.47-2.262-8.116-1.283-10.378,2.188c-2.262,3.47-1.282,8.117,2.188,10.378   c22.924,14.94,36.61,40.172,36.61,67.496c0,18.667-6.534,36.86-18.399,51.226c-2.638,3.193-2.187,7.921,1.007,10.559    c1.398,1.155,3.09,1.717,4.772,1.717c2.16,0,4.304-0.929,5.787-2.724c14.079-17.047,21.833-38.632,21.833-60.777    C399.001,127.087,382.769,97.158,355.58,79.438z"/> <path d="M320.856,65.575C315.168,64.53,309.329,64,303.501,64c-4.143,0-7.5,3.358-7.5,7.5s3.357,7.5,7.5,7.5   c4.922,0,9.849,0.447,14.645,1.328c0.459,0.084,0.914,0.125,1.364,0.125c3.549,0,6.703-2.531,7.368-6.146   C327.626,70.233,324.93,66.324,320.856,65.575z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
trash:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 486.4 486.4" style="enable-background:new 0 0 486.4 486.4;" xml:space="preserve"><g>  <g>   <path d="M446,70H344.8V53.5c0-29.5-24-53.5-53.5-53.5h-96.2c-29.5,0-53.5,24-53.5,53.5V70H40.4c-7.5,0-13.5,6-13.5,13.5      S32.9,97,40.4,97h24.4v317.2c0,39.8,32.4,72.2,72.2,72.2h212.4c39.8,0,72.2-32.4,72.2-72.2V97H446c7.5,0,13.5-6,13.5-13.5     S453.5,70,446,70z M168.6,53.5c0-14.6,11.9-26.5,26.5-26.5h96.2c14.6,0,26.5,11.9,26.5,26.5V70H168.6V53.5z M394.6,414.2      c0,24.9-20.3,45.2-45.2,45.2H137c-24.9,0-45.2-20.3-45.2-45.2V97h302.9v317.2H394.6z"/>    <path d="M243.2,411c7.5,0,13.5-6,13.5-13.5V158.9c0-7.5-6-13.5-13.5-13.5s-13.5,6-13.5,13.5v238.5     C229.7,404.9,235.7,411,243.2,411z"/>    <path d="M155.1,396.1c7.5,0,13.5-6,13.5-13.5V173.7c0-7.5-6-13.5-13.5-13.5s-13.5,6-13.5,13.5v208.9     C141.6,390.1,147.7,396.1,155.1,396.1z"/>    <path d="M331.3,396.1c7.5,0,13.5-6,13.5-13.5V173.7c0-7.5-6-13.5-13.5-13.5s-13.5,6-13.5,13.5v208.9     C317.8,390.1,323.8,396.1,331.3,396.1z"/>  </g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
multiply:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 32.526 32.526" style="enable-background:new 0 0 32.526 32.526;" xml:space="preserve"><polygon points="32.526,2.828 29.698,0 16.263,13.435 2.828,0 0,2.828 13.435,16.263 0,29.698 2.828,32.526 16.263,19.091   29.698,32.526 32.526,29.698 19.091,16.263 "/><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
divide:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 42 42" style="enable-background:new 0 0 42 42;" xml:space="preserve"><g>  <rect y="19" width="42" height="4"/>  <path d="M21,13c2.757,0,5-2.243,5-5s-2.243-5-5-5s-5,2.243-5,5S18.243,13,21,13z"/> <path d="M21,29c-2.757,0-5,2.243-5,5s2.243,5,5,5s5-2.243,5-5S23.757,29,21,29z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
add:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 42 42" style="enable-background:new 0 0 42 42;" xml:space="preserve"><polygon points="42,20 22,20 22,0 20,0 20,20 0,20 0,22 20,22 20,42 22,42 22,22 42,22 "/><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',printer:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 482.5 482.5" style="enable-background:new 0 0 482.5 482.5;" xml:space="preserve"><g>  <g>   <path d="M399.25,98.9h-12.4V71.3c0-39.3-32-71.3-71.3-71.3h-149.7c-39.3,0-71.3,32-71.3,71.3v27.6h-11.3     c-39.3,0-71.3,32-71.3,71.3v115c0,39.3,32,71.3,71.3,71.3h11.2v90.4c0,19.6,16,35.6,35.6,35.6h221.1c19.6,0,35.6-16,35.6-35.6     v-90.4h12.5c39.3,0,71.3-32,71.3-71.3v-115C470.55,130.9,438.55,98.9,399.25,98.9z M121.45,71.3c0-24.4,19.9-44.3,44.3-44.3h149.6     c24.4,0,44.3,19.9,44.3,44.3v27.6h-238.2V71.3z M359.75,447.1c0,4.7-3.9,8.6-8.6,8.6h-221.1c-4.7,0-8.6-3.9-8.6-8.6V298h238.3     V447.1z M443.55,285.3c0,24.4-19.9,44.3-44.3,44.3h-12.4V298h17.8c7.5,0,13.5-6,13.5-13.5s-6-13.5-13.5-13.5h-330     c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5h19.9v31.6h-11.3c-24.4,0-44.3-19.9-44.3-44.3v-115c0-24.4,19.9-44.3,44.3-44.3h316     c24.4,0,44.3,19.9,44.3,44.3V285.3z"/>   <path d="M154.15,364.4h171.9c7.5,0,13.5-6,13.5-13.5s-6-13.5-13.5-13.5h-171.9c-7.5,0-13.5,6-13.5,13.5S146.75,364.4,154.15,364.4      z"/>    <path d="M327.15,392.6h-172c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5h171.9c7.5,0,13.5-6,13.5-13.5S334.55,392.6,327.15,392.6z"     />    <path d="M398.95,151.9h-27.4c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5h27.4c7.5,0,13.5-6,13.5-13.5S406.45,151.9,398.95,151.9z"     />  </g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
"function":'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="142.514px" height="142.514px" viewBox="0 0 142.514 142.514" style="enable-background:new 0 0 142.514 142.514;"   xml:space="preserve"><g> <g>   <path d="M34.367,142.514c11.645,0,17.827-10.4,19.645-16.544c0.029-0.097,0.056-0.196,0.081-0.297     c4.236-17.545,10.984-45.353,15.983-65.58h17.886c3.363,0,6.09-2.726,6.09-6.09c0-3.364-2.727-6.09-6.09-6.09H73.103      c1.6-6.373,2.771-10.912,3.232-12.461l0.512-1.734c1.888-6.443,6.309-21.535,13.146-21.535c6.34,0,7.285,9.764,7.328,10.236     c0.27,3.343,3.186,5.868,6.537,5.579c3.354-0.256,5.864-3.187,5.605-6.539C108.894,14.036,104.087,0,89.991,0     C74.03,0,68.038,20.458,65.159,30.292l-0.49,1.659c-0.585,1.946-2.12,7.942-4.122,15.962H39.239c-3.364,0-6.09,2.726-6.09,6.09      c0,3.364,2.726,6.09,6.09,6.09H57.53c-6.253,25.362-14.334,58.815-15.223,62.498c-0.332,0.965-2.829,7.742-7.937,7.742      c-7.8,0-11.177-10.948-11.204-11.03c-0.936-3.229-4.305-5.098-7.544-4.156c-3.23,0.937-5.092,4.314-4.156,7.545     C13.597,130.053,20.816,142.514,34.367,142.514z"/>   <path d="M124.685,126.809c3.589,0,6.605-2.549,6.605-6.607c0-1.885-0.754-3.586-2.359-5.474l-12.646-14.534l12.271-14.346      c1.132-1.416,1.98-2.926,1.98-4.908c0-3.59-2.927-6.231-6.703-6.231c-2.547,0-4.527,1.604-6.229,3.684l-9.531,12.454L98.73,78.391     c-1.89-2.357-3.869-3.682-6.7-3.682c-3.59,0-6.607,2.551-6.607,6.609c0,1.885,0.756,3.586,2.357,5.471l11.799,13.592      L86.647,115.67c-1.227,1.416-1.98,2.926-1.98,4.908c0,3.589,2.926,6.229,6.699,6.229c2.549,0,4.53-1.604,6.229-3.682l10.19-13.4     l10.193,13.4C119.872,125.488,121.854,126.809,124.685,126.809z"/>  </g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
"export":'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 67.671 67.671" style="enable-background:new 0 0 67.671 67.671;" xml:space="preserve"><g>  <path d="M52.946,23.348H42.834v6h10.112c3.007,0,5.34,1.536,5.34,2.858v26.606c0,1.322-2.333,2.858-5.34,2.858H14.724    c-3.007,0-5.34-1.536-5.34-2.858V32.207c0-1.322,2.333-2.858,5.34-2.858h10.11v-6h-10.11c-6.359,0-11.34,3.891-11.34,8.858v26.606   c0,4.968,4.981,8.858,11.34,8.858h38.223c6.358,0,11.34-3.891,11.34-8.858V32.207C64.286,27.239,59.305,23.348,52.946,23.348z"/>  <path d="M24.957,14.955c0.768,0,1.535-0.293,2.121-0.879l3.756-3.756v13.028v6v11.494c0,1.657,1.343,3,3,3s3-1.343,3-3V29.348v-6   V10.117l3.959,3.959c0.586,0.586,1.354,0.879,2.121,0.879s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242l-8.957-8.957    C35.492,0.291,34.725,0,33.958,0c-0.008,0-0.015,0-0.023,0s-0.015,0-0.023,0c-0.767,0-1.534,0.291-2.12,0.877l-8.957,8.957    c-1.172,1.171-1.172,3.071,0,4.242C23.422,14.662,24.189,14.955,24.957,14.955z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
"import":'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 60.903 60.903" style="enable-background:new 0 0 60.903 60.903;" xml:space="preserve"><g>  <path d="M49.561,16.464H39.45v6h10.111c3.008,0,5.341,1.535,5.341,2.857v26.607c0,1.321-2.333,2.858-5.341,2.858H11.34   c-3.007,0-5.34-1.537-5.34-2.858V25.324c0-1.322,2.333-2.858,5.34-2.858h10.11v-6H11.34C4.981,16.466,0,20.357,0,25.324v26.605    c0,4.968,4.981,8.857,11.34,8.857h38.223c6.357,0,11.34-3.891,11.34-8.857V25.324C60.902,20.355,55.921,16.464,49.561,16.464z"/>  <path d="M39.529,29.004c-0.768,0-1.535,0.294-2.121,0.88l-3.756,3.755V20.612v-6V3.117c0-1.656-1.343-3-3-3s-3,1.344-3,3v11.494v6    v13.23l-3.959-3.958c-0.586-0.586-1.354-0.88-2.121-0.88s-1.535,0.294-2.121,0.88c-1.172,1.17-1.172,3.07,0,4.241l8.957,8.957   c0.586,0.586,1.354,0.877,2.12,0.877c0.008,0,0.016,0,0.023,0s0.015,0,0.022,0c0.768,0,1.534-0.291,2.12-0.877l8.957-8.957    c1.172-1.171,1.172-3.071,0-4.241C41.064,29.298,40.298,29.004,39.529,29.004z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
folder:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 59.911 59.911" style="enable-background:new 0 0 59.911 59.911;" xml:space="preserve"><path d="M59.605,23.399c-0.241-0.281-0.593-0.443-0.965-0.443H56V8.723c0-0.975-0.793-1.768-1.768-1.768H23.566l-2.485-4.141  c-0.317-0.53-0.898-0.859-1.516-0.859H5.767C4.793,1.956,4,2.749,4,3.723v19.232H1.27c-0.37,0-0.721,0.161-0.962,0.441  c-0.242,0.28-0.35,0.651-0.294,1.02l4.917,32.454c0.091,0.618,0.631,1.085,1.257,1.085h47.534c0.626,0,1.166-0.467,1.256-1.081  l4.918-32.454C59.953,24.053,59.847,23.681,59.605,23.399z M6,3.956h13.434l2.485,4.141c0.317,0.53,0.898,0.859,1.516,0.859H54v14 h-1v-4h-1v-3h-1v-3H9v3H8v3H7v4H6V3.956z M9,20.956h42v2H9V20.956z M10,17.956h40v1H10V17.956z M49,15.956H11v-1h38V15.956z  M53.095,55.956H6.815l-4.696-31H4h3h46h3h1.792L53.095,55.956z"/><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
score:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 297 297" style="enable-background:new 0 0 297 297;" xml:space="preserve"><g>  <path d="M288.5,17.5H8.5C3.806,17.5,0,21.306,0,26v245c0,4.694,3.806,8.5,8.5,8.5h280c4.694,0,8.5-3.806,8.5-8.5V26    C297,21.306,293.194,17.5,288.5,17.5z M280,262.5H17v-228h263V262.5z"/> <path d="M61,157h35c4.694,0,8.5-3.806,8.5-8.5v-70c0-4.694-3.806-8.5-8.5-8.5H61c-4.694,0-8.5,3.806-8.5,8.5v70    C52.5,153.194,56.306,157,61,157z M69.5,87h18v53h-18V87z"/>  <path d="M131,157h35c4.694,0,8.5-3.806,8.5-8.5v-70c0-4.694-3.806-8.5-8.5-8.5h-35c-4.694,0-8.5,3.806-8.5,8.5v70    C122.5,153.194,126.306,157,131,157z M139.5,87h18v53h-18V87z"/>  <path d="M201,140c-4.694,0-8.5,3.806-8.5,8.5s3.806,8.5,8.5,8.5h35c4.694,0,8.5-3.806,8.5-8.5v-70c0-4.694-3.806-8.5-8.5-8.5h-35   c-4.694,0-8.5,3.806-8.5,8.5s3.806,8.5,8.5,8.5h26.5v18H201c-4.694,0-8.5,3.806-8.5,8.5s3.806,8.5,8.5,8.5h26.5v18H201z"/>  <path d="M70,209.75c0,19.161,15.589,34.75,34.75,34.75s34.75-15.589,34.75-34.75S123.911,175,104.75,175S70,190.589,70,209.75z    M104.75,192c9.787,0,17.75,7.963,17.75,17.75s-7.963,17.75-17.75,17.75S87,219.537,87,209.75S94.963,192,104.75,192z"/>  <path d="M157.5,209.75c0,19.161,15.589,34.75,34.75,34.75S227,228.911,227,209.75S211.411,175,192.25,175    S157.5,190.589,157.5,209.75z M192.25,192c9.787,0,17.75,7.963,17.75,17.75s-7.963,17.75-17.75,17.75s-17.75-7.963-17.75-17.75    S182.463,192,192.25,192z"/> <path d="M35.017,253.52c2.24,0,4.431-0.91,6.01-2.5c1.58-1.58,2.49-3.77,2.49-6c0-2.24-0.91-4.43-2.49-6.02    c-1.579-1.58-3.77-2.48-6.01-2.48s-4.43,0.9-6.01,2.48c-1.58,1.59-2.49,3.779-2.49,6.02c0,2.23,0.91,4.42,2.49,6    C30.587,252.609,32.776,253.52,35.017,253.52z"/> <path d="M35.017,60.49c2.24,0,4.42-0.91,6.01-2.49c1.58-1.59,2.49-3.78,2.49-6.021c0-2.229-0.91-4.42-2.49-6.01    c-1.579-1.58-3.77-2.49-6.01-2.49s-4.43,0.91-6.01,2.49c-1.58,1.59-2.49,3.78-2.49,6.01c0,2.24,0.91,4.431,2.49,6.021   C30.587,59.58,32.776,60.49,35.017,60.49z"/> <path d="M260.927,253.52c2.23,0,4.42-0.91,6.01-2.5c1.58-1.58,2.49-3.77,2.49-6c0-2.24-0.91-4.43-2.49-6.02    c-1.59-1.58-3.779-2.48-6.01-2.48c-2.24,0-4.43,0.9-6.01,2.48c-1.59,1.59-2.49,3.779-2.49,6.02c0,2.23,0.9,4.42,2.49,6    C256.497,252.609,258.687,253.52,260.927,253.52z"/>  <path d="M260.927,60.49c2.23,0,4.42-0.91,6.01-2.49c1.58-1.59,2.49-3.78,2.49-6.021c0-2.229-0.91-4.42-2.49-6.01   c-1.59-1.58-3.779-2.49-6.01-2.49c-2.24,0-4.43,0.91-6.01,2.49c-1.59,1.59-2.49,3.78-2.49,6.01c0,2.24,0.9,4.431,2.49,6.021   C256.497,59.58,258.687,60.49,260.927,60.49z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
tree:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 483.6 483.6" style="enable-background:new 0 0 483.6 483.6;" xml:space="preserve"><g>  <path d="M466.2,353.25H451v-30.2c0-9.9-5.6-17.1-13.4-17.1h-53.1v-36.4h15.2c9.5,0,17.2-7.7,17.2-17.2v-30   c0-9.5-7.7-17.2-17.2-17.2h-15.2v-30.3c0-9.4-7.7-17.1-17.1-17.1H251.2v-27.3h15.4c9.5,0,17.2-7.7,17.2-17.2v-30    c0-9.5-7.7-17.2-17.2-17.2h-49.9c-9.5,0-17.2,7.7-17.2,17.2v30c0,9.5,7.7,17.2,17.2,17.2h15.1v27.3H116.1   c-9.4,0-17.1,7.7-17.1,17.1v30.2H83.7c-9.5,0-17.2,7.7-17.2,17.2v30c0,9.5,7.7,17.2,17.2,17.2h15.2v36.4h-53    c-7.8,0-13.4,7.2-13.4,17.1v30.2H17.2c-9.5,0-17.2,7.7-17.2,17.2v30c0,9.5,7.7,17.2,17.2,17.2h49.9c9.5,0,17.2-7.7,17.2-17.2v-30    c0-9.5-7.7-17.2-17.2-17.2H51.9v-27.9h113.6v27.9h-15.2c-9.5,0-17.2,7.7-17.2,17.2v30c0,9.5,7.7,17.2,17.2,17.2h49.9    c9.5,0,17.2-7.7,17.2-17.2v-30c0-9.5-7.7-17.2-17.2-17.2H185v-30.2c0-9.9-5.6-17.1-13.4-17.1h-53.1v-36.4h15.2    c9.5,0,17.2-7.7,17.2-17.2v-30c0-9.5-7.7-17.2-17.2-17.2h-15.2v-27.9h113.4v27.9h-15.1c-9.5,0-17.2,7.7-17.2,17.2v30    c0,9.5,7.7,17.2,17.2,17.2h49.9c9.5,0,17.2-7.7,17.2-17.2v-30c0-9.5-7.7-17.2-17.2-17.2h-15.4v-27.9h113.8v27.9h-15.2   c-9.5,0-17.2,7.7-17.2,17.2v30c0,9.5,7.7,17.2,17.2,17.2h15.2v36.4H312c-7.8,0-13.4,7.2-13.4,17.1v30.2h-15.2   c-9.5,0-17.2,7.7-17.2,17.2v30c0,9.5,7.7,17.2,17.2,17.2h49.9c9.5,0,17.2-7.7,17.2-17.2v-30c0-9.5-7.7-17.2-17.2-17.2h-15.2v-27.9   h113.6v27.9h-15.2c-9.5,0-17.2,7.7-17.2,17.2v30c0,9.5,7.7,17.2,17.2,17.2h49.9c9.5,0,17.2-7.7,17.2-17.2v-30   C483.3,360.95,475.7,353.25,466.2,353.25z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
www:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"   viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"><g>  <g>   <g>     <path d="M446.147,117.431h-14.817h-41.561c-6.552-21.836-18.444-41.844-35.017-58.419C328.374,32.636,293.304,18.111,256,18.111        c-62.986,0-116.359,41.919-133.707,99.32H0v80.668h122.294c16.666,55.135,66.569,95.984,126.307,99.123v20.355l-24.699,0.005        l-0.005,176.307h64.2l0.005-176.32l-24.683,0.005v-20.352c59.728-3.14,109.624-43.989,126.287-99.123h41.623h14.817H512v-80.668       H446.147z M238.719,362.615h34.565l-0.003,86.228h-34.565L238.719,362.615z M238.715,479.075l0.001-15.414h34.565l-0.001,15.414       H238.715z M273.285,347.8h-34.565l0.001-15.409h34.565L273.285,347.8z M256,32.925c33.347,0,64.694,12.984,88.274,36.562        c6.155,6.155,11.581,12.844,16.249,19.955H151.571C173.895,55.433,212.365,32.925,256,32.925z M14.817,183.284v-51.036h103.874        c-1.534,8.276-2.344,16.802-2.344,25.516c0,8.715,0.81,17.243,2.345,25.521H14.817z M256.008,282.602       c-43.632-0.005-82.099-22.508-104.427-56.509h208.842C338.099,260.098,299.636,282.602,256.008,282.602z M368.77,211.276H143.232        c-7.733-16.228-12.068-34.374-12.068-53.514c0-19.136,4.333-37.277,12.061-53.501h225.637        c7.839,16.507,11.974,34.687,11.974,53.501C380.836,176.902,376.501,195.047,368.77,211.276z M431.329,183.284h-38.021        c1.535-8.277,2.345-16.806,2.345-25.521c0.001-8.653-0.791-17.183-2.32-25.516h37.997V183.284z M497.183,183.284h-51.036v-51.036        h51.036V183.284z"/>     <path d="M199.201,159.725l-4.938,7.409l-4.938-7.409v-24.686h-14.817v24.686l-4.938,7.409l-4.938-7.409v-24.686h-14.817v26.924       c0,1.462,0.435,2.89,1.244,4.109l12.347,18.522c1.375,2.063,3.689,3.3,6.164,3.3s4.79-1.236,6.164-3.297l6.183-9.276l6.182,9.273        c1.372,2.063,3.689,3.3,6.164,3.3c2.478,0,4.792-1.236,6.164-3.297l12.347-18.522c0.812-1.219,1.244-2.647,1.244-4.109v-26.926        h-14.817V159.725z"/>      <path d="M273.288,159.725l-4.938,7.409l-4.941-7.409v-24.686h0h-14.817v24.686l-4.938,7.409l-4.938-7.409v-24.686h-14.817v26.924       c0,1.462,0.435,2.89,1.244,4.109l12.347,18.522c1.372,2.063,3.689,3.3,6.164,3.3c2.475,0,4.79-1.236,6.164-3.297l6.184-9.275        l6.181,9.272c1.375,2.063,3.689,3.3,6.164,3.3s4.79-1.236,6.167-3.297l12.347-18.522c0.812-1.219,1.244-2.647,1.244-4.109       v-26.926h-14.817V159.725z"/>      <path d="M347.374,135.039v24.686l-4.941,7.409l-4.938-7.409v-24.686h-14.817h0v24.686l-4.938,7.409l-4.941-7.409v-24.686h-14.817       v26.924c0,1.462,0.435,2.89,1.244,4.109l12.347,18.522c1.372,2.063,3.686,3.3,6.164,3.3c2.476,0,4.79-1.236,6.167-3.297       l6.183-9.276l6.182,9.273c1.372,2.063,3.686,3.3,6.162,3.3s4.792-1.236,6.17-3.297l12.347-18.522       c0.809-1.219,1.244-2.647,1.244-4.109v-26.926H347.374z"/>    </g>  </g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
font:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"   viewBox="0 0 340.111 340.111" style="enable-background:new 0 0 340.111 340.111;" xml:space="preserve"><g>  <polygon style="fill:#333E48;" points="340.111,76.316 340.111,65.175 292.206,65.175 292.206,76.316 310.588,76.316     310.588,263.794 292.206,263.794 292.206,274.935 340.111,274.935 340.111,263.794 321.729,263.794 321.729,76.316  "/> <g>   <path style="fill:#1E252B;" d="M2.067,229.59l56.068-126.615c3.909-8.731,11.03-14.018,20.684-14.018h2.068      c9.648,0,16.544,5.286,20.449,14.018l56.07,126.615c1.149,2.528,1.84,4.825,1.84,7.124c0,9.421-7.354,17.004-16.776,17.004      c-8.272,0-13.788-4.825-17.004-12.18l-10.799-25.275H43.891l-11.26,26.426c-2.988,6.893-8.961,11.029-16.315,11.029     C7.121,253.718,0,246.365,0,237.173C0,234.645,0.918,232.118,2.067,229.59z M101.568,185.011l-22.291-53.082l-22.289,53.082     H101.568z"/>    <path style="fill:#1E252B;" d="M176.011,216.951v-0.46c0-26.885,20.452-39.294,49.635-39.294c12.41,0,21.373,2.068,30.105,5.056      v-2.068c0-14.478-8.963-22.519-26.427-22.519c-9.651,0-17.464,1.378-24.128,3.447c-2.067,0.689-3.447,0.918-5.058,0.918     c-8.04,0-14.474-6.204-14.474-14.246c0-6.205,3.905-11.49,9.419-13.559c11.03-4.136,22.981-6.434,39.296-6.434      c19.071,0,32.86,5.055,41.593,13.787c9.191,9.191,13.327,22.75,13.327,39.295v56.068c0,9.423-7.583,16.775-17.005,16.775      c-10.111,0-16.774-7.123-16.774-14.477v-0.23c-8.502,9.421-20.224,15.625-37.226,15.625      C195.083,254.637,176.011,241.311,176.011,216.951z M256.208,208.908v-6.204c-5.974-2.757-13.787-4.596-22.289-4.596      c-14.938,0-24.128,5.975-24.128,17.004v0.46c0,9.422,7.813,14.936,19.072,14.936C245.178,230.509,256.208,221.548,256.208,208.908     z"/>  </g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
text:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 22.916 22.916" style="enable-background:new 0 0 22.916 22.916;" xml:space="preserve"><g>  <path d="M11.458,22.828H0.5c-0.276,0-0.5-0.224-0.5-0.5s0.224-0.5,0.5-0.5h10.958c0.276,0,0.5,0.224,0.5,0.5   S11.734,22.828,11.458,22.828z"/>  <path d="M22.416,15.582H0.5c-0.276,0-0.5-0.224-0.5-0.5s0.224-0.5,0.5-0.5h21.916c0.276,0,0.5,0.224,0.5,0.5   S22.692,15.582,22.416,15.582z"/>  <path d="M22.416,8.335H0.5c-0.276,0-0.5-0.224-0.5-0.5s0.224-0.5,0.5-0.5h21.916c0.276,0,0.5,0.224,0.5,0.5    S22.692,8.335,22.416,8.335z"/>  <path d="M22.416,1.088H0.5c-0.276,0-0.5-0.224-0.5-0.5s0.224-0.5,0.5-0.5h21.916c0.276,0,0.5,0.224,0.5,0.5    S22.692,1.088,22.416,1.088z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
table:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="475.082px" height="475.081px" viewBox="0 0 475.082 475.081" style="enable-background:new 0 0 475.082 475.081;"   xml:space="preserve"><g> <path d="M461.667,49.963c-8.949-8.947-19.698-13.418-32.265-13.418H45.682c-12.562,0-23.317,4.471-32.264,13.418   C4.473,58.912,0,69.663,0,82.228V392.86c0,12.566,4.473,23.309,13.418,32.261c8.947,8.949,19.701,13.415,32.264,13.415h383.72   c12.566,0,23.315-4.466,32.265-13.415c8.945-8.952,13.415-19.701,13.415-32.261V82.228   C475.082,69.663,470.612,58.909,461.667,49.963z M146.183,392.85c0,2.673-0.859,4.856-2.574,6.571    c-1.712,1.711-3.899,2.562-6.567,2.562h-91.36c-2.662,0-4.853-0.852-6.567-2.562c-1.713-1.715-2.568-3.898-2.568-6.571V338.03   c0-2.669,0.855-4.853,2.568-6.56c1.714-1.719,3.905-2.574,6.567-2.574h91.363c2.667,0,4.858,0.855,6.567,2.574    c1.711,1.707,2.57,3.891,2.57,6.56V392.85z M146.183,283.221c0,2.663-0.859,4.854-2.574,6.564    c-1.712,1.714-3.899,2.569-6.567,2.569h-91.36c-2.662,0-4.853-0.855-6.567-2.569c-1.713-1.711-2.568-3.901-2.568-6.564v-54.819    c0-2.664,0.855-4.854,2.568-6.567c1.714-1.709,3.905-2.565,6.567-2.565h91.363c2.667,0,4.854,0.855,6.567,2.565   c1.711,1.713,2.57,3.903,2.57,6.567V283.221z M146.183,173.587c0,2.666-0.859,4.853-2.574,6.567    c-1.712,1.709-3.899,2.568-6.567,2.568h-91.36c-2.662,0-4.853-0.859-6.567-2.568c-1.713-1.715-2.568-3.901-2.568-6.567V118.77   c0-2.666,0.855-4.856,2.568-6.567c1.714-1.713,3.905-2.568,6.567-2.568h91.363c2.667,0,4.854,0.855,6.567,2.568   c1.711,1.711,2.57,3.901,2.57,6.567V173.587z M292.362,392.85c0,2.673-0.855,4.856-2.563,6.571c-1.711,1.711-3.9,2.562-6.57,2.562   H191.86c-2.663,0-4.853-0.852-6.567-2.562c-1.713-1.715-2.568-3.898-2.568-6.571V338.03c0-2.669,0.855-4.853,2.568-6.56   c1.714-1.719,3.904-2.574,6.567-2.574h91.365c2.669,0,4.859,0.855,6.57,2.574c1.704,1.707,2.56,3.891,2.56,6.56v54.819H292.362z    M292.362,283.221c0,2.663-0.855,4.854-2.563,6.564c-1.711,1.714-3.9,2.569-6.57,2.569H191.86c-2.663,0-4.853-0.855-6.567-2.569   c-1.713-1.711-2.568-3.901-2.568-6.564v-54.819c0-2.664,0.855-4.854,2.568-6.567c1.714-1.709,3.904-2.565,6.567-2.565h91.365    c2.669,0,4.859,0.855,6.57,2.565c1.704,1.713,2.56,3.903,2.56,6.567v54.819H292.362z M292.362,173.587    c0,2.666-0.855,4.853-2.563,6.567c-1.711,1.709-3.9,2.568-6.57,2.568H191.86c-2.663,0-4.853-0.859-6.567-2.568    c-1.713-1.715-2.568-3.901-2.568-6.567V118.77c0-2.666,0.855-4.856,2.568-6.567c1.714-1.713,3.904-2.568,6.567-2.568h91.365   c2.669,0,4.859,0.855,6.57,2.568c1.704,1.711,2.56,3.901,2.56,6.567v54.817H292.362z M438.536,392.85   c0,2.673-0.855,4.856-2.562,6.571c-1.718,1.711-3.908,2.562-6.571,2.562h-91.354c-2.673,0-4.862-0.852-6.57-2.562   c-1.711-1.715-2.56-3.898-2.56-6.571V338.03c0-2.669,0.849-4.853,2.56-6.56c1.708-1.719,3.897-2.574,6.57-2.574h91.354    c2.663,0,4.854,0.855,6.571,2.574c1.707,1.707,2.562,3.891,2.562,6.56V392.85z M438.536,283.221c0,2.663-0.855,4.854-2.562,6.564    c-1.718,1.714-3.908,2.569-6.571,2.569h-91.354c-2.673,0-4.862-0.855-6.57-2.569c-1.711-1.711-2.56-3.901-2.56-6.564v-54.819    c0-2.664,0.849-4.854,2.56-6.567c1.708-1.709,3.897-2.565,6.57-2.565h91.354c2.663,0,4.854,0.855,6.571,2.565   c1.707,1.713,2.562,3.903,2.562,6.567V283.221z M438.536,173.587c0,2.666-0.855,4.853-2.562,6.567    c-1.718,1.709-3.908,2.568-6.571,2.568h-91.354c-2.673,0-4.862-0.859-6.57-2.568c-1.711-1.715-2.56-3.901-2.56-6.567V118.77   c0-2.666,0.849-4.856,2.56-6.567c1.708-1.713,3.897-2.568,6.57-2.568h91.354c2.663,0,4.854,0.855,6.571,2.568   c1.707,1.711,2.562,3.901,2.562,6.567V173.587z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
filter:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 247.46 247.46" style="enable-background:new 0 0 247.46 247.46;" xml:space="preserve"><path d="M246.744,13.984c-1.238-2.626-3.881-4.301-6.784-4.301H7.5c-2.903,0-5.545,1.675-6.784,4.301 c-1.238,2.626-0.85,5.73,0.997,7.97l89.361,108.384v99.94c0,2.595,1.341,5.005,3.545,6.373c1.208,0.749,2.579,1.127,3.955,1.127 c1.137,0,2.278-0.259,3.33-0.78l50.208-24.885c2.551-1.264,4.165-3.863,4.169-6.71l0.098-75.062l89.366-108.388 C247.593,19.714,247.982,16.609,246.744,13.984z M143.097,122.873c-1.105,1.34-1.711,3.023-1.713,4.761l-0.096,73.103 l-35.213,17.453v-90.546c0-1.741-0.605-3.428-1.713-4.771L23.404,24.682h200.651L143.097,122.873z"/><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
reddit:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="430.117px" height="430.117px" viewBox="0 0 430.117 430.117" style="enable-background:new 0 0 430.117 430.117;"   xml:space="preserve"><g> <path id="reddit" d="M307.523,231.062c1.11,2.838,1.614,5.769,1.614,8.681c0,5.862-2.025,11.556-5.423,16.204    c-3.36,4.593-8.121,8.158-13.722,9.727h0.01c-0.047,0.019-0.094,0.019-0.117,0.037c-0.023,0-0.061,0.019-0.079,0.019    c-2.623,0.896-5.312,1.316-7.98,1.316c-6.254,0-12.396-2.254-17.306-6.096c-4.872-3.826-8.56-9.324-9.717-15.845h-0.01    c0-0.019,0-0.042-0.009-0.069c0-0.019,0-0.038-0.019-0.065h0.019c-0.364-1.681-0.551-3.36-0.551-5.021    c0-5.647,1.923-11.07,5.097-15.551c3.164-4.453,7.626-7.99,12.848-9.811c0.019,0,0.038-0.01,0.038-0.01   c0.027,0,0.027-0.027,0.051-0.027c2.954-1.092,6.072-1.639,9.157-1.639c5.619,0,11.154,1.704,15.821,4.821    c4.611,3.066,8.354,7.561,10.23,13.143c0.019,0.037,0.019,0.07,0.037,0.103c0,0.037,0.019,0.057,0.037,0.084H307.523z    M290.329,300.349c-2.202-1.428-4.751-2.291-7.448-2.291c-2.175,0-4.434,0.621-6.445,1.955l0,0   c-19.004,11.342-41.355,17.558-63.547,17.558c-16.65,0-33.199-3.514-48.192-10.879l-0.077-0.037l-0.075-0.028   c-2.261-0.924-4.837-2.889-7.647-4.76c-1.428-0.925-2.919-1.844-4.574-2.521c-1.633-0.695-3.447-1.181-5.386-1.181    c-1.605,0-3.292,0.359-4.957,1.115c-0.086,0.033-0.168,0.065-0.252,0.098h0.009c-2.616,0.999-4.66,2.829-5.974,4.994    c-1.372,2.23-2.046,4.826-2.046,7.411c0,2.334,0.551,4.667,1.691,6.786c1.085,2.007,2.754,3.762,4.938,4.938    c21.429,14.454,46.662,21.002,71.992,20.979c22.838,0,45.814-5.287,66.27-14.911l0.107-0.065l0.103-0.056   c2.697-1.597,6.282-3.029,9.661-5.115c1.671-1.064,3.304-2.296,4.704-3.897c1.4-1.591,2.525-3.551,3.16-5.875v-0.01   c0.266-1.026,0.392-2.025,0.392-3.024c0-1.899-0.467-3.701-1.241-5.32C294.361,303.775,292.504,301.778,290.329,300.349z     M139.875,265.589c0.037,0,0.086,0.014,0.128,0.037c2.735,0.999,5.554,1.493,8.345,1.493c6.963,0,13.73-2.852,18.853-7.5    c5.115-4.662,8.618-11.257,8.618-18.775c0-0.196,0-0.392-0.009-0.625c0.019-0.336,0.028-0.705,0.028-1.083    c0-7.458-3.456-14.08-8.522-18.762c-5.085-4.686-11.836-7.551-18.825-7.551c-1.867,0-3.769,0.219-5.628,0.653   c-0.028,0-0.049,0.009-0.077,0.009c0,0-0.019,0-0.028,0c-9.252,1.937-17.373,8.803-20.37,18.248l0,0v0.01   c0,0.019-0.009,0.037-0.009,0.037c-0.861,2.586-1.262,5.255-1.262,7.896c0,5.787,1.913,11.426,5.211,16.064   c3.269,4.56,7.894,8.145,13.448,9.819C139.816,265.561,139.835,265.571,139.875,265.589z M430.033,198.094v0.038    c0.066,0.94,0.084,1.878,0.084,2.81c0,10.447-3.351,20.493-8.941,29.016c-5.218,7.976-12.414,14.649-20.703,19.177    c0.532,4.158,0.84,8.349,0.84,12.526c-0.01,22.495-7.766,44.607-21.272,62.329v0.009h-0.028    c-24.969,33.216-63.313,52.804-102.031,62.684h-0.01l-0.027,0.023c-20.647,5.013-41.938,7.574-63.223,7.574   c-31.729,0-63.433-5.722-93.018-17.585l-0.009-0.028h-0.028c-30.672-12.643-59.897-32.739-77.819-62.184    c-9.642-15.71-14.935-34.141-14.935-52.659c0-4.19,0.283-8.387,0.843-12.536c-8.072-4.545-15.063-10.99-20.255-18.687   c-5.542-8.266-9.056-17.95-9.5-28.187v-0.04v-0.037v-0.082c0.009-14.337,6.237-27.918,15.915-37.932    c9.677-10.011,22.896-16.554,37.075-16.554c0.196,0,0.392,0,0.588,0c1.487-0.101,2.987-0.159,4.488-0.159   c7.122,0,14.26,1.153,21.039,3.752l0.037,0.028l0.038,0.012c5.787,2.437,11.537,5.377,16.662,9.449   c1.661-0.871,3.472-1.851,5.504-2.625c31.064-18.395,67.171-25.491,102.358-27.538c0.306-17.431,2.448-35.68,10.949-51.65   c7.08-13.269,19.369-23.599,34-27.179l0.061-0.03l0.079-0.009c5.573-1.078,11.192-1.575,16.774-1.575   c14.869,0,29.561,3.521,43.31,9.017c6.086-9.185,14.776-16.354,24.97-20.375l0.098-0.056l0.098-0.037   c5.983-1.864,12.303-2.954,18.646-2.954c6.692,0,13.437,1.223,19.756,4.046v-0.023c0.009,0.023,0.019,0.023,0.019,0.023   c0.047,0.016,0.084,0.044,0.116,0.044c9.059,3.489,16.727,9.937,22.164,17.95c5.442,8.048,8.644,17.688,8.644,27.599    c0,1.827-0.103,3.657-0.317,5.489l-0.019,0.037c0,0.028,0,0.068-0.01,0.096c-1.063,12.809-7.551,24.047-16.736,32.063   c-9.24,8.048-21.207,12.909-33.49,12.909c-1.97,0-3.958-0.11-5.937-0.374c-12.182-0.931-23.541-6.826-31.886-15.595   c-8.373-8.755-13.768-20.453-13.768-33.08c0-0.611,0.056-1.237,0.074-1.843c-11.435-5.092-23.578-9.316-35.646-9.306    c-1.746,0-3.491,0.096-5.237,0.273h-0.019c-9.035,0.871-17.436,6.566-21.506,14.757v0.009v0.028    c-6.179,12.034-7.411,26.101-7.598,40.064c34.639,2.259,69.483,10.571,100.043,28.138h0.047l0.438,0.259    c0.579,0.343,1.652,0.931,2.623,1.449c2.101-1.704,4.322-3.456,6.856-4.966c9.264-6.17,20.241-9.238,31.223-9.238   c4.872,0,9.749,0.621,14.481,1.834h0.019l0.196,0.058c0.07,0.01,0.121,0.033,0.178,0.033v0.009   c11.183,2.845,21.3,9.267,28.917,17.927c7.612,8.674,12.731,19.648,13.73,31.561v0.025H430.033z M328.002,84.733    c0,0.469,0.01,0.95,0.057,1.44v0.028v0.056c0.224,6.018,3.065,11.619,7.383,15.756c4.34,4.14,10.1,6.702,15.942,6.725h0.08h0.079    c0.42,0.033,0.85,0.033,1.26,0.033c5.899,0.009,11.752-2.532,16.148-6.655c4.405-4.144,7.309-9.78,7.542-15.849l0.009-0.028v-0.037    c0.038-0.464,0.057-0.903,0.057-1.377c0-6.247-2.922-12.202-7.496-16.612c-4.555-4.406-10.688-7.136-16.735-7.12    c-1.951,0-3.884,0.266-5.778,0.854l-0.065,0.005l-0.056,0.023c-4.984,1.295-9.656,4.368-13.012,8.449   C330.046,74.486,328.002,79.508,328.002,84.733z M72.312,177.578c-4.63-2.156-9.418-3.696-14.15-3.676    c-0.794,0-1.597,0.047-2.39,0.133h-0.11l-0.11,0.014c-6.795,0.187-13.653,3.15-18.801,7.899    c-5.152,4.732-8.559,11.122-8.821,18.167v0.065l-0.012,0.058c-0.046,0.57-0.065,1.137-0.065,1.683    c0,4.345,1.333,8.545,3.593,12.368c1.673,2.847,3.867,5.441,6.348,7.701C45.735,204.602,58.142,189.845,72.312,177.578z    M374.066,262.635c0-15.5-5.592-31.069-14.646-43.604c-18.053-25.119-46.055-41.502-75.187-50.636l-0.205-0.072   c-5.592-1.715-11.238-3.234-16.933-4.534c-17.025-3.876-34.48-5.806-51.917-5.806c-23.414,0-46.827,3.465-69.245,10.379   c-29.125,9.243-57.221,25.51-75.233,50.71v0.019c-9.129,12.587-14.475,28.208-14.475,43.763c0,5.727,0.716,11.453,2.23,17.025   l0.019,0.01c3.278,12.508,9.689,23.671,17.989,33.393c8.295,9.745,18.472,18.058,29.176,24.839c2.371,1.47,4.751,2.87,7.187,4.237   c31.094,17.356,66.898,24.964,102.445,24.964c6.012,0,12.06-0.214,18.033-0.644c35.797-2.959,71.742-13.525,100.8-35.115    l0.01-0.023c9.25-6.837,17.818-15.112,24.595-24.525c6.805-9.418,11.789-19.947,14.002-31.382V275.6l0.009-0.01   C373.627,271.32,374.066,266.985,374.066,262.635z M402.32,200.95c-0.009-3.762-0.868-7.507-2.753-11l-0.047-0.044l-0.019-0.056   c-2.521-5.19-6.479-9.11-11.248-11.782c-4.77-2.69-10.352-4.056-15.952-4.056c-5.063,0-10.1,1.132-14.57,3.379    c14.216,12.344,26.687,27.179,34.746,44.636c2.595-2.259,4.808-5.018,6.464-8.084C401.098,209.92,402.32,205.405,402.32,200.95z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
whitehouse:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="529.234px" height="529.234px" viewBox="0 0 529.234 529.234" style="enable-background:new 0 0 529.234 529.234;"   xml:space="preserve"><g> <g>   <path d="M478.319,297.626h17.188c1.295,0,2.345-1.049,2.345-2.344v-30.86c0-1.294-1.05-2.344-2.345-2.344h-17.188      c-1.295,0-2.344,1.049-2.344,2.344v30.86C475.977,296.577,477.024,297.626,478.319,297.626z M480.663,266.766h12.5v26.172h-12.5     V266.766z"/>    <path d="M33.724,297.626h17.188c1.294,0,2.344-1.049,2.344-2.344v-30.86c0-1.294-1.05-2.344-2.344-2.344H33.724      c-1.294,0-2.344,1.049-2.344,2.344v30.86C31.38,296.577,32.429,297.626,33.724,297.626z M36.067,266.766h12.5v26.172h-12.5      V266.766z"/>    <path d="M74.088,297.626h17.188c1.294,0,2.344-1.049,2.344-2.344v-30.86c0-1.294-1.05-2.344-2.344-2.344H74.088      c-1.294,0-2.344,1.049-2.344,2.344v30.86C71.745,296.577,72.794,297.626,74.088,297.626z M76.432,266.766h12.5v26.172h-12.5     V266.766z"/>    <path d="M114.454,297.626h17.188c1.294,0,2.344-1.049,2.344-2.344v-30.86c0-1.294-1.05-2.344-2.344-2.344h-17.188      c-1.295,0-2.344,1.049-2.344,2.344v30.86C112.11,296.577,113.159,297.626,114.454,297.626z M116.797,266.766h12.5v26.172h-12.5      V266.766z"/>    <path d="M154.818,297.626h17.188c1.294,0,2.344-1.049,2.344-2.344v-30.86c0-1.294-1.05-2.344-2.344-2.344h-17.188      c-1.295,0-2.344,1.049-2.344,2.344v30.86C152.475,296.577,153.523,297.626,154.818,297.626z M157.162,266.766h12.5v26.172h-12.5     V266.766z"/>    <path d="M33.724,358.954h17.188c1.294,0,2.344-1.049,2.344-2.344v-30.859c0-1.295-1.05-2.344-2.344-2.344H33.724     c-1.294,0-2.344,1.049-2.344,2.344v30.859C31.38,357.905,32.429,358.954,33.724,358.954z M36.067,328.095h12.5v26.172h-12.5     V328.095z"/>    <path d="M74.088,358.954h17.188c1.294,0,2.344-1.049,2.344-2.344v-30.859c0-1.295-1.05-2.344-2.344-2.344H74.088     c-1.294,0-2.344,1.049-2.344,2.344v30.859C71.745,357.905,72.794,358.954,74.088,358.954z M76.432,328.095h12.5v26.172h-12.5      V328.095z"/>    <path d="M114.454,358.954h17.188c1.294,0,2.344-1.049,2.344-2.344v-30.859c0-1.295-1.05-2.344-2.344-2.344h-17.188     c-1.295,0-2.344,1.049-2.344,2.344v30.859C112.11,357.905,113.159,358.954,114.454,358.954z M116.797,328.095h12.5v26.172h-12.5     V328.095z"/>    <path d="M154.818,358.954h17.188c1.294,0,2.344-1.049,2.344-2.344v-30.859c0-1.295-1.05-2.344-2.344-2.344h-17.188     c-1.295,0-2.344,1.049-2.344,2.344v30.859C152.475,357.905,153.523,358.954,154.818,358.954z M157.162,328.095h12.5v26.172h-12.5      V328.095z"/>    <path d="M526.887,231.024h-9.113v-15.885c0-1.294-1.049-2.344-2.344-2.344H379.751V184.93c0-1.294-1.049-2.344-2.344-2.344h-9.114      V172.43c0-1.294-1.05-2.344-2.344-2.344c-1.295,0-2.344,1.049-2.344,2.344v10.156h-9.114c-1.295,0-2.344,1.049-2.344,2.344v27.865     h-12.5V197.43c0-1.294-1.049-2.344-2.345-2.344h-70.345v-37.632l12.399-6.377c0.009-0.005,0.017-0.012,0.024-0.017      c0.084-0.045,0.162-0.102,0.241-0.157c0.049-0.034,0.102-0.062,0.146-0.1c0.059-0.048,0.109-0.107,0.165-0.162      c0.055-0.055,0.112-0.105,0.161-0.165c0.036-0.045,0.065-0.098,0.101-0.146c0.055-0.079,0.111-0.156,0.156-0.241      c0.005-0.009,0.012-0.016,0.017-0.025c0.024-0.049,0.038-0.101,0.061-0.151c0.033-0.082,0.07-0.163,0.098-0.248     c0.021-0.073,0.032-0.146,0.048-0.22c0.015-0.075,0.032-0.149,0.039-0.225s0.005-0.151,0.005-0.228s0.002-0.151-0.005-0.228     s-0.024-0.15-0.039-0.226c-0.016-0.073-0.027-0.147-0.048-0.22c-0.026-0.085-0.063-0.166-0.098-0.248     c-0.021-0.05-0.035-0.102-0.061-0.151c-0.005-0.009-0.012-0.016-0.017-0.025c-0.046-0.086-0.104-0.165-0.158-0.244      c-0.034-0.047-0.062-0.099-0.098-0.143c-0.052-0.062-0.111-0.115-0.17-0.172c-0.053-0.052-0.101-0.108-0.157-0.155      c-0.047-0.039-0.104-0.07-0.154-0.106c-0.076-0.053-0.151-0.107-0.232-0.15c-0.01-0.005-0.017-0.012-0.025-0.017l-13.671-7.031      c-0.728-0.374-1.596-0.342-2.293,0.083c-0.697,0.425-1.123,1.184-1.123,2.001v53.125h-70.345c-1.294,0-2.344,1.049-2.344,2.344      v15.365h-12.5v-27.865c0-1.294-1.049-2.344-2.344-2.344h-9.114v-10.156c0-1.294-1.05-2.344-2.344-2.344     c-1.295,0-2.344,1.049-2.344,2.344v10.156h-9.115c-1.294,0-2.344,1.049-2.344,2.344v27.865H13.802      c-1.294,0-2.344,1.05-2.344,2.344v15.885H2.344c-1.295,0-2.344,1.049-2.344,2.344v9.375c0,1.294,1.049,2.344,2.344,2.344h9.114      v142.189c0,1.295,1.05,2.344,2.344,2.344h178.125h16.146H234.8h16.146h27.341h16.146h26.728h16.146h178.125     c1.295,0,2.344-1.049,2.344-2.344V245.086h9.114c1.295,0,2.344-1.049,2.344-2.344v-9.375     C529.23,232.073,528.183,231.024,526.887,231.024z M266.959,145.803l6.203,3.19l-6.203,3.19V145.803z M154.167,187.274h18.229     v25.521h-18.229V187.274z M189.583,384.931H16.146V245.086h173.438L189.583,384.931L189.583,384.931z M189.583,240.399H13.802     H4.688v-4.688h9.114h175.781V240.399z M189.583,231.024H16.146v-13.542h135.678h22.916h14.844L189.583,231.024L189.583,231.024z      M264.615,201.811l61.474,26.87H203.142L264.615,201.811z M194.271,215.139v-15.365h63.301l-63.301,27.668V215.139z      M205.729,384.931h-11.458V245.086h11.458L205.729,384.931L205.729,384.931z M232.455,384.931h-22.039V245.086h22.039V384.931z       M248.601,384.931h-11.458V245.086h11.458V384.931z M275.941,384.931h-22.653V245.086h22.653V384.931z M292.087,384.931h-11.458     V245.086h11.458V384.931z M318.814,384.931h-22.04V245.086h22.04V384.931z M334.96,384.931h-11.458V245.086h11.458V384.931z      M334.96,240.399h-13.802h-26.728h-16.146h-27.341h-16.146h-26.727h-13.802v-7.031h140.689v7.031H334.96z M334.96,215.139v12.303      l-63.302-27.668h63.302V215.139z M356.835,187.274h18.229v25.521h-18.229V187.274z M339.647,217.482h14.844h22.916h135.678v13.542     H339.662c0-0.065-0.01-0.127-0.015-0.191V217.482L339.647,217.482z M513.085,384.931H339.647V245.086h173.438V384.931z       M524.543,240.399h-9.113H339.647v-4.688h175.78h9.114L524.543,240.399L524.543,240.399z"/>    <path d="M437.955,297.626h17.188c1.295,0,2.344-1.049,2.344-2.344v-30.86c0-1.294-1.049-2.344-2.344-2.344h-17.188     c-1.295,0-2.344,1.049-2.344,2.344v30.86C435.611,296.577,436.66,297.626,437.955,297.626z M440.299,266.766h12.5v26.172h-12.5      V266.766z"/>    <path d="M397.59,297.626h17.188c1.294,0,2.344-1.049,2.344-2.344v-30.86c0-1.294-1.05-2.344-2.344-2.344H397.59      c-1.295,0-2.344,1.049-2.344,2.344v30.86C395.246,296.577,396.295,297.626,397.59,297.626z M399.935,266.766h12.5v26.172h-12.5      V266.766z"/>    <path d="M357.227,297.626h17.188c1.295,0,2.344-1.049,2.344-2.344v-30.86c0-1.294-1.049-2.344-2.344-2.344h-17.188     c-1.295,0-2.345,1.049-2.345,2.344v30.86C354.882,296.577,355.932,297.626,357.227,297.626z M359.569,266.766h12.5v26.172h-12.5     V266.766z"/>    <path d="M478.319,358.954h17.188c1.295,0,2.345-1.049,2.345-2.344v-30.859c0-1.295-1.05-2.344-2.345-2.344h-17.188     c-1.295,0-2.344,1.049-2.344,2.344v30.859C475.977,357.905,477.024,358.954,478.319,358.954z M480.663,328.095h12.5v26.172h-12.5      V328.095z"/>    <path d="M437.955,358.954h17.188c1.295,0,2.344-1.049,2.344-2.344v-30.859c0-1.295-1.049-2.344-2.344-2.344h-17.188      c-1.295,0-2.344,1.049-2.344,2.344v30.859C435.611,357.905,436.66,358.954,437.955,358.954z M440.299,328.095h12.5v26.172h-12.5     V328.095z"/>    <path d="M397.59,358.954h17.188c1.294,0,2.344-1.049,2.344-2.344v-30.859c0-1.295-1.05-2.344-2.344-2.344H397.59     c-1.295,0-2.344,1.049-2.344,2.344v30.859C395.246,357.905,396.295,358.954,397.59,358.954z M399.935,328.095h12.5v26.172h-12.5     V328.095z"/>    <path d="M357.227,358.954h17.188c1.295,0,2.344-1.049,2.344-2.344v-30.859c0-1.295-1.049-2.344-2.344-2.344h-17.188      c-1.295,0-2.345,1.049-2.345,2.344v30.859C354.882,357.905,355.932,358.954,357.227,358.954z M359.569,328.095h12.5v26.172h-12.5      V328.095z"/>  </g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>'};
window.SVGS=SVGS;function Icons(a,b){a=SVGS[a].substr(4);return`<svg width="${b}" height="${b}" class="SVGIcon" `+a}window.Icons=Icons;class TileToolbarChisel extends AbstractChisel{getHakon(){const a=this.getTheme();return`.TileToolbarChisel
 background ${a.contextMenuBackground}
 border 1px solid ${a.lineColor}
 font-size 12px
 position absolute
 padding 8px
 z-index 991
 min-width 300px
 top 100%
 left 0
 cursor pointer
 svg
  fill ${a.greyish}
  padding 1px 3px 3px 3px
  &:hover
   fill ${a.foregroundColor}`}getTargetTile(){return this.getParent()}getStumpCode(){var a=this.getTargetTile();this._getSuggestionsStumpCode();const b=a.getExampleTemplate(),c=a.getDefinition();let d="";b&&(d=`
 span ${Icons("function",20)}
  title See an example using ${a.getFirstWord()}
  data-onClickCommand tile createProgramFromTileExampleCommand`);a=c.getExpectedLineCellTypes().split(" ").slice(1).join(" ");return`div
 class TileToolbarChisel
 span ${Icons("copy",20)}
  data-onClickCommand tile cloneTileCommand
 span ${Icons("trash",20)}
  data-onClickCommand tile destroyTileCommand
 span ${Icons("inspector",20)}
  data-onClickCommand tile inspectTileCommand`+d+`
 div ${a?"Parameters: "+a:""}`+jtree.TreeNode.nest(this._getFormStumpCode(),1)}_getTileTypeDropdownStumpCode(){const a=this.getTargetTile(),b=this.getApp().getMountedTab().getTabProgram().getGrammarProgram().getRunTimeNodeTypeNames().filter(a=>!a.includes("_")&&!a.startsWith("@"));b.sort();const c=a.getFirstWord();return`select
 data-onChangeCommand tile changeTileTypeCommand
${b.map(a=>` option ${a}
  value ${a}
  ${c===a?"selected":"noOp"}`).join("\n")}`}_getParentDropdownStumpCode(){const a=this.getTargetTile(),b=a.getTileProcess(),c=a.getParent(),d=b.getProcessTiles().filter(b=>b!==a).map(a=>({name:a.getFirstWordPathRelativeTo(b),value:a.getPathVectorRelativeTo(b).join(" "),isParent:a===c})).map(a=>` option ${a.name}
  value ${a.value}
  ${a.isParent?"selected":"noOp"}`).join("\n");return`select
 data-onChangeCommand tile changeParentCommand
 option (top)
  value 
  ${c.isProcess()?"selected":"noOp"}${d?"\n"+d:""}`}_getSuggestionsStumpCode(){return""}_getFormStumpCode(){var a=this.getTargetTile();const b=[];b.unshift(["parent",this._getParentDropdownStumpCode()]);b.unshift(["type",this._getTileTypeDropdownStumpCode()]);b.unshift(["content",`input
 data-onChangeCommand tile changeTileContentAndRenderCommand
 value ${a.getContent()||""}`]);a=b.map(a=>`  tr
   td ${a[0]}
   td${jtree.TreeNode.nest(a[1],4)}`).join("\n");return`form
 table${a?"\n"+a:a}`}}window.TileToolbarChisel=TileToolbarChisel;const StorageKeys={autoSave:"__autoSave",appState:"__appState",visitCount:"__visitCount",workingFolderFullDiskFolderPath:"__workingFolderFullDiskFolderPath",isKey:a=>{StorageKeys._storageKeysmap||(StorageKeys._storageKeysmap={},Object.values(StorageKeys).forEach(a=>StorageKeys._storageKeysmap[a]=!0));return StorageKeys._storageKeysmap[a]}};window.StorageKeys=StorageKeys;
class AbstractModalChisel extends AbstractChisel{getHakon(){const a=this.getTheme();return`${super.getHakon()}
.modalBackground
 position fixed
 top 0
 left 0
 width 100%
 height 100%
 z-index 1000
 display flex
 padding-top 50px
 align-items baseline
 justify-content center
 box-sizing border-box
 background ${a.modalDimmerBackground}

.modalContent
 background ${a.contextMenuBackground}
 color ${a.foregroundColor}
 box-shadow 0px 0px 2px ${a.boxShadow}
 padding 20px
 position relative
 min-width 600px
 max-width 800px
 max-height 90%
 white-space nowrap
 text-overflow ellipsis
 overflow-x hidden
 overflow-y scroll
 textarea
  margin-bottom 10px
  white-space pre
 pre
  ${a.enableTextSelect(2)}

.modalClose
 position absolute
 top 10px
 right 10px
 cursor pointer`}getStumpCode(){return`section
 data-onClickCommand chisel unmountAndDestroyCommand
 class modalBackground
 section
  data-onClickCommand chisel stopPropagationCommand
  class modalContent
  a X
   id closeModalX
   data-onClickCommand chisel unmountAndDestroyCommand
   class modalClose${jtree.TreeNode.nest(this.getModalStumpCode(),2)}`}}window.AbstractModalChisel=AbstractModalChisel;
class HelpModal extends AbstractModalChisel{getMomentHelp(){return"Char;Example;Description{YYYY;2014;4 or 2 digit year{YY;14;2 digit year{Y;-25;Year with any number of digits and sign{Q;1..4;Quarter of year. Sets month to first month in quarter.{M MM;1..12;Month number{MMM MMMM;Jan..December;Month name in locale set by moment.locale(){D DD;1..31;Day of month{Do;1st..31st;Day of month with ordinal{DDD DDDD;1..365;Day of year{X;1410715640.579;Unix timestamp{x;1410715640579;Unix ms timestamp{H HH;0..23;24 hour time{h hh;1..12;12 hour time used with a A.{a/p A/P;am pm;Post or ante meridiem{m mm;0..59;Minutes{s ss;0..59;Seconds{S SS SSS;0..999;Fractional seconds{Z ZZ;+12:00;Offset from UTC as +-HH:mm, +-HHmm, or Z{w ww;1..53;Locale week of year{e;0..6;Locale day of week{ddd dddd;Mon...Sunday;Day name in locale set by moment.locale(){E;1..7;ISO day of week".split("{").map(a=>{a=
a.split(";");return`<tr><td>${a[0]}</td><td>${a[1]}</td><td>${a[2]}</td></tr>`}).join("")}getHakon(){return`${super.getHakon()}
p
 width 100%
 white-space normal
.helpToggle
 display block
.helpSection
.helpCategory
 font-weight bold
#shortcutsHelp td
 padding-right 10px`}_getShortcutsHelpStumpCode(){let a="";const b=this.getApp();return`table
 id shortcutsHelp
 class helpSection
${b.getKeyboardShortcuts().map(c=>{var d=c.getCategory();let e="";d!==a&&(e=` tr
  td <br>${d}
   class helpCategory
  td
`,a=d);d=c.getDescription();return`${e} tr
  style ${d?"":"display: none;"}
  td ${c.getKeyCombo()||"-"}
  td &nbsp;&nbsp;
   ${c.isEnabled(b)?"a":"span"} ${d}
    data-onClickCommand app ${c.getFn()}`}).join("\n")}`}getModalStumpCode(){const a=this.getApp();return`h4 About ohayo
p ohayo is an interactive data dashboard builder
p Current working folder: ${a.getDefaultDisk().getPathBase()}
p Version ${a.getVersion()} ${a.constructor.name}
p
 a Welcome Page
  id welcomePageButton
  data-onClickCommand app openOhayoProgramCommand
  value ohayo.flow
a Keyboard Shortcuts
 class helpToggle
 data-onClickCommand app toggleShadowByIdCommand
 value shortcutsHelp
${this._getShortcutsHelpStumpCode()}`}}window.HelpModal=HelpModal;const DemoTemplates="faq.flow\n web.get /standard-packages/samples/faq.md\n  format text\n  hidden\n  markdown.toHtml\nohayo.flow\n web.get /standard-packages/samples/welcome.md?22\n  format text\n  hidden\n  markdown.toHtml\n challenge.list\n templates.list\n layout column";window.DemoTemplates=DemoTemplates;const FlowTemplates={_fromDelimited:(a,b,c)=>`data.localStorage ${c.initLocalDataStorage(a,b)}
 tables.basic`};FlowTemplates.tsv=FlowTemplates._fromDelimited;FlowTemplates.json=(a,b,c)=>`data.localStorage ${c.initLocalDataStorage(a,b)}`;FlowTemplates.csv=(a,b,c)=>3<b.split("\n\n").length?FlowTemplates._multiCsv(a,b,c):FlowTemplates._fromDelimited(a,b,c);FlowTemplates._multiCsv=(a,b,c)=>b.split("\n\n").map(a=>a.trim()).filter(a=>a).map(b=>{b=b.split("\n");const d=b.shift();return`data.localStorage ${c.initLocalDataStorage(a+"-"+d,b.join("\n"))}
 tables.basic ${d}`}).join("\n");window.FlowTemplates=FlowTemplates;const MiniTemplate="editor.files\n hidden\n rows.sortBy link\n  hidden\n  editor.gallery";window.MiniTemplate=MiniTemplate;const SpeedTestTemplate=(a,b)=>`data.inline
 content
  ${b.replace(/\n/g,"\n  ")}
 html.h1 ${a}
 rows.sortBy timeToLoad
  rows.reverse
   tables.basic Slow Load Times
 rows.sortBy timeToRender
  rows.reverse
   tables.basic Slow Render Times
 show.mean timeToLoad
 show.mean timeToRender
 show.median timeToRender
 show.sum timeToLoad
 show.sum timeToRender
 show.count timeToRender`;window.SpeedTestTemplate=SpeedTestTemplate;const ThemeConstants={dark:"dark",workshop:"workshop",white:"white",glass:"glass",clearGlass:"clearGlass"};window.ThemeConstants=ThemeConstants;
class Theme{constructor(a){a=void 0===a?{}:a;const {backgroundColor:b="rgb(255,255,255)",foregroundColor:c="black",fn:d="lighten",selectionColor:e="rgb(42, 89, 178)"}=a;let f=a.grayStartColor||c;this.tileBackgroundColor=this.contextMenuBackground=this.wallBackground=this.bodyBackground=this.programsBackground=this.tabBackground=this.menuBackground=this.backgroundColor=b;this.tileShadow="none";this.tileOpacity=1;this.foregroundColor=this.menuChiselColor=c;this.lineColor=tinycolor(c).setAlpha(.075).toString();
this.boxShadow=tinycolor(c).setAlpha(.1).toString();this.slightlyDarkerBackground=tinycolor(b).darken(5).toString();this.activeTabColor=this.darkerBackground=tinycolor(b).darken(10).toString();this.darkBlack=tinycolor(f)[d](20).toString();this.mediumBlack=tinycolor(f)[d](40).toString();this.midGray=tinycolor(f)[d](60).toString();this.greyish=a.greyish||tinycolor(f)[d](82).toString();this.lightGrey=tinycolor(f)[d](93).toString();this.lightGrey=a.lightGrey||tinycolor(f)[d](93).toString();this.veryLightGrey=
a.veryLightGrey||tinycolor(f)[d](97).toString();this.borderColor=this.greyish;this.linkColor=this.hoverBackground=e;this.selectedOutline=tinycolor(e).setAlpha(.8).toString();this.selectionBackground=tinycolor(e).setAlpha(.1).toString();this.errorColor="rgb(226, 120, 121)";this.successColor="#4CAF50";this.warningColor="orange";this.white="#fff";this.fonts="'San Francisco', 'Myriad Set Pro', 'Lucida Grande', 'Helvetica Neue', Helvetica, Arial, Verdana, sans-serif";this.modalDimmerBackground=tinycolor("#000").setAlpha(.4).toString();
Object.assign(this,a)}enableTextSelect(a){return Theme._getIndented(a,"-moz-user-select text\n-webkit-user-select text\n-ms-user-select text\nuser-select text")}getHeatColor(a){return`hsl(200, ${25+75*a}%, ${20+25*a}%)`}static _getIndented(a,b){return b.split(/\n/g).join("\n"+" ".repeat(a))}disableTextSelect(a){return Theme._getIndented(a,"-webkit-touch-callout none\n-webkit-user-select none\n-khtml-user-select none\n-moz-user-select none\n-ms-user-select none\nuser-select none")}hakonToCss(a){a=
new Hakon.Program(a);this._isDebugMode()&&a.getProgramErrors().length&&console.log(a.getProgramErrors());return a.compile()}_isDebugMode(){return!1}}const Themes={};Themes[ThemeConstants.dark]=new Theme({backgroundColor:"rgb(16, 16, 16)",foregroundColor:"#fff",fn:"darken"});Themes[ThemeConstants.workshop]=new Theme({wallBackground:"url('/static/img/cork.jpg')",menuBackground:"#3B539A",tileOpacity:.95,tileShadow:"0 3px 5px rgba(33,33,33,.3)",menuChiselColor:"white"});
const glassColors={selectionColor:"rgba(46, 195, 212, .9)",bodyBackground:"linear-gradient(130deg, rgb(56, 114, 127), rgb(28, 98, 151) 45%, rgb(62, 73, 135))",backgroundColor:"rgba(0,0,0,.12)",contextMenuBackground:"rgba(0,0,0,.90)",tileBackgroundColor:"rgba(0,0,0,.12)",programsBackground:"transparent",boxShadow:"transparent",wallBackground:"transparent",activeTabColor:"transparent",lightGrey:"rgba(0,0,0,.16)",greyish:"rgba(0,0,0,.20)",veryLightGrey:"rgba(0,0,0,.12)",borderColor:"transparent",foregroundColor:"#eee"},
whiteColors=Object.assign({},glassColors);whiteColors.bodyBackground="white";whiteColors.foregroundColor="black";whiteColors.tileBackgroundColor="transparent";Themes[ThemeConstants.white]=new Theme(whiteColors);Themes[ThemeConstants.glass]=new Theme(glassColors);glassColors.tileBackgroundColor="transparent";Themes[ThemeConstants.clearGlass]=new Theme(glassColors);window.Themes=Themes;
class BinPacker{fit(a){const b=a.length;this.root={xcc:0,ycc:0,width:0<b?a[0].width:0,height:0<b?a[0].height:0};for(let c=0;c<b;c++){const b=a[c],e=this.findNode(this.root,b.width,b.height);b.fit=e?this.splitNode(e,b.width,b.height):this.growNode(b.width,b.height)}}findNode(a,b,c){return a.used?this.findNode(a.right,b,c)||this.findNode(a.down,b,c):b<=a.width&&c<=a.height?a:null}splitNode(a,b,c){a.used=!0;a.down={xcc:a.xcc,ycc:a.ycc+c,width:a.width,height:a.height-c};a.right={xcc:a.xcc+b,ycc:a.ycc,
width:a.width-b,height:c};return a}growNode(a,b){const c=this.root,d=a<=c.width,e=b<=c.height,f=d&&c.width>=c.height+b;return e&&c.height>=c.width+a?this.growRight(a,b):f?this.growDown(a,b):e?this.growRight(a,b):d?this.growDown(a,b):null}growRight(a,b){var c=this.root;this.root={used:!0,xcc:0,ycc:0,width:c.width+a,height:c.height,down:c,right:{xcc:c.width,ycc:0,width:a,height:c.height}};return(c=this.findNode(this.root,a,b))?this.splitNode(c,a,b):null}growDown(a,b){var c=this.root;this.root={used:!0,
xcc:0,ycc:0,width:c.width,height:c.height+b,down:{xcc:0,ycc:c.height,width:c.width,height:b},right:c};return(c=this.findNode(this.root,a,b))?this.splitNode(c,a,b):null}}window.BinPacker=BinPacker;const TileConstants={left:"left",top:"top",width:"width",height:"height",tileCssScript:"tileCssScript",tileScript:"tileScript",tileJsConstructor:"tileJsConstructor",tileSize:"tileSize",cells:"cells",abstractTileSetting:"abstract.tileSetting",layout:"layout",layouts:{}};TileConstants.layouts.custom="custom";
TileConstants.layouts.tiled="tiled";TileConstants.layouts.tree="tree";TileConstants.layouts.bin="bin";TileConstants.layouts.column="column";TileConstants.noPicker="noPicker";TileConstants.extendedAttributes="data-styleFor data-onBlurCommand data-onLineClick data-onLineShiftClick data-onClickCommand data-onContextMenuCommand data-onChangeCommand data-onDblClickCommand collapseNode";TileConstants.selectedClass="ui-selected";TileConstants.staySelectedClass="staySelected";TileConstants.tree={};
TileConstants.tree.constants="constants";TileConstants.tree.compiler="compiler";TileConstants.tree.defaults="defaults";TileConstants.tree.example="example";TileConstants.tree.tags="tags";TileConstants.deepLinks={};TileConstants.deepLinks.filename="filename";TileConstants.deepLinks.data="data";TileConstants.deepLinks.xi="xi";TileConstants.deepLinks.yi="yi";TileConstants.buttons={};TileConstants.buttons.createProgramButton="createProgramButton";TileConstants.buttons.appendSnippetButton="appendSnippetButton";
TileConstants.tileChisel="TileChisel";window.TileConstants=TileConstants;
class TerminalCommander extends AbstractCommander{saveChangesCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.getTarget();b.hasChanges()&&(yield b._getTab().autosaveAndReloadWith(b.getCode()))})}executeLineCommand(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=b.getTarget();let d=yield c._makeProgram(a).execute(c.getApp());"string"!==typeof d&&(d=d.join("\n"));c._getTab().logMessageText(lodash.escape(d));c.getApp().renderApp()})}executeFirstLineCommand(){const a=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return a.executeLineCommand(0)})}compileFirstLineCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return a.compileLineCommand(0)})}compileLineCommand(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=b.getTarget();var d=c._makeProgram(a);const e=d.getDefinition().nodeAt(0).getNode(TileConstants.tree.compiler).getContent();d=d.compile(e);c._getTab().logMessageText(d);
c.getApp().renderApp()})}}window.TerminalCommander=TerminalCommander;class BasicTerminalChisel extends AbstractChisel{getHakon(){return`.sourceTextarea
 height ${this._getHeight()}px
 font-size 110%
 border 0
 white-space nowrap
 width 100%`}getCommander(){return new TerminalCommander(this)}_getHeight(){return Math.floor(.7*(this.getApp().getBodyShadowDimensions().height-60))}_getProgramSource(){const a=this._getTab();return a?a.getTabProcess().childrenToString():""}_getProgram(){const a=this._getTab();return a&&a.getTabProgram()}_getTab(){return this.getApp().getMountedTab()}getStumpCode(){const a=this._getProgramSource()||"";return`div
 style font-size: 16px;
 textarea
  class sourceTextarea
  data-onBlurCommand chisel saveChangesCommand
  data-onLineClick chisel executeFirstLineCommand
  data-onLineShiftClick chisel compileFirstLineCommand
  bern${jtree.TreeNode.nest(a,3)}`}_getTextareaShadow(){return this.getStumpNode().getNode("textarea").getShadow()}_makeProgram(a){const b=this._getProgram().constructor,c=this.getCode();return new b((new jtree.TreeNode(c)).nodeAtLine(a).toString())}_updateTA(){this._getTextareaShadow()&&this._getTextareaShadow().setInputOrTextAreaValue(this._getProgramSource())}chiselDidUpdate(){this._updateTA();super.chiselDidUpdate()}getDependencies(){const a=this.getParent().getGutterDependencies(),b=this._getTab(),
c=b&&b.getTabProcess();c&&this._getProgramSource()!==this.getCode()&&a.push({getMTime:()=>c.getTreeMTime()});a.push(this.getParent().getParent());return a}updateHtml(){}getCode(){const a=this._getTextareaShadow();return a?a.getShadowValue():""}hasChanges(){const a=this._getProgram();return a&&this.getCode()!==a.childrenToString()}_shouldChiselUpdate(){return!this.hasFocus()&&super._shouldChiselUpdate()}hasFocus(){return!1}}window.BasicTerminalChisel=BasicTerminalChisel;
class CodeMirrorTerminalChisel extends BasicTerminalChisel{getCode(){const a=this._getCMEditorInstance();return a?a.getValue():""}_getCMEditorInstance(){return this._CMEditorInstance}_setCMEditorInstance(a){this._CMEditorInstance=a;return this}hasFocus(){const a=this._getCMEditorInstance();return a&&a.hasFocus()}chiselDidMount(){this._loadCodeMirror();super.chiselDidMount()}_updateTheme(){const a=this._getCMEditorInstance();a.getOption(CodeMirrorConstants.options.theme)!==this._getCMThemeToUse()&&
a.setOption(CodeMirrorConstants.options.theme,this._getCMThemeToUse())}_updateTA(){}chiselDidUpdate(){const a=this._getCMEditorInstance();this.getApp();a&&(this._updateTheme(),a.setValue(this._getProgramSource()));super.chiselDidUpdate()}_getKeyMap(){const a=this._getCMEditorInstance(),b=this.getCommander(),c={};c[CodeMirrorConstants.keyMap.cmdEnter]=()=>{const c=a.listSelections()[0].head.line;b.executeLineCommand(c)};c[CodeMirrorConstants.keyMap.shiftCmdEnter]=()=>{const c=a.listSelections()[0].head.line;
b.compileLineCommand(c)};c[CodeMirrorConstants.keyMap.cmdBackSlash]=()=>{this.getApp().getCommander().clearTabMessagesCommand()};c[CodeMirrorConstants.keyMap.cmdS]=()=>{b.saveChangesCommand()};return c}_getCMThemeToUse(){const a=this.getApp().getThemeName();return a===ThemeConstants.glass||a===ThemeConstants.clearGlass?CodeMirrorConstants.themes.oceanicNext:CodeMirrorConstants.themes.default}_loadCodeMirror(){if(!CodeMirrorTerminalChisel._cMMode){const a=this.getApp();CodeMirrorTerminalChisel._cMMode=
(new jtree.TreeNotationCodeMirrorMode("tree",()=>{const b=a.getMountedTab();return b?b.getProgramConstructorForTab():a.getProgramConstructorFromFileExtension()},()=>a.getMountedTab()?this.getCode():void 0,CodeMirror)).register()}const a=CodeMirrorTerminalChisel._cMMode.fromTextAreaWithAutocomplete(this._getTextareaShadow().getShadowElement(),{theme:this._getCMThemeToUse()});this._setCMEditorInstance(a);a.setSize(void 0,this._getHeight());const b=this.getCommander();a.on(CodeMirrorConstants.events.gutterClick,
(a,c,d,k)=>{b.executeLineCommand(c)});a.on(CodeMirrorConstants.events.blur,()=>{b.saveChangesCommand()});a.addKeyMap(this._getKeyMap());let c;const d=[];a.on("keyup",()=>{clearTimeout(c);c=setTimeout(()=>this._updateHints(a,d),100)})}_updateHints(a,b){const c=this.getApp(),d=c.getMountedTab(),e=new (d?d.getProgramConstructorForTab():c.getProgramConstructorFromFileExtension())(this.getCode()),f=e.getProgramErrors(),g=a.getCursor();a.operation(function(){b.forEach(b=>a.removeLineWidget(b));b.length=
0;f.filter(a=>!a.isBlankLineError()).filter(a=>!a.isCursorOnWord(g.line,g.ch)).slice(0,1).forEach(c=>{const d=c.getCodeMirrorLineWidgetElement(()=>{a.setValue(e.toString());codeOnUpdate()});b.push(a.addLineWidget(c.getLineNumber()-1,d,{coverGutter:!1,noHScroll:!1}))});const c=a.getScrollInfo(),d=a.charCoords({line:g.line+1,ch:0},"local").top;c.top+c.clientHeight<d&&a.scrollTo(null,d-c.clientHeight+3)})}}window.CodeMirrorTerminalChisel=CodeMirrorTerminalChisel;
class GutterChisel extends AbstractChisel{getFirstWordMap(){return{console:ConsoleChisel,terminal:this.isNodeJs()||!this.getApp().getPerfSettings().codeMirrorEnabled?BasicTerminalChisel:CodeMirrorTerminalChisel}}getHakon(){const a=this.getTheme(),b=this.getGutterWidth();return`${super.getHakon()}
.Gutter
 width ${b}px
 left 0
 background ${a.backgroundColor}
 border-color ${a.borderColor}
 position absolute
 border-right-width 1px
 border-right-style solid
 box-sizing border-box
 top 0
 bottom 0
 padding 20px
 .closeGutter
  cursor pointer
  position absolute
  top 10px
  right 5px
  display block
  font-size 12px
  line-height 10px
  text-align center
  opacity .25
  &:hover
   opacity 1`}getGutterDependencies(){return[this.getParent().getNode(OhayoGrammarConstants.tabs)]}getStumpCode(){return"div\n class Gutter\n span <>\n  class closeGutter\n  data-onClickCommand app toggleGutterWidthCommand"}toggleGutterWidth(){this._width=50===this._width?400:50;return this}getGutterWidth(){void 0===this._width&&(this._width=400);return this._width}}window.GutterChisel=GutterChisel;
class TileDimension{constructor(a,b){a=a.getSuggestedSize();this.width=a.width;this.height=a.height;Object.assign(this,b)}getScaledCss(a){a=void 0===a?1:a;return this._toCss({width:this.width*a,height:this.height*a,left:this.left*a,top:this.top*a})}get right(){return this.width+(this.left||0)}get bottom(){return this.height+(this.top||0)}toCss(){return this._toCss(this)}_toCss(a){return`width: ${a.width}px; height: ${a.height}px; left: ${a.left}px; top: ${a.top}px`}}window.TileDimension=TileDimension;
class TileDocumentSettingNode extends jtree.TerminalNode{}window.TileDocumentSettingNode=TileDocumentSettingNode;
class TileGrammar{static _initTileConstructorCache(a){if(!a._cache_tileJsConstructor){var b=(a.getConstantsObject()[TileConstants.tileJsConstructor]||"BasicRecursiveTile /aientist/client/tiles/BasicRecursiveTile.js").split(" "),c=b[0],d=b[1],e="undefined"!==typeof require;b=e?process:window;e&&!b[c]&&(d=require(d),d[c]?b[c]=d[c]:d.name?b[d.name]=d:d.default&&(b[c]=d.default));a._cache_tileJsConstructor=b[c];if(!a._cache_tileJsConstructor)throw Error(`Tile class ${c} not found.`);}}static getDefinitionTileConstructor(a){this._initTileConstructorCache(a);
return a._cache_tileJsConstructor}}window.TileGrammar=TileGrammar;class TileSettingNonTerminalNode extends jtree.NonTerminalNode{getSettingValue(){return this.childrenToString()}getProgram(){const a=this.getParent();return a.getTileProcess?a.getTileProcess():a.getProgram()}getCatchAllNodeConstructor(){return jtree.NonTerminalNode}toFormStumpCode(a){return`textarea
 data-onChangeCommand tile changeTileSettingAndRenderCommand
 name ${this.getFirstWord()}
 bern${jtree.TreeNode.nest(a,2)}`}}window.TileSettingNonTerminalNode=TileSettingNonTerminalNode;class TileSettingTerminalNode extends jtree.TerminalNode{getSettingValue(){return this.getContent()}getRunTimeEnumOptions(a){try{if("columnName"===a.getCellTypeName())return app.getMountedProcess().nodeAtLine(this.getPointRelativeTo(this.getRootNode()).y-1).getParent().getParentOrDummyBinder().getColumnNames()}catch(b){}}toFormStumpCode(a){return`input
 data-onChangeCommand tile changeTileSettingAndRenderCommand
 name ${this.getFirstWord()}
 value ${a}`}}window.TileSettingTerminalNode=TileSettingTerminalNode;class TileErrorNode extends jtree.TreeNode{getErrors(){return["Unknown type"]}}
class AbstractTileChisel extends AbstractChisel{getNodeConstructor(a){const b=a.split(" ")[0],c=this.getDefinition();return c.getRunTimeFirstWordMap()[b]?TileGrammar.getDefinitionTileConstructor(c.getNodeTypeDefinitionByName(b)):this.getCatchAllNodeConstructor(a)}getProgramTemplate(a){}getExampleTemplate(a){return(a=this.getDefinition().getNode(TileConstants.tree.example))?a.childrenToString():""}getSnippetTemplate(a){}_getLoadingStump(){return`div Loading ${this.getFirstWord()}...
 class ${this._getCssClasses()}
 id ${this.getTileChiselId()}`}_getWrappedStumpCode(a){if(!this.isLoaded())return this._getLoadingStump();this._renderError=void 0;try{return this.getStumpCode(a)}catch(b){return console.error(b),this._renderError=b,this._getErrorStumpCode(b)}}getRunTimeErrors(){const a=[];this._renderError&&a.push(this._renderError);this._urlErr&&a.push(this._urlErr);this._runTileError&&a.push(this._runTileError);return a}getErrorMessageHtml(){const a=this.getRunTimeErrors();return a.length?` <span style="color: ${this.getTheme().errorColor};">${a.join(" ")}</span>`:
""}_getErrorStumpCode(a){a=`Error on tile '${this.getFirstWord()}'. ${a}`;return`div
 class ${this._getCssClasses()}
 id ${this.getTileChiselId()}
 data-onContextMenuCommand chisel openTileContextMenuCommand
 div
  class TileGrabber
  data-onDblClickCommand chisel toggleTileMaximizeCommand
 div ERROR
  class TileHeader
 div
  class TileBody${jtree.TreeNode.nest("div "+a,2)}
 div
  class TileFooter${jtree.TreeNode.nest(this.getTileToolbarButtonStumpCode(),2)}
 div
  class TileGrabber`}getCatchAllNodeConstructor(){return TileErrorNode}getCommander(){return new TileCommander(this)}_getSettingsChildren(){return this.filter(a=>a instanceof TileSettingTerminalNode||a instanceof TileSettingNonTerminalNode)}getSettingsStruct(){return this._getSettingsStruct()}_getSettingsStruct(){this._initSettingsAndConstsCache();return this._cache_settingsObject}_initSettingsAndConstsCache(){if(!this._cache_settingsObject){var a=this.getDefinition(),b={},c=a.getNode(TileConstants.tree.defaults);
c&&Object.assign(b,c.toObject());this._getSettingsChildren().forEach(a=>{b[a.getFirstWord()]=a.getSettingValue()});a=a.getConstantsObject();Object.assign(b,a);this._cache_settingsObject=b}}getApp(){return this.getTileProcess().getApp()}makeDirty(){delete this._struct;delete this._cache_settingsObject;delete this._bodyStumpCodeCache;super.makeDirty()}setIsLoaded(a){this._isLoaded=a;this.makeDirty();return this}isLoaded(){return this._isDefinitionLoaded()&&this._isLoaded}_isDefinitionLoaded(){const a=
this.getDefinition();if(a._isDefinitionLoaded)return!0;const b=a.getConstantsObject();TileGrammar.getDefinitionTileConstructor(a);b[TileConstants.tileScript]||(a._isDefinitionLoaded=!0);return a._isDefinitionLoaded}runTile(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.setIsLoaded(!0)})}getDefinition(){return this.getTileProcess().getProcessGrammarProgram().getNodeTypeDefinitionByName(this.getFirstWord())}toggleToolbar(){this._tileToolbar?this._tileToolbar=this._tileToolbar.unmount():
(this._tileToolbar=new TileToolbarChisel("",void 0,this),this._tileToolbar.renderAndGetRenderResult(this.getStumpNode()))}isProcess(){return!1}getTileProcess(){return this.getParent().getTileProcess()}getAllTileSettingsDefinitions(){const a=this.getDefinition();return Object.values(a.getRunTimeFirstWordMapWithDefinitions()).filter(a=>a.isOrExtendsANodeTypeInScope([TileConstants.abstractTileSetting]))}getTab(){return this.getTileProcess().getParent()}getChildTiles(){return this.getChildrenByNodeConstructor(AbstractTileChisel)}getHierarchyForLayout(){return{node:this,
children:this.getChildTiles().map(a=>a.getHierarchyForLayout())}}isVisible(){return!0}areExternalScriptDependenciesLoaded(){}selectTile(){this._selected=!0;this.isMounted()&&this.getStumpNode().addClassToStumpNode(TileConstants.selectedClass)}unselect(){delete this._selected;this.isMounted()&&this.getStumpNode().removeClassFromStumpNode(TileConstants.selectedClass)}isSelected(){return this._selected}_getCustomBodyStyle(){return""}_isMaximized(){return!1}_getMaximizedClass(){return this._isMaximized()?
" TileMaximized":""}_getCssClasses(){return`TilePage TileChisel ${this.constructor.name}${this._getMaximizedClass()}`}getStumpCode(){return`div
 class ${this._getCssClasses()}
 id ${this.getTileChiselId()}
 data-onContextMenuCommand chisel openTileContextMenuCommand
 div
  class TileGrabber
  data-onDblClickCommand chisel toggleTileMaximizeCommand
 div ${this.getTileHeaderBern()}
  class TileHeader
 div
  style ${this._getCustomBodyStyle()}
  class TileBody${this._getBodyStumpCodeCache()}
 div
  class TileFooter${jtree.TreeNode.nest(this.getTileFooterStumpCode(),2)}
 div
  class TileGrabber`}_getBodyStumpCodeCache(){this._bodyStumpCodeCache||(this._bodyStumpCodeCache=jtree.TreeNode.nest(this.getTileBodyStumpCode(),2));return this._bodyStumpCodeCache}getTileHeaderBern(){return`${this.getFirstWord()}`}cloneAndOffset(){const a=this.duplicate(),b=this.getLeft(),c=this.getTop();b&&a.touchNode(TileConstants.left).setContent(parseInt(b)+1);c&&a.touchNode(TileConstants.top).setContent(parseInt(c)+1);return a}makeTileDimension(a,b){a=void 0===a?this.getLeft():a;b=void 0===
b?this.getTop():b;const c=this.getWidth(),d=this.getHeight(),e={};a&&(e.left=20*parseInt(a));b&&(e.top=20*parseInt(b));c&&(e.width=20*parseInt(c));d&&(e.height=20*parseInt(d));return new TileDimension(this,e)}getTileBodyStumpCode(){return""}isNotATile(){return!1}_getCss(){const a="#"+this.getTileChiselId(),b=this.getTheme(),c=this.isVisible()?"":"display: none";var d=this.getTileDimensionIfAny();d=d?d.toCss():"";return`${a} { ${c} ${d} }
      ${b.hakonToCss(this.getHakon())}`}mapSettingNamesToColumnNames(a){const b=this.getSettingsStruct();return a.map(a=>b[a])}getContextMenuStumpCode(){return""}handleTileError(a){this._errorCount||(this._errorCount=0);this._errorCount++;this.getApp().goRed(a)}getTileChiselId(){return"tile"+this._getUid()}getWall(){return this.getApp().getAppWall()}getTileDimensionIfAny(){const a=this.getWall().getWallViewPortDimensions();return this.getTileProcess().getTileDimensionMap(a.width,a.height).get(this)}getHeaderHeight(){return 30}getFooterHeight(){return 30}getTileBodyDimension(){const a=
this.getTileDimensionIfAny();a.height=a.height-this.getHeaderHeight()-this.getFooterHeight();return a}getDependencies(){return[]}runAndRenderAndGetRenderResult(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield a.runTile();return a.renderAndGetRenderResult()})}getFirstAncestor(){const a=this.getParent();return a.isProcess()?this:a.getFirstAncestor()}getTTL(){return this._ttl||0}getHakon(){return""}getTheme(){return this.getApp().getTheme()}getTileFooterStumpCode(){return this.getTileToolbarButtonStumpCode()}getTileToolbarButtonStumpCode(){return`span ${Icons("pencil",
16)}
 class TilePencilButton
 data-onClickCommand chisel toggleToolbarCommand`}getDefinedOrSuggestedSize(){const a=this.getSuggestedSize(),b=this.getWidth(),c=this.getHeight();return{width:b?20*b:a.width,height:c?20*c:a.height}}getSuggestedSize(){const a=(this.getDefinition().getConstantsObject()[TileConstants.tileSize]||"280 220").split(" ").map(a=>parseInt(a));return{width:a[0],height:a[1]}}getVisibleChildren(){return this.getChildTiles().filter(a=>a.isVisible())}getRequiredDimensionsForTreeLayout(a){a=void 0===a?0:a;const b=
{width:0,height:0},c=this.getChildTiles(),d=this.getDefinedOrSuggestedSize();c.forEach(c=>{c=c.getRequiredDimensionsForTreeLayout(a);b.width+=c.width;b.height=c.height>b.height?c.height:b.height});b.width+=c.length*a;b.width=Math.max(b.width,d.width);b.height=d.height+(c.length?a+b.height:0);return b}getLeft(){return this.get(TileConstants.left)}getTop(){return this.get(TileConstants.top)}getWidth(){return this.get(TileConstants.width)}getHeight(){return this.get(TileConstants.height)}_getChildChisels(){return[]}getStumpNodeForChildren(){return this.getStumpNode().getParent()}chiselDidMount(){super.chiselDidMount();
this._tileToolbar&&this._tileToolbar.renderAndGetRenderResult()}_chiselDidUpdate(){this.isLoaded()&&this.chiselDidUpdate()}_chiselDidMount(){this.isLoaded()&&this.chiselDidMount()}getInspection(){const a=this.getMessageBuffer().map(a=>`li ${moment(a.getMTime()).fromNow()} - ${a.childrenToString()}`),b=this.getAllTileSettingsDefinitions().map(a=>`${a.getFirstWord()} ${a.getDescription()}`).join("\n"),c=this.getSettingsStruct(),d=this.getParent().getFirstWord();return`div TileConstructor: ${this.constructor.name} Parent: ${d}
div Messages:
ol
 ${a}
div Tree:
pre
 bern${jtree.TreeNode.nest(this.toString(),2)}
div TileStruct:
pre
 bern${jtree.TreeNode.nest(JSON.stringify(c,null,2),2)}
div All Tile Settings:
pre
 bern${jtree.TreeNode.nest(b,2)}`}}window.AbstractTileChisel=AbstractTileChisel;
class AbstractFlowTile extends AbstractTileChisel{getSettingsStruct(){const a=super.getSettingsStruct(),b=a[FlowConstants.columnPredictionHints];b&&Object.assign(a,this.getParentOrDummyBinder().getPredictionsForAPropertyNameToColumnNameMapGivenHintsNode(new jtree.TreeNode(b),a));return a}getTileQualityCheck(){const a=this.getDefinition(),b=this.getFirstWord();return{name:b,namespace:b.split(".")[0],description:a.getDescription()?1:0,dummyDataSet:a.get(`${TileConstants.tree.constants} ${FlowConstants.dummyDataSet}`),
runTimeErrors:this.getRunTimeErrors().length,examples:a.getExamples().length,edgeTests:0,speedTests:0,roadMap:0,idealStyleUXDescription:0,secPriTests:0,userType:0}}isVisible(){return!this.has(FlowConstants.hidden)}_isMaximized(){return Object.keys(this.getSettingsStruct()).includes(FlowConstants.maximized)}getPipishInput(){return this.getSettingsStruct().content||this.getParentOrDummyBinder().getFirstColumnAsString()||""}getRequiredTableWithHeader(a){a=this.mapSettingNamesToColumnNames(a);const b=
this.getParentOrDummyBinder();return a.map(a=>b.getBinderColumnByName(a)).some(a=>!a)?[]:this.getCardsAsDataTableArrayWithHeader(b.getCards(),a)}getCardsAsDataTableArrayWithHeader(a,b){a=a.map(a=>a.getAsArray(b));a.unshift(b);return a}createCards(a){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return[]})}fetchCards(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return[]})}getDependencies(){return[{getMTime:()=>this.getParentOrDummyBinder().getBinderCTime()}]}_runTileAndChildren(){const a=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.setIsLoaded(!0);yield a._runChildTiles()})}_runChildTiles(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield Promise.all(a.getChildTiles().map(a=>a.runTile()))})}runTile(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{a._runTileError=void 0,yield a._runTileAndChildren()}catch(b){a._runTileError=b;console.error(b);const c=a.getTheme();a.getTab().addStumpCodeMessageToLog(`div
 bern
  Error occurred. See console.
 style color: ${c.errorColor};`)}return a})}getOutputOrInputBinder(){return this._outputBinder||this.getParentOrDummyBinder()}getOutputBinder(){return this._outputBinder}getParentOrDummyBinder(){const a=this.getParent().getOutputOrInputBinder();return a.isBlankBinder()?this._getDummyBinder()||a:a}_getDummyBinder(){var a=this._getSettingsStruct()[FlowConstants.dummyDataSet];a=DummyDataSets[a];!this._dummyBinder&&a&&(this._dummyBinder=new Binder(Binder.dataTableToObjects(a)));return this._dummyBinder}getInspection(){const a=
this.getParentOrDummyBinder(),b=this.getOutputOrInputBinder(),c=b.getColumnsArrayOfObjects(),d=a.getColumnsArrayOfObjects(),e=a.getCardCount(),f=b.getCardCount();return`${super.getInspection()}
div Input cards: ${e} Output cards: ${f}
div Load time: ${this.getTTL()} Render time: ${this.getNewestTimeToRender()}
div Input Columns:
pre
 bern${jtree.TreeNode.nest((new jtree.TreeNode(d)).toTable(),2)}
div Output Columns
pre
 bern${jtree.TreeNode.nest((new jtree.TreeNode(c)).toTable(),2)}
div Output Numeric Values:
pre
 bern${jtree.TreeNode.nest((new jtree.TreeNode(b.getNumericValues())).toTable(),2)}
div TypeScript Interface:
pre
 bern${jtree.TreeNode.nest(b.toTypeScriptInterface(),2)}
div Input Numeric Values:
pre
 bern${jtree.TreeNode.nest((new jtree.TreeNode(a.getNumericValues())).toTable(),2)}`}}window.AbstractFlowTile=AbstractFlowTile;class AbstractProviderTile extends AbstractFlowTile{getTileFooterStumpCode(){const a=this.getOutputOrInputBinder().getCardCount(),b=lodash.round(this.getTTL()/1E3,1),c=this.getFormat();return`${this.getTileToolbarButtonStumpCode()}
span Rows Out: ${a} Time: ${b}s Format: ${c||"?"}${this.getErrorMessageHtml()}`}getCardClass(){return ObjectBackedCard}getTileBodyStumpCode(){const a=this.getDefinition().get("description");return"div "+(a?Format.linkify(a):"")}getStumpCode(){return`div
 class ${this._getCssClasses()}
 id ${this.getTileChiselId()}
 data-onContextMenuCommand chisel openTileContextMenuCommand
 div
  class TileGrabber
  data-onDblClickCommand chisel toggleTileMaximizeCommand
 div
  class TileBody HeaderLess${this._getBodyStumpCodeCache()}
 div
  class TileFooter${jtree.TreeNode.nest(this.getTileFooterStumpCode(),2)}
 div
  class TileGrabber`}_setUrlFetchErrorMessage(a){this._urlErr=a;return this}getFormat(){return this.getSettingsStruct().format}_runTileAndChildren(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a._getProcessTimeInMilliseconds();a._timeLastLoadStarted=b;const c=yield a.fetchCards();if(a._timeLastLoadStarted!==b)return console.log("superceded"),null;a._outputBinder=new RootBinder(c,a.getCardClass());a._ttl=a._getProcessTimeInMilliseconds()-b;a.setIsLoaded(!0);
yield a._runChildTiles()})}}window.AbstractProviderTile=AbstractProviderTile;class AbstractDummyProviderTile extends AbstractProviderTile{fetchCards(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return[]})}_runTileAndChildren(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.setIsLoaded(!0);yield a._runChildTiles()})}}window.AbstractDummyProviderTile=AbstractDummyProviderTile;
class AbstractTransformerTile extends AbstractProviderTile{getTileFooterStumpCode(){const a=this.getParentOrDummyBinder().getCardCount(),b=this.getOutputOrInputBinder().getCardCount();return`${this.getTileToolbarButtonStumpCode()}
span Rows In: ${a} Rows Out: ${b}`}_shouldDetectAndAddColumns(){return!0}getTransformedColumns(){return[]}_runTileAndChildren(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a._outputBinder=new DerivedBinder(a.getTransformedCards(),a.getTransformedColumns(),a._shouldDetectAndAddColumns());a.setIsLoaded(!0);yield a._runChildTiles()})}getTransformedCards(){return this.getParentOrDummyBinder().getCards()}_getPlaceHolderMessage(){return""}getTileBodyStumpCode(){return`span ${this.getFirstWord()}
 class LargeLabel
input
 value ${this.getContent()||""}
 placeholder ${this._getPlaceHolderMessage()}
 data-onChangeCommand chisel changeTileContentAndRenderCommand
 class LargeTileInput`}}class AbstractTransformerNoParamsTile extends AbstractTransformerTile{getTileBodyStumpCode(){return`span ${this.getFirstWord()}
 class LargeLabel`}}class AbstractColumnFilterTile extends AbstractTransformerTile{_shouldDetectAndAddColumns(){return!1}getTransformedCards(){const a=this.getTransformedColumns().map(a=>a.name);return this.getParentOrDummyBinder().cloneNativeJavascriptTypedCards().map((b,c)=>{const d={};a.forEach(a=>{d[a]=b[a]});return d})}}
class AbstractRowFilterTile extends AbstractTransformerTile{getTransformedColumns(){return this.getParentOrDummyBinder().getColumnsArrayOfObjects()}_shouldDetectAndAddColumns(){return!1}_getPlaceHolderMessage(){return"Enter a string to filter by."}}
class AbstractColumnAdderTile extends AbstractTransformerTile{_transformCard(a,b,c){const d=a.getCardSourceAsObject(),e={};Object.assign(e,d);b.forEach(a=>{e[a.name]=Column.convertValueToNumeric(d[a.source],c[a.source].getColumnTypeName(),a.type)});return e}getTransformedCards(){const a=this.getTransformedColumns(),b=this.getParentOrDummyBinder().getColumnsMap();return this.getParentOrDummyBinder().getCards().map(c=>this._transformCard(c,a,b))}}window.AbstractTransformerTile=AbstractTransformerTile;
window.AbstractTransformerNoParamsTile=AbstractTransformerNoParamsTile;window.AbstractColumnFilterTile=AbstractColumnFilterTile;window.AbstractRowFilterTile=AbstractRowFilterTile;window.AbstractColumnAdderTile=AbstractColumnAdderTile;class AbstractRunTimeProvider extends AbstractProviderTile{fetchCards(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return a.getApp()[a.getSettingsStruct().method]()})}}window.AbstractRunTimeProvider=AbstractRunTimeProvider;
class AbstractSourceTile extends AbstractProviderTile{}window.AbstractSourceTile=AbstractSourceTile;class FileCard extends ObjectBackedCard{destroyCard(a){return a.deleteFileCommand(this.getCardOriginalValue(DiskConstants.link))}}
class ProgramsTile extends AbstractProviderTile{getCardClass(){return FileCard}getTileHeaderBern(){return this.getApp().getDefaultDisk().getPathBase()}fetchCards(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield a.getApp().getDefaultDisk().readFiles()).map(a=>a.toFileObject())})}}window.ProgramsTile=ProgramsTile;
class TinyDataTile extends AbstractProviderTile{getDataContent(){return this.getSettingsStruct().data}getTileBodyStumpCode(){const a=this.getDataContent();return`pre
 class TileSelectable
 style overflow: scroll; max-height: 100%;
 bern${jtree.TreeNode.nest(a,2)}`}getFormat(){return super.getFormat()||(new CardParser).inferEncoding(this.getDataContent())}fetchCards(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(new CardParser).parse(a.getDataContent(),a.getFormat())})}}window.TinyDataTile=TinyDataTile;
class ColumnStatsTile extends AbstractTransformerTile{getTransformedCards(){const a=this.getParentOrDummyBinder(),b=a.getColumnsMap();return a.getColumnNames().map(a=>{const c=b[a];a={Column:a,Type:c.getColumnTypeName()};this._addReductions()&&Object.assign(a,c.getReductions());return a})}_addReductions(){return!0}}class ColumnListTile extends ColumnStatsTile{_addReductions(){return!1}}
class ColumnsFirstTile extends AbstractColumnFilterTile{getTransformedColumns(){return this.getParentOrDummyBinder().getColumnsArrayOfObjects().slice(0,parseInt(this.getContent()))}_getPlaceHolderMessage(){return"Enter the number of columns you want to keep"}}
class ColumnsLastTile extends AbstractColumnFilterTile{getTransformedColumns(){const a=this.getParentOrDummyBinder().getColumnsArrayOfObjects();return a.slice(a.length-parseInt(this.getContent()))}_getPlaceHolderMessage(){return"Enter the number of columns you want to keep"}}
class ColumnChangeTypeTile extends AbstractTransformerTile{getTransformedColumns(){const a=this.getWord(1),b=this.getWord(2),c=this.getParentOrDummyBinder().getColumnsArrayOfObjects();c.forEach(c=>{c.name===a&&(c.type=b)});return c}getTransformedCards(){return this.getParentOrDummyBinder().getCards().map((a,b)=>a.cardToObjectWithOnlyNativeJavascriptTypes())}_shouldDetectAndAddColumns(){return!1}}
class ColumnKeepTile extends AbstractColumnFilterTile{getTransformedColumns(){const a=this.getWordsFrom(1);return this.getParentOrDummyBinder().getColumnsArrayOfObjects().filter(b=>a.includes(b.name))}_getPlaceHolderMessage(){return"Enter the columns to keep."}}window.ColumnStatsTile=ColumnStatsTile;window.ColumnListTile=ColumnListTile;window.ColumnKeepTile=ColumnKeepTile;window.ColumnChangeTypeTile=ColumnChangeTypeTile;window.ColumnsLastTile=ColumnsLastTile;window.ColumnsFirstTile=ColumnsFirstTile;
class EvalTile extends AbstractTransformerTile{getTransformedCards(){var a=this.getNode(FlowConstants.content);a=a&&a.childrenToString();let b;try{b=a&&eval(a)}catch(c){console.error(c)}a=this.getParentOrDummyBinder().getCardSources();return b?b(a):a}}window.EvalTile=EvalTile;class InlineDataTileCard extends ObjectBackedCard{}
class InlineDataTile extends AbstractProviderTile{getDataContent(){const a=this.getNode("content");return a?a.childrenToString():""}getTileBodyStumpCode(){const a=lodash.escape(this.getDataContent());return`textarea
 data-onChangeCommand chisel updateContentCommand
 placeholder Enter data in any format here. It will be saved directly in your document.
 class TileTextArea savable
 bern${jtree.TreeNode.nest(a,2)}`}getCardClass(){return InlineDataTileCard}getFormat(){return super.getFormat()||(new CardParser).inferEncoding(this.getDataContent())}fetchCards(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(new CardParser).parse(a.getDataContent(),a.getFormat())})}_getFormatted(a,b){switch(b){case "tree":return(new jtree.TreeNode(a)).toString();case "json":return(new jtree.TreeNode(a)).toJson();default:return(new jtree.TreeNode(a)).toCsv()}}createCards(a){var b=
this.getSettingsStruct().format,c=this.getDataContent();c=(new CardParser).parse(c,b);a=lodash.concat(c,a);b=this._getFormatted(a,b);return this.getCommander().updateContentCommand(b)}}window.InlineDataTile=InlineDataTile;
class LocalStorageDataTile extends InlineDataTile{_getStoreKey(){return this.getContent()}getDataContent(){const a=this._getStoreKey();return a?this.getApp().getFromStore(a)||"":""}storeValueCommand(a){let b=this._getStoreKey();b?this.getApp().storeValue(b,a):this.setContent(this.getApp().initLocalDataStorage(this.constructor.name+".data",a))}getTileBodyStumpCode(){const a=lodash.escape(this.getDataContent());return`textarea
 data-onChangeCommand chisel triggerTileMethodCommand
 placeholder Enter data in any format here. It will be saved in your browser's localStorage.
 name storeValueCommand
 class TileTextArea savable
 bern${jtree.TreeNode.nest(a,2)}`}}window.LocalStorageDataTile=LocalStorageDataTile;class DateAddColumnsTile extends AbstractColumnAdderTile{getTransformedColumns(){const a=this.getSettingsStruct().sourceColumn;return a?(this.getContent()?this.getWordsFrom(1):Object.keys(FlowConstants.dateTypes)).map(b=>({source:a,name:b,type:b})):[]}_getPlaceHolderMessage(){return"Enter the source column and new date columns you want, or leave blank to get 'day month year'."}}window.DateAddColumnsTile=DateAddColumnsTile;
class RowsFirstTile extends AbstractRowFilterTile{getTransformedCards(){return this.getParentOrDummyBinder().getCards().slice(0,parseInt(this.getContent()))}}class RowsLastTile extends AbstractRowFilterTile{getTransformedCards(){const a=this.getParentOrDummyBinder().getCards();return a.slice(a.length-parseInt(this.getContent()))}}
class FilterWhereTile extends AbstractRowFilterTile{getTransformedCards(){const a=this.getWord(1),b=this.getWord(2);let c=this.getWord(3);const d=this.getParentOrDummyBinder();if(!a||!b||void 0===c)return super.getTransformedCards();const e=d.getColumnByName(a);if(!e)throw Error(`Column named ${a} not found. Columns are: ${d.getColumnNames().join(",")}`);const f=e.getColumnTypeObj().getTyped(c);return d.getCards().filter(c=>{c=c.cardToObjectWithOnlyNativeJavascriptTypes()[a];if("="===b)return c==
f;if("!="===b)return c!=f;if(">"===b)return c>f;if("<"===b)return c<f;if("<="===b)return c<=f;if(">="===b)return c>=f})}}class FilterWithTile extends AbstractRowFilterTile{_getExpectedBooleanValue(){return!0}getTransformedCards(){const a=this.getWordsFrom(1),b=this.getParentOrDummyBinder().getCards();if(!a.length)return b;const c=a.length,d=this._getExpectedBooleanValue();return b.filter(b=>{b=b.cardToString();for(let e=0;e<c;e++)if(b.includes(a[e])!==d)return!1;return!0})}}
class FilterWithoutTile extends FilterWithTile{_getExpectedBooleanValue(){return!1}}class RowsDropMissingTile extends FilterWhereTile{getTransformedCards(){const a=this.getContent(),b=this.getParentOrDummyBinder().getCards();return a?b.filter(b=>""!==b.getCardOriginalValue(a)):b}}window.FilterWithTile=FilterWithTile;window.FilterWhereTile=FilterWhereTile;window.RowsDropMissingTile=RowsDropMissingTile;window.RowsFirstTile=RowsFirstTile;window.RowsLastTile=RowsLastTile;window.FilterWithoutTile=FilterWithoutTile;
class GroupTile extends AbstractTransformerTile{_makePivotResult(){var a=this.getContent();if(!a)return{cards:[],columns:[]};const b=this.getParentOrDummyBinder(),c=b.getColumnsArrayOfObjects(),d={};c.forEach(a=>d[a.name]=!0);a=a.split(/ /g).filter(a=>d[a]);return(new PivotTable(b.getJavascriptNativeTypedValues(),c,this._getNewPivotColumns())).getNewCards(a)}_getNewPivotColumns(){return this.findNodes("reduce").map(a=>({source:a.getWord(1),reduction:a.getWord(2),name:a.getWord(3)||a.getWordsFrom(1).join("_")}))}_getPlaceHolderMessage(){return"Enter the column to groupby."}getTransformedCards(){return this._getPivotResult().cards}_getPivotResult(){const a=
this.getParentOrDummyBinder().getBinderCTime();this._pivotCTime!==a&&delete this._result;this._result||(this._result=this._makePivotResult(),this._pivotCTime=a);return this._result}getTransformedColumns(){return this._getPivotResult().columns}}window.GroupTile=GroupTile;
class RandomTile extends AbstractProviderTile{fetchCards(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var b=a.getSettingsStruct();b=parseInt(b.howMany);const c=[];for(;b;)c.push(a._genCard()),b--;return c})}}class RandomFloatTile extends RandomTile{_genCard(){const a=this.getSettingsStruct();return{number:lodash.random(parseFloat(a.min),parseFloat(a.max),!0)}}}
class RandomIntTile extends RandomTile{_genCard(){const a=this.getSettingsStruct();return{number:lodash.random(parseInt(a.min),parseInt(a.max))}}}window.RandomFloatTile=RandomFloatTile;window.RandomIntTile=RandomIntTile;class RowsAddIndexColumn extends AbstractColumnAdderTile{getTransformedCards(){return this.getParentOrDummyBinder().cloneNativeJavascriptTypedCards().map((a,b)=>{a.count=b+1;return a})}}
class RowsShuffleTile extends AbstractTransformerNoParamsTile{getTransformedCards(){const a=this.getParentOrDummyBinder().cloneNativeJavascriptTypedCards();return lodash.shuffle(a)}}class RowsReverseTile extends AbstractTransformerNoParamsTile{getTransformedCards(){const a=this.getParentOrDummyBinder().cloneNativeJavascriptTypedCards();a.reverse();return a}}
class RowsSortByTile extends AbstractTransformerTile{getTransformedCards(){const a=this.getWordsFrom(1),b=this.getParentOrDummyBinder().cloneNativeJavascriptTypedCards();return a.length?lodash.sortBy(b,a):b}_getPlaceHolderMessage(){return"Columns you want to sort by"}}
class RowsAddCumulativeTotalColumn extends AbstractColumnAdderTile{getTransformedCards(){let a=0;const b=this.getWord(1);return this.getParentOrDummyBinder().cloneNativeJavascriptTypedCards().map((c,d)=>{a+=c[b];c.total=a;return c})}}window.RowsAddIndexColumn=RowsAddIndexColumn;window.RowsAddCumulativeTotalColumn=RowsAddCumulativeTotalColumn;window.RowsShuffleTile=RowsShuffleTile;window.RowsSortByTile=RowsSortByTile;window.RowsReverseTile=RowsReverseTile;
class LineCount extends AbstractTransformerTile{getTransformedCards(){return[{lines:this.getPipishInput().split(/\n/g).length}]}}window.LineCount=LineCount;class SplitText extends AbstractTransformerTile{getTransformedCards(){const a=this.getWord(1),b=this.getWord(2),c=this.getWordsFrom(3);return a&&c?this.getParentOrDummyBinder().getCards().map(d=>{d=d.getCardSourceAsObject();const e=d[a].split(b),f={};Object.assign(f,d);c.forEach((a,b)=>f[a]=e[b]);return f}):super.getTransformedCards()}}
class TextSubstringTile extends AbstractTransformerTile{getTransformedCards(){const a=this.getWord(1),b=this.getWord(2),c=parseInt(this.getWord(3)),d=void 0===this.getWord(4)?void 0:parseInt(this.getWord(4));return a&&b&&!isNaN(c)?this.getParentOrDummyBinder().getCards().map(e=>{e=e.getCardSourceAsObject();const f={};Object.assign(f,e);f[b]=e[a].substr(c,d);return f}):super.getTransformedCards()}}window.SplitText=SplitText;window.TextSubstringTile=TextSubstringTile;
class WordCount extends AbstractTransformerTile{getTransformedCards(){return this._getAllWords(this.getPipishInput())}_getAllWords(a){const b=[];if(!a)return b;const c={};a.split(/\s/g).map(a=>a.replace(/[^a-z0-9\-]/gi,"")).filter(a=>a).forEach(a=>{c[a]?c[a]++:c[a]=1});Object.keys(c).forEach(a=>{(a=a.trim())&&b.push({name:a,count:c[a]})});return b}}window.WordCount=WordCount;
class TreeNotationWordTypesTile extends AbstractTransformerTile{getTransformedCards(){const a=this.getPipishInput(),b=this.getApp(),c=b.getLanguageBestGuess(a);return[{text:b.generateProgram(a,c).getInPlaceCellTypeTree()}]}}window.TreeNotationWordTypesTile=TreeNotationWordTypesTile;
class BasicRecursiveTile extends AbstractTileChisel{getHakon(){this.getTheme();return".BasicRecursiveTile\n input\n textarea\n  border 0\n  font-size 14px\n  height 100%\n  width 100%"}isLoaded(){return!0}getTileBodyStumpCode(){const a=this.getDefinition();var b=a.getRequiredCellTypeNames();const c=b.length,d=a.getCatchAllCellTypeName();d&&b.push(d);b=b.map((a,b)=>{const e=a===d&&b===c,f=e?this.getWordsFrom(b+1).join(" "):this.getWord(b+1);return` input
  placeholder ${a}
  value ${f}
  name ${b+1}
  data-onChangeCommand chisel ${e?"changeWordsAndRenderCommand":"changeWordAndRenderCommand"}`});return`div ${a.getDescription()}
div
${b.join("\n")}`}}window.BasicRecursiveTile=BasicRecursiveTile;class BlankLine extends AbstractTileChisel{isVisible(){return!1}}window.BlankLine=BlankLine;class DidYouMeanTile extends AbstractTileChisel{getTileBodyStumpCode(){const a=this.getFirstWord(),b=this.getParent().getTopDownArray().indexOf(this)+1,c=jtree.Utils.didYouMean(a,this.getTileProcess().getProcessGrammarProgram().getTopNodeTypeIds());return c?`div
 span No tile '${a}' found. Line ${b}. Did you mean
 a ${c}
  collapseNode
  tabindex -1
  value ${c}
  data-onClickCommand chisel changeTileTypeCommand
 span ?`:a?`div No tile '${a}' found.`:`div Your program has a blank line on line ${b}.`}getParseErrorCount(){return this.getTopDownArray().length}getTileHeaderBern(){return""}}window.DidYouMeanTile=DidYouMeanTile;class PickerTile extends AbstractProviderTile{getHakon(){const a=this.getTheme();return`.PickerTile
 .TileBody
  display flex
  flex-flow row wrap
  a
   &:hover
    background-color ${a.borderColor}
   padding 10px
   margin 5px
   height 30px
   background-color ${a.backgroundColor}
   border 1px solid ${a.borderColor}
   overflow hidden
   text-align center
   text-overflow ellipsis
   font-size 14px
   width 120px
   span
    font-size 70%`}fetchCards(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return a.getPredictionsForThisTile().map(a=>a.toObject())})}getPredictionsForThisTile(){const a=this.getTileProcess().getProcessGrammarProgram(),b=a.getTopNodeTypeIds().map(b=>a.getNodeTypeDefinitionByName(b)),c=b.filter(a=>!(a.get(TileConstants.tree.tags)||"").includes(TileConstants.noPicker));return c.length?c:b}getTileBodyStumpCode(){let a="";return this.getPredictionsForThisTile().map(b=>
{b.getConstantsObject();const c=b.getNodeTypeIdFromDefinition(),d=c.split(".")[1],e=lodash.upperFirst(c.split(".")[0]);let f="";a!==e&&(f=`div ${e}
 style width: 100%; margin-top: 20px; text-align: center;\n`);a=e;return`${f}a ${d}
 br
  span ${b.getDescription()}
 title ${b.getDescription()}
 tabindex -1
 value ${c}
 data-onClickCommand chisel changeTileTypeCommand`}).join("\n")}getTileHeaderBern(){return"Tile Gallery"}}window.PickerTile=PickerTile;
const Util={getFileExtension:a=>(a=(void 0===a?"":a).match(/\.([^\.]+)$/))&&a[1]||"",getMethodFromDotPath:(a,b)=>{for(b=b.split(".");1<b.length;)a=a[b.shift()]();b=b.shift();return[a,b]},requireAbsOrRelative:(a,b)=>{if(!a.startsWith("."))return require(a);const c=require("path");b=Util.getPathWithoutFileName(b);a=c.resolve(b+"/"+a);return require(a)},removeFileExtension:a=>a?a.replace(/\.[^\.]+$/,""):"",getFileName:a=>a.split("/").pop(),getPathWithoutFileName:a=>{a=a.split("/");a.pop();return a.join("/")},
makeSemiRandomFn:a=>{a=void 0===a?1:a;return()=>{const b=1E4*Math.sin(a++);return b-Math.floor(b)}},getAvailablePermalink:(a,b)=>{const c=Util.getFileExtension(a);a=Util.removeFileExtension(a);let d=2,e="",f=`${a}${e}.${c}`;for(;b(f);)f=`${a}${e}.${c}`,e="-"+d,d++;return f},sortByAccessor:a=>(b,c)=>{b=a(b);c=a(c);let d=b<c?-1:b>c?1:0;void 0===b&&void 0!==c?d=-1:void 0===c&&void 0!==b&&(d=1);return d},toggle:(a,b)=>{a=b.indexOf(a);return-1===a||a+1===b.length?b[0]:b[a+1]},executeProgram:a=>{var b=
new jtree.TreeNode(a);b=Util.getClassNameFromFilePath(b.getNode("#!").getWord(-1));return(new window[b](a)).execute()},getClassNameFromFilePath:a=>Util.removeFileExtension(Util.getFileName(a)),joinArraysOn:(a,b,c)=>{const d={};c||(c=b.map(a=>Object.keys(a[0])));b.forEach((b,f)=>{const e=c[f];b.forEach(b=>{const c=a?b[a]:f++;d[c]||(d[c]={});const g=d[c];e.forEach(a=>g[a]=b[a])})});return Object.values(d)}};window.Util=Util;
class WallFlexCommander extends WallCommander{setLayoutToCustomCommand(){const a=this.getTarget().getApp().getMountedTab();a.getTabProcess().touchNode(TileConstants.layout).setContent(TileConstants.custom);return a.autosaveAndRender()}moveTilesFromShadowsCommand(){const a=this.getTarget();a.getApp().getWillowProgram().getBodyStumpNode().findStumpNodesWithClass(TileConstants.tileChisel).filter(a=>a.getStumpNodeChisel().isVisible()).forEach(b=>a._moveStumpNode(b));return this.setLayoutToCustomCommand()}_getLayoutOptions(a){const b=
Object.keys(TileConstants.layouts).filter(a=>a!==TileConstants.layouts.custom);a.canUseCustomLayout()&&b.push(TileConstants.layouts.custom);return b}toggleLayoutCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var b=a.getTarget().getApp().getMountedProcess();const c=b.touchNode(TileConstants.layout);var d=c.getContent()||TileConstants.layouts.tiled;d=Util.toggle(d,a._getLayoutOptions(b));c.setContent(d);b.getProcessTiles().forEach(a=>a.makeDirty());b=b.getTab();
b.addStumpCodeMessageToLog(`div Layout changed to '${d}'.`);yield b.autosaveAndRender()})}}window.WallFlexCommander=WallFlexCommander;class AbstractChartTile extends AbstractFlowTile{getTileFooterStumpCode(){const a=this.getParentOrDummyBinder();return`${this.getTileToolbarButtonStumpCode()}
span Rows: ${a.getCardCount()} Columns: ${a.getColumnCount()}`}toDisplayString(a,b){return void 0===a?"":this.getParentOrDummyBinder().getBinderColumnByName(b).toDisplayString(a)}getCardsWithRowDisplayLimit(){const a=this.getParentOrDummyBinder().getCards(),b=this.getSettingsStruct()[FlowConstants.rowDisplayLimit],c=parseInt(b);return!b||isNaN(c)?a:a.slice(0,c)}}window.AbstractChartTile=AbstractChartTile;class AbstractBodyOnlyTile extends AbstractChartTile{getStumpCode(){return`div
 class ${this._getCssClasses()}
 id ${this.getTileChiselId()}
 data-onContextMenuCommand chisel openTileContextMenuCommand
 div
  class TileGrabber
  data-onDblClickCommand chisel toggleTileMaximizeCommand
 div
  class TileBody BodyOnly${this._getBodyStumpCodeCache()}
 div
  class TileFooter TileFooterLess${jtree.TreeNode.nest(this.getTileToolbarButtonStumpCode(),2)}
 div
  class TileGrabber`}getFooterHeight(){return 0}getHeaderHeight(){return 0}}window.AbstractBodyOnlyTile=AbstractBodyOnlyTile;class AbstractHeaderlessChartTile extends AbstractChartTile{getStumpCode(){return`div
 class ${this._getCssClasses()}
 id ${this.getTileChiselId()}
 data-onContextMenuCommand chisel openTileContextMenuCommand
 div
  class TileGrabber
  data-onDblClickCommand chisel toggleTileMaximizeCommand
 div
  class TileBody HeaderLess${this._getBodyStumpCodeCache()}
 div
  class TileFooter${jtree.TreeNode.nest(this.getTileFooterStumpCode(),2)}
 div
  class TileGrabber`}getHeaderHeight(){return 0}}window.AbstractHeaderlessChartTile=AbstractHeaderlessChartTile;class DumpTile extends AbstractHeaderlessChartTile{_getCharacterLimit(){return 2E4}getTileBodyStumpCode(){const a=this._getTextToDump(),b=this._getCharacterLimit();let c=a.substr(0,b);a.length>b&&(c=`<i>(Notice: Results truncated to ${b} characters)</i><br>`+c);return`div
 style overflow: scroll; width: 100%; height: 100%; white-space: pre;
 bern${jtree.TreeNode.nest(c||"No data to dump",2)}`}_getTextToDump(){return this.getPipishInput()}}window.DumpTile=DumpTile;class TextChart extends AbstractHeaderlessChartTile{getTileBodyStumpCode(){return`div
 bern${jtree.TreeNode.nest(this.getSettingsStruct().content,2)}`}}window.TextChart=TextChart;
class AbstractUrlProvider extends AbstractProviderTile{getUrl(){const a=this.getSettingsStruct();return a.urlTemplate&&this.getContent()?(new jtree.TreeNode({content:this.getContent()})).format(a.urlTemplate):a.urlPrefix&&this.getContent()?a.urlPrefix+this.getContent():a.url||this.getContent()||""}getFormat(){var a=this.getUrl();if(super.getFormat())return super.getFormat();a=Util.getFileExtension(a);if((new CardParser).getEncodingNames().includes(a))return a}getWillowHttpResponse(){return this._willowHttpResponse}_setWillowHttpResponse(a){this._willowHttpResponse=a;
return this}_getData(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var c="false"!==b.getSettingsStruct().useCache;const d=b.getApp().getWillowProgram();c=c?yield d.httpGetUrlFromCache(a):yield d.httpGetUrl(a);c.fromCache&&b.getTab().addStumpCodeMessageToLog(`div
 bern
  Loading from cache: ${a}`);b._setWillowHttpResponse(c);return c.getParsedDataOrText()})}fetchCards(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let b=a.getUrl();if(!b)return[];b=encodeURI(b);var c=a.getFormat();a._setUrlFetchErrorMessage();try{const d=yield a._getData(b),e=new CardParser;return"string"===typeof d?e.parse(d,c):e.parseFromObject(d,c)}catch(d){return c=(d.text||d.toString()).substr(0,280),a.getTab().addStumpErrorMessageToLog(`Error getting url: ${b}<br>
  ${c}`),a._setUrlFetchErrorMessage(c),[]}})}}class AbstractLocalUrlProvider extends AbstractUrlProvider{_getData(a){const b=this,c=()=>Object.getPrototypeOf(Object.getPrototypeOf(this))._getData;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return b.isNodeJs()?require("fs").readFileSync("/aientist/public"+a,"utf8"):c().call(b,a)})}}window.AbstractUrlProvider=AbstractUrlProvider;window.AbstractLocalUrlProvider=AbstractLocalUrlProvider;
class HeatCalendarChart extends AbstractHeaderlessChartTile{_getLegend(a,b,c){const d=this.getTheme();a=a.map((a,f)=>{f=c.left+b*f;return`<rect style="${"fill: "+d.getHeatColor(1-a.percent)}" width="10" height="10" x="${f}" y="${c.top}"></rect>`}).join("");return`<g>
<text x="${c.left-25}" y="${c.top+10}">Less</text>
${a}
<text x="${c.left+70}" y="${c.top+10}">More</text>
</g>`}getHakon(){return`.heatCal
 rect
  fill ${this.getTheme().darkerBackground}
  shape-rendering crispedges
 text
  font-size 10px
  fill #ddd`}getTileBodyStumpCode(){return`div
 class heatCal
 bern${jtree.TreeNode.nest(this.getSvg(),2)}`}_getDayMap(a,b,c,d){const e={};b.forEach(b=>{const f=b.getCardNumeric();var k=moment(f[c]).format("MM/DD/YYYY"),h;a:{for(h=0;h<a.length;h++)if(f[d]<=a[h].value){h=a[h].percent;break a}h=void 0}e[k]={Quin:h,count:f[d],card:b}});return e}_getDaysArray(a,b){const c=[],d=parseInt(a.format("e"));for(let e=0;e<=b;e++){const b=a.clone().add(e,"days");c.push({day:b,row:parseInt(b.format("e")),col:Math.floor((d+e)/7)})}return c}_getDayNamesG(a){return`<g>${[{day:"Mon",
row:2},{day:"Wed",row:4},{day:"Fri",row:6}].map(b=>`<text x="0" y="${20+b.row*a-3}">${b.day}</text>`).join("")}</g>`}_getMonthNamesG(a,b){const c={};return`<g>${a.map(a=>{const d=a.day.format("MMM"),f=a.day.format("MM/YYYY");if(c[f])return"";c[f]=!0;return`<text x="${40+a.col*b}" y="10">${d}</text>`}).join("")}</g>`}_getDataSquaresG(a,b,c){const d=moment(Date.now()).format("MM/DD/YYYY"),e=this.getTheme();return`<g>${a.map(a=>{const f=a.day.format("MM/DD/YYYY"),k=20+a.row*b;a=40+a.col*b;const h=c[f],
m=h?`id="t${h.card.getPuid()}"`:"",l=f===d?"stroke-width:2;stroke:rgb(0,0,0);":"";return`<rect style="${(h?"fill: "+e.getHeatColor(1-h.Quin):"")+";"+l}" ${m} data-day="${f}" width="10" height="10" x="${a}" y="${k}"><title>${`${f}: ${h?h.count:0}`}</title></rect>`}).join("")}</g>`}getSvg(){var a=this.getParentOrDummyBinder(),b=a.getCards();if(!b.length)return"";var c=this.getSettingsStruct(),d=c.day,e=c.count;if(!d||!e)return"";a.getBinderColumnByName(d);c=a.getBinderColumnByName(e);var f=moment(Date.now()).clone().subtract(365,
"days");a=365/6*12;c=c.getQuins();e=this._getDayMap(c,b,d,e);f=this._getDaysArray(f,365);b=this._getDayNamesG(12);d=this._getMonthNamesG(f,12);e=this._getDataSquaresG(f,12,e);c=this._getLegend(c,12,{top:110,left:60});return`<svg width="${a}" height="${184}">${b+e+d+c}</svg>`}}window.HeatCalendarChart=HeatCalendarChart;
class ParserTest extends AbstractProviderTile{fetchCards(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.getParent();if(b.getWillowHttpResponse){const a=(new CardParser).getProbabilities(b.getWillowHttpResponse().text);return Object.keys(a).map(b=>({parser:b,probability:a[b]}))}return[]})}}
class DebugSleepTile extends AbstractProviderTile{fetchCards(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=parseInt(a.getWord(1)||1);yield a.getApp().getCommander().sleepCommand(b);return Binder.dataTableToObjects(DummyDataSets[a.getWord(2)||"stockPrice"])})}}
class DebugThrowErrorTile extends AbstractProviderTile{fetchCards(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a._throwIfMethodNameIs("fetchCards")})}_throwIfMethodNameIs(a){const b=this.getContent();if(b===a)throw Error(`DebugTile threw an error on purpose on event: "${b}"`);}getTileBodyStumpCode(){this._throwIfMethodNameIs("getTileBodyStumpCode")}chiselDidMount(){this._throwIfMethodNameIs("chiselDidMount")}chiselDidUpdate(){this._throwIfMethodNameIs("chiselDidUpdate")}}
class DebugCommandsTile extends AbstractHeaderlessChartTile{getTileBodyStumpCode(){return"a Run Speed Test on all Files in Working Directory\n data-onClickCommand app _runSpeedTestCommand\nbr\na Run Tile Quality Check\n data-onClickCommand app _runTileQualityCheckCommand"}}
class DebugGrammarTreeTile extends AbstractProviderTile{fetchCards(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.getWord(1)||"flow";return[{text:(new (a.getApp().getProgramConstructorFromFileExtension(b))("")).getGrammarProgram().getNodeTypeFamilyTree().toString()}]})}}window.ParserTest=ParserTest;window.DebugCommandsTile=DebugCommandsTile;window.DebugSleepTile=DebugSleepTile;window.DebugThrowErrorTile=DebugThrowErrorTile;window.DebugGrammarTreeTile=DebugGrammarTreeTile;
class DiskBrowseTile extends AbstractUrlProvider{getHakon(){return".DiskTile\n table\n  width 100%\n  td,th\n   overflow hidden\n   text-overflow ellipsis\n  tr\n   white-space nowrap"}getUrl(){return this.getContent()?"/disk?path="+this.getContent():"/disk"}getTileBodyStumpCode(){const a=this.getContent()||"",b=a.replace(/\/[^\/]*$/,"");let c=this.getOutputBinder().getCards().slice(0,1E3);c=lodash.sortBy(c,a=>"false"===a.getCardOriginalValue("isDirectory"));return`input
 placeholder Filepath
 value ${a}
 data-onChangeCommand chisel changeTileContentAndRenderCommand
 class LargeTileInput
table
 tr
  td
   a ..
    data-onClickCommand chisel changeTileContentAndRenderCommand
    value ${b}
${c.map(b=>{const c=Format.stripHtml(b.getCardOriginalValue("name")),d="true"===b.getCardOriginalValue("isDirectory"),g=b.getCardOriginalValue("bytes");b=b.getCardOriginalValue("mtime");return d?` tr
  td
   a ${c}
    data-onClickCommand chisel changeTileContentAndRenderCommand
    value ${a.replace(/\/$/,"")+"/"+c}`:` tr
  td ${c}
  td ${numeral(g).format("0.0 b")}
  td ${moment(parseFloat(b)).fromNow()}`}).join("\n")}`}}window.DiskBrowseTile=DiskBrowseTile;class DataTablesTile extends AbstractBodyOnlyTile{getTileBodyStumpCode(){var a=this.getParentOrDummyBinder().getColumnsArray().slice(0,10);const b=this._getHeaderRowsStumpCode(a.map(a=>a.getColumnName()));a=this._getTableRowsStumpCode(a);return`div
 table
  class DataTable
  thead
   tr${jtree.TreeNode.nest(b,4)}
  tbody ${jtree.TreeNode.nest(a,2)}`}_getHeaderRowsStumpCode(a){return a.map(a=>`th ${a}`).join("\n")}_getTableRowsStumpCode(a){return this.getCardsWithRowDisplayLimit().slice(0,10).map((b,c)=>{c=a.map(a=>{a=b.getCardHtmlSafeValue(a.getColumnName());return`td
 bern${jtree.TreeNode.nest(a,2)}`}).join("\n");return`tr${jtree.TreeNode.nest(c,1)}`}).join("\n")}chiselWillUnmount(){}chiselDidUpdate(){super.chiselDidUpdate();this.getParentOrDummyBinder();const a=this.getParentOrDummyBinder().getColumnsArray().slice(0,10);var b=this.getStumpNode().findStumpNodeByChild("class DataTable");if(!this.isNodeJs()){var c=this.getTileDimensionIfAny(),d=c.width-20;c=c.height-150;var e=b.getShadow();b=e.getShadowElement();e.setShadowCss({width:d,height:c});d=this.getCardsWithRowDisplayLimit();
jQuery.fn.dataTable.ext.errMode="throw";this._dataTables=jQuery(b).DataTable({data:this.getCardsAsDataTableArrayWithHeader(d,a.map(a=>a.getColumnName())).slice(1),pageLength:10,scrollY:c})}}chiselDidMount(){this.chiselDidUpdate()}}window.DataTablesTile=DataTablesTile;
class HackerNewsGetAllTile extends AbstractUrlProvider{fetchCards(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.getApp().getWillowProgram();var c=a._getFirstUrl();if(!c||a.isNodeJs())return[];c=yield b.httpGetUrlFromProxyCache(c);c=a._parseNextUrls(c);return(yield Promise.all(c.slice(0,a._getLimit()).map(a=>b.httpGetUrlFromProxyCache(a)))).map(a=>a.asJson)})}_getLimit(){return parseInt(this.getContent()||10)}_parseNextUrls(a){return a.asJson.map(a=>`https://hacker-news.firebaseio.com/v0/item/${a}.json?print=pretty`)}_getFirstUrl(){return"https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty"}}
class HackerNewsSubmissionsTile extends HackerNewsGetAllTile{_getFirstUrl(){const a=this.getWord(1);if(a)return`https://hacker-news.firebaseio.com/v0/user/${a}.json?print=pretty`}_getLimit(){return parseInt(this.getWord(2)||10)}_parseNextUrls(a){return a.asJson.submitted.map(a=>`https://hacker-news.firebaseio.com/v0/item/${a}.json?print=pretty`)}}window.HackerNewsGetAllTile=HackerNewsGetAllTile;window.HackerNewsSubmissionsTile=HackerNewsSubmissionsTile;
class HandsOnTableTile extends AbstractHeaderlessChartTile{getTileBodyStumpCode(){return"div\n class hot"}getHakon(){return".hot\n color black"}getTransformedCards(){}chiselWillUnmount(){this._hot&&this._hot.destroy();delete this._hot}chiselDidUpdate(){super.chiselDidUpdate();var a=this.getParentOrDummyBinder().getColumnsByImportance().map(a=>a.getColumnName()),b=this.getCardsWithRowDisplayLimit();a=this.getCardsAsDataTableArrayWithHeader(b,a);var c=this.getTileDimensionIfAny();b=c.width-20;c=c.height-
60;const d=this.getStumpNode().findStumpNodeByChild("class hot"),e=this.getApp();if(!this.isNodeJs())return this._hot=new Handsontable(d.getShadow().getShadowElement(),{data:a,rowHeaders:!0,colHeaders:!0,stretchH:"all",width:b,minSpareCols:10,minSpareRows:30,afterSelection:()=>e.pauseShortcutListener(),afterDeselect:()=>e.startShortcutListener(),height:c})}chiselDidMount(){this.chiselDidUpdate()}}window.HandsOnTableTile=HandsOnTableTile;
class HTMLTile extends AbstractBodyOnlyTile{getTileFooterStumpCode(){return this.getTileToolbarButtonStumpCode()}fetchCards(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return[{text:a.getHtmlContent()}]})}getHtmlContent(){return this.getWordsFrom(2).join(" ")||"No html content to show."}getTag(){return this.getWord(1)||"div"}getSrc(){return this.getSettingsStruct().src}getTileBodyStumpCode(){const a=this.getSettingsStruct();return`${this.getTag()}
 ${a.style?`style ${a.style}`:"noOp"}
 ${this.getSrc()?`src ${this.getSrc()}`:"noOp"}
 bern${jtree.TreeNode.nest(this.getHtmlContent(),2)}`}}class BaseContentArray extends jtree.TreeNode{toArrayMap(){const a={};this.forEach(b=>{a[b.getFirstWord()]=b.getContent().split(" ")});return a}}class HTMLFixedTagTile extends HTMLTile{getHtmlContent(){return this.getContent()}getTag(){return this.getSettingsStruct().htmlTag}}class HTMLContentIsSrcTile extends HTMLFixedTagTile{getHtmlContent(){return""}getSrc(){return this.getContent()||super.getSrc()}}
class HTMLDumpTile extends HTMLTile{getHtmlContent(){return this.getPipishInput()}}class CustomHTMLTile extends AbstractBodyOnlyTile{getTileBodyStumpCode(){var a=this.getSettingsStruct();const b=a.allowedTags.split(" "),c=(new BaseContentArray(a.allowedAttributes)).toArrayMap();a=a.content||"No HTML content to show";"undefined"!==typeof sanitizeHtml&&(a=sanitizeHtml(a,{allowedTags:sanitizeHtml.defaults.allowedTags.concat(b),allowedSchemes:["http","https","file","mailto"],allowedAttributes:c}));return`div
 bern${jtree.TreeNode.nest(a,2)}`}}window.HTMLTile=HTMLTile;window.CustomHTMLTile=CustomHTMLTile;window.HTMLDumpTile=HTMLDumpTile;window.HTMLFixedTagTile=HTMLFixedTagTile;window.HTMLContentIsSrcTile=HTMLContentIsSrcTile;class IconTile extends AbstractHeaderlessChartTile{}
class CircleIconTile extends IconTile{getTileBodyStumpCode(){const a=this.getSettingsStruct().radius,b=this.getParentOrDummyBinder().getCards().map(b=>`<span style="font-size:${b.cardToObjectWithOnlyNativeJavascriptTypes()[a]/3}em;">O</span>`).join(" ");return`div
 bern${jtree.TreeNode.nest(b,2)}`}}
class HumanIconTile extends IconTile{getTileBodyStumpCode(){var a=this.getParentOrDummyBinder();const b=a.getCards(),c=this.getSettingsStruct().headSize,d=this.getSettingsStruct().genderColumn,e=a.getColumnByName(c).getReductions(),f=e.max;a=b.map(a=>{var b=a.cardToObjectWithOnlyNativeJavascriptTypes();const g=b[c];b="male"===b[d].toLowerCase()?"blue":"pink";let m="O",l=g/f;isNaN(g)&&(m="x",l=e.median/f);a=a.getHoverTitle();l=Math.round(18*l);return`<span title="${a}" style="font-size:${l}px; color:${b};">${m}</span>`}).join(" ");return`div
 bern${jtree.TreeNode.nest(a,2)}`}}window.HumanIconTile=HumanIconTile;window.CircleIconTile=CircleIconTile;
class JoinTile extends AbstractTransformerTile{getTransformedCards(){var a=this.getParent();if(a.isProcess())return[];var b=a.getParent();if(b.isProcess())return a.getOutputOrInputBinder().getCardSources();var c=[a,b];a=c.map(a=>a.getOutputOrInputBinder().getCardSources());b=this.getContent();if(!b)return lodash.flatten(a);c=c.map(a=>a.getOutputOrInputBinder().getColumnNames());return Util.joinArraysOn(b,a,c)}}window.JoinTile=JoinTile;class ListTile extends AbstractChartTile{_getListItem(a,b){return` li
  span ${a}`}_getLabelColumnName(){return this.getWord(1)||this.getSettingsStruct().label}getTileBodyStumpCode(){const a=this._getLabelColumnName();return`ol
${this.getCardsWithRowDisplayLimit().map(b=>this._getListItem(Format.stripHtml(b.getCardOriginalValue(a)),b)).join("\n")}`}}class ListWithLinksTile extends ListTile{_getUrlColumnName(){return this.getWord(2)||this.getSettingsStruct().link}_getListItem(a,b){const c=this._getUrlColumnName();return c?` li
  a ${a}
   href ${Format.stripHtml(b.getCardOriginalValue(c))}`:super._getListItem(a,b)}}window.ListTile=ListTile;window.ListWithLinksTile=ListWithLinksTile;class MarkdownChart extends AbstractHeaderlessChartTile{getTileBodyStumpCode(){var a=this.getPipishInput();a=marked(a);return`div
 bern${jtree.TreeNode.nest(a,2)}`}}window.MarkdownChart=MarkdownChart;
class FuzzyMatchTile extends AbstractTransformerTile{getTransformedCards(){var a=this.getParent();if(a.isProcess())return[];const b=a.getParent();if(b.isProcess())return a.getOutputOrInputBinder().getCardSources();a=[a,b].map(a=>a.getOutputOrInputBinder().getCardSources());return this._addFuzz(a[0],a[1])}_addFuzz(a,b){const c=this.getWord(1)||"name",d=this.getWord(2)||"name",e=new Fuse(b,{shouldSort:!0,includeScore:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[d]});
return a.map(a=>{a=a[c];var b=e.search(a);if(!b.length)return{search:a,match:""};b=b[0];return{search:a,match:b.item[d],confidence:parseFloat((1-b.score).toFixed(3))}})}}window.FuzzyMatchTile=FuzzyMatchTile;
class RedditTile extends AbstractUrlProvider{fetchCards(){const a=this,b=()=>Object.getPrototypeOf(Object.getPrototypeOf(this)).fetchCards;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=yield b().call(a);return c.length?c[0].data.children.map(a=>a.data):[]})}getFormat(){return"json"}}class SubRedditTile extends RedditTile{getUrl(){return`https://www.reddit.com/r/${this.getContent()||"all"}/top/.json?sort=top`}}class SubRedditsTile extends RedditTile{}window.RedditTile=RedditTile;
window.SubRedditTile=SubRedditTile;window.SubRedditsTile=SubRedditsTile;class ShowTile extends AbstractBodyOnlyTile{getHakon(){return".ShowTile\n h3\n  text-align center\n h6\n  text-align center\n  height 40px\n  overflow hidden"}getTileBodyStumpCode(){const a=this.getWord(1);if(!a)return`No data for ${this.getFirstWord()}`;const b=this.getParentOrDummyBinder().getBinderColumnByName(a);if(!b)return"";const c=this.getWord(0).split(".")[1];return`h6 ${this.getWordsFrom(2).join(" ")||[a,c].join(" ")}
h3 ${this.toDisplayString(b.getReductions()[c],a)}`}}window.ShowTile=ShowTile;class TableTile extends AbstractChartTile{getTileHeaderBern(){return this.getContent()||super.getTileHeaderBern()}getHakon(){const a=this.getTheme();return`.TableChisel
 font-size 14px
 box-sizing border-box
 width 100%
 height 100%
 ${a.enableTextSelect(1)}
 top 34px
 table
  width 100%
 tr
  white-space nowrap
  padding 0
 td:first-child,th:first-child
  padding-left 5px
 td
  border 1px solid ${a.lineColor}
 tr:nth-child(even)
  background-color ${a.veryLightGrey}
 td,th
  padding 2px 3px
  text-align left
  overflow hidden
  text-overflow ellipsis
  max-width 250px
 td:hover,th:hover
  overflow visible
 th
  cursor pointer
  background-color ${a.lightGrey}
  border 1px solid ${a.lineColor}
  border-bottom-color ${a.greyish}
 input,textarea
  border 0
  font-size 14px
  box-sizing border-box
  padding 0
  font-family ${a.fonts}`}_getTableRowsStumpCode(a){return this.getCardsWithRowDisplayLimit().map((b,c)=>{const d=a.map(a=>{const c=b.getCardHtmlSafeValue(a.getColumnName());return a.isLink()?`td
 a
  href ${c}
  bern${jtree.TreeNode.nest(c,3)}`:`td
 bern${jtree.TreeNode.nest(c,2)}`}).join("\n");return`tr
 class tableRow
 value ${b.getPuid()}
 td ${c+1}${jtree.TreeNode.nest(d,1)}`}).join("\n")}getContextMenuStumpCode(){return"a Delete all cards\n data-onClickCommand app deleteAllCardsInTargetTileCommand"}_getHeaderRowsStumpCode(a){return"th\n"+a.map(a=>`th
 value ${a}
 span ${a}
  value ${a}`).join("\n")}_getCustomBodyStyle(){return"padding: 0px;"}getTileBodyStumpCode(){var a=this.getSettingsStruct(),b=this.getParentOrDummyBinder();if(b.isBlankBinder())return"div No data to show";b="importance"===a.columnOrder?b.getColumnsByImportance():b.getColumnsArray();b=b.slice(0,a.columnLimit||20);a=b.map(a=>a.getColumnName());a=this._getHeaderRowsStumpCode(a);b=this._getTableRowsStumpCode(b);return`div
 class TableChisel
 table
  thead
   tr
    title Click to sort.${jtree.TreeNode.nest(a,4)}
  tbody ${jtree.TreeNode.nest(b,2)}`}}window.TableTile=TableTile;
class WordCloudChart extends AbstractHeaderlessChartTile{getTileBodyStumpCode(){return"div\n class wordCloud\n style width: 100%; height: 100%;"}_getAllWords(){return this.getRequiredTableWithHeader(["name","count"])}chiselDidUpdate(){this._draw()}chiselDidMount(){this._draw()}_draw(){if(!this.isNodeJs()){var a=this.getSettingsStruct(),b=this._getAllWords();b.length&&(b.shift(),b={list:b.map(a=>[a[0],a[1]]),shuffle:!1,backgroundColor:"transparent",random:Util.makeSemiRandomFn(),wait:0},Object.assign(b,
a),a=this.getStumpNode().findStumpNodeByChild("class wordCloud").getShadow().getShadowElement(),WordCloud(a,b))}}}window.WordCloudChart=WordCloudChart;
class ThreeDChart extends AbstractHeaderlessChartTile{getTileBodyStumpCode(){return"div\n class visjs"}chiselDidMount(){super.chiselDidMount();this.chiselDidUpdate()}chiselDidUpdate(){super.chiselDidUpdate();if(!this.isNodeJs())try{this._tryVis()}catch(a){console.error(a)}}_tryVis(){var a=this.getSettingsStruct(),b=this.getPipishInput(),c=this.getApp(),d=c.getLanguageBestGuess(b);b=c.generateProgram(b,d);b=this._treeTo3D(b);const e=new vis.DataSet;b.forEach(a=>e.add(a));a=a.size;b=this.getTileDimensionIfAny();
var f=this.getNode("cameraPosition")||(new jtree.TreeNode("cameraPosition 4 .1 1.5")).getNode("cameraPosition");c=parseFloat(f.getWord(1));d=parseFloat(f.getWord(2));f=parseFloat(f.getWord(3));a={width:b.width+"px",height:b.height-80+"px",style:"dot-color",showPerspective:!1,showLegend:!1,showShadow:!1,keepAspectRatio:!0,xStep:1,yStep:1,zStep:1,zMax:5,showGrid:!0,showZAxis:!1,showXAxis:!1,showYAxis:!1,dotSizeRatio:a,dotSizeMinFraction:1,cameraPosition:{distance:c,horizontal:d,vertical:f},verticalRatio:1,
tooltip:a=>a.data.line};b=this.getStumpNode().findStumpNodeByChild("class visjs").getShadow().getShadowElement();this._graph3d=new vis.Graph3d(b,e,a);a=lodash.throttle(a=>this._onCameraPositionChange(a),100);this._graph3d.on("cameraPositionChange",a)}_onCameraPositionChange(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var a=b._graph3d.getCameraPosition();a=`${a.distance} ${a.horizontal} ${a.vertical}`;b.touchNode("cameraPosition").setContent(a);yield b.getTab().autosaveTab()})}_treeTo3D(a){this.getApp().getTheme();
const b={},c=new jtree.TreeNode(a.getInPlaceCellTypeTree()),d=Util.makeSemiRandomFn(),e=[];a.getTopDownArray().forEach((f,g)=>{const k=f.getPoint(a);g=f.getPathVector(a);const h=c.nodeAt(g);f.getWords().forEach((a,c)=>{const f=h.getWord(c);b[f]||(b[f]=d());c=k.x+c;e.push({x:c,y:-k.y,z:0,line:`${f} | ${a} | x ${c} y ${k.y} z ${0}`,style:b[f]})})});return e}}window.ThreeDChart=ThreeDChart;
class TreeOutline extends AbstractHeaderlessChartTile{_getTheBern(){return(new jtree.TreeNode(this.getPipishInput())).toOutline()}getTileBodyStumpCode(){new jtree.TreeNode(this.getPipishInput());const a=this._getTheBern();return`pre
 style overflow: scroll; width: 100%; height: 100%; margin: 0; box-sizing: border-box; font-family: monospace; line-height: 13px;
 bern${jtree.TreeNode.nest(a,2)}`}}class DotLine extends TreeOutline{_getTheBern(){return(new jtree.TreeNode(this.getPipishInput())).toMappedOutline(a=>"o"+a.getLine().split(" ").map(a=>"\u00ba").join(""))}}window.TreeOutline=TreeOutline;window.DotLine=DotLine;class WebDumpTile extends DumpTile{_getTextToDump(){return this.getParent().getWillowHttpResponse?this.getParent().getWillowHttpResponse().text:`${this.constructor.name} requires a parent web tile.`}}window.WebDumpTile=WebDumpTile;class WebGetTile extends AbstractUrlProvider{_getPlaceHolderMessage(){return"Enter a url."}getTileBodyStumpCode(){return`span ${this.getFirstWord()}
 class LargeLabel
input
 value ${this.getContent()||""}
 placeholder ${this._getPlaceHolderMessage()}
 data-onChangeCommand chisel changeTileContentAndRenderCommand
 class LargeTileInput`}}window.WebGetTile=WebGetTile;class WebPostTile extends AbstractUrlProvider{getTileBodyStumpCode(){const a=this.getContent()||"",b=this.getSettingsStruct().post||"";return`input
 placeholder Enter a url.
 value ${a}
 data-onChangeCommand chisel changeTileContentAndRenderCommand
 class LargeTileInput
textarea
 bern${jtree.TreeNode.nest(Format.stripHtml(b),2)}
 placeholder This data will be sent as the value of the 'q' param
 name post
 data-onChangeCommand chisel changeTileSettingMultilineCommand
 class TileTextArea`}_getData(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var c=b.getSettingsStruct().post||"";c=yield b.getApp().getWillowProgram().httpPostUrl(a,{q:c.trim()});b._setWillowHttpResponse(c);return c.getParsedDataOrText()})}}window.WebPostTile=WebPostTile;const FlowCodeEditorTemplate=(a,b)=>`data.inline
 format text
 treeLanguage ${b}
 text.lc
  show.median lines Total lines
 text.wc
  show.sum count Total words
 treenotation.3d
 treenotation.outline
 treenotation.wordTypes
  html.printAs pre
   text.wc
    tables.basic
    text.wordcloud
 content${jtree.TreeNode.nest(a,2)}
layout bin`;window.FlowCodeEditorTemplate=FlowCodeEditorTemplate;class SnippetTextGalleryTile extends AbstractBodyOnlyTile{getGalleryNodes(){}getTileBodyStumpCode(){const a=this.getSettingsStruct(),b=this.getGalleryNodes().map(b=>` li
  a ${b.format(a.itemFormat)}
   value ${b.get("id")}
   class ${TileConstants.buttons.appendSnippetButton}
   data-onClickCommand chisel appendSnippetTemplateCommand`).join("\n");return`h4 ${a.title}
ol
${b}`}}class TemplateGalleryTile extends SnippetTextGalleryTile{getGalleryNodes(){}getTileBodyStumpCode(){const a=this.getSettingsStruct(),b=this.getGalleryNodes().map(b=>` li
  a ${b.format(a.itemFormat)}
   value ${b.get("id")}
   class ${TileConstants.buttons.createProgramButton}
   data-onClickCommand chisel createProgramFromTemplateCommand`).join("\n");return`h4 ${a.title}
ol
${b}`}}window.SnippetTextGalleryTile=SnippetTextGalleryTile;window.TemplateGalleryTile=TemplateGalleryTile;class SamplesList extends SnippetTextGalleryTile{getGalleryNodes(){const a=this.getApp().getFlowGrammarAsTree();return new jtree.TreeNode(a.getNodesByRegex(/^nodeType samples\./).map(a=>({id:a.getWord(1),description:a.get("description")})))}getSnippetTemplate(a){return a}}window.SamplesList=SamplesList;const VegaConstants={mark:"mark"};var VegaType;
(function(a){a.nominal="nominal";a.ordinal="ordinal";a.geojson="geojson";a.quantitative="quantitative";a.temporal="temporal"})(VegaType||(VegaType={}));
class AbstractVegaLiteTile extends AbstractBodyOnlyTile{getTileBodyStumpCode(){return"div\n class vega"}_getColumnToField(a){var b=this.getParentOrDummyBinder().getColumnsMap()[a];a={field:a,type:b.getVegaType()};b.isTemporal()&&(b=b.getVegaTimeUnit())&&(a.timeUnit=b);return a}_createVegaEmbedded(a,b){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return yield vegaEmbed(a,b)})}_adjustVegaSize(){if(!this.has("width")){const a=this.getStumpNode().findStumpNodeByChild("class vega").getShadow();
this.set("width",Math.round((30+a.getShadowOuterWidth())/20)+"");this.set("height",Math.round((30+a.getShadowOuterHeight())/20)+"")}}chiselDidUpdate(){super.chiselDidUpdate();if(!this.isNodeJs()){var a=this.getStumpNode().findStumpNodeByChild("class vega").getShadow();this._createVegaEmbedded(a.getShadowElement(),this._getVegaSpec())}}_getTileWidth(){return this.getTileDimensionIfAny().width-120}_getTileHeight(){return this.getTileDimensionIfAny().height-120}chiselDidMount(){this.chiselDidUpdate()}_getVegaData(){return{values:this.getCardsWithRowDisplayLimit().map(a=>
Object.assign({},a.cardToObjectWithOnlyNativeJavascriptTypes()))}}_getVegaTitle(){return this.getContent()}_getVegaSpec(){return{description:"A simple bar chart with embedded data.",data:this._getVegaData(),width:this._getTileWidth(),height:this._getTileHeight(),mark:this._getVegaMarkObj(),encoding:this._getEncodingMap(),transform:this._getVegaTransform(),title:this._getVegaTitle(),config:this._getVegaConfig()}}_getVegaTransform(){}_getVegaConfig(){}_getEncodingMap(){return{}}_getVegaMarkObj(){return{type:this._getVegaMark(),
tooltip:{content:"data"}}}_getVegaMark(){return this._getSettingsStruct()[VegaConstants.mark]}}
class VegaFromExampleTile extends AbstractProviderTile{_getVegaSpec(){return this._spec}_fetchSpec(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){if(!a.isNodeJs()){var b=`/aientist/client/plugins/vega/ignore/vega-lite/examples/compiled/${a.getContent()||"area"}.vg.json`;b=yield a.getApp().getWillowProgram().httpGetUrl(b);b=JSON.parse(b.text);b.data.forEach(a=>{a.url&&(a.url=a.url.replace("data/","/standard-packages/vega/datasets/"))});return a._spec=b}})}fetchCards(){const a=
this,b=()=>Object.getPrototypeOf(Object.getPrototypeOf(this)).fetchCards;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=yield a._fetchSpec();if(a.isNodeJs())return b().call(a);var d=jQuery("<div></div>")[0];d=yield vegaEmbed(d,c);return yield a._getVegaPostTransformOutputRows(c,d)})}_getVegaPostTransformOutputRows(a,b){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=a.data[0]&&a.data[0].name;return c?b.view.data(c):[]})}}
class VegaLiteHistogramTile extends AbstractVegaLiteTile{_getEncodingMap(){return{x:{bin:!0,field:this.getContent()||this.mapSettingNamesToColumnNames([FlowConstants.xColumn])[0],type:VegaType.quantitative},y:{aggregate:"count",type:VegaType.quantitative}}}}class VegaLiteBarTile extends AbstractVegaLiteTile{_getEncodingMap(){const a=this.mapSettingNamesToColumnNames([FlowConstants.xColumn,FlowConstants.yColumn]);return{x:this._getColumnToField(a[0]),y:this._getColumnToField(a[1])}}}
class VegaDataSetList extends SnippetTextGalleryTile{getGalleryNodes(){const a=this.getApp().getFlowGrammarAsTree().getNodesByRegex(/^cellType vegaDataSet/)[0];return new jtree.TreeNode(a.get("enum").split(" ").map(a=>({id:a})))}getSnippetTemplate(a){return`vega.data ${a}`}}
class VegaExamplesList extends SnippetTextGalleryTile{getGalleryNodes(){const a=this.getApp().getFlowGrammarAsTree().getNodesByRegex(/^cellType vegaExampleName/)[0];return new jtree.TreeNode(a.get("enum").split(" ").map(a=>({id:a})))}getSnippetTemplate(a){return`vega.example ${a}`}}
class VegaLiteScatterTile extends AbstractVegaLiteTile{_getEncodingMap(){const a=this.mapSettingNamesToColumnNames([FlowConstants.xColumn,FlowConstants.yColumn]);return{x:this._getColumnToField(a[0]),y:this._getColumnToField(a[1])}}}
class VegaLiteBubbleTile extends VegaLiteScatterTile{_getEncodingMap(){const a=this.mapSettingNamesToColumnNames([FlowConstants.xColumn,FlowConstants.yColumn,"sizeColumn","colorColumn"]);return{y:{field:a[1],type:VegaType.quantitative,scale:{zero:!1},axis:{minExtent:30}},x:this._getColumnToField(a[0]),size:{field:a[2],type:VegaType.quantitative},color:{value:"#000"}}}}
class VegaLiteEmojiTile extends AbstractVegaLiteTile{_getVegaConfig(){return{view:{stroke:""}}}_getVegaMark(){return{type:"text",baseline:"middle"}}_getEncodingMap(){const a=this.mapSettingNamesToColumnNames([FlowConstants.yColumn,"emoji"]);return{x:{field:a[1],type:VegaType.nominal,axis:null},y:{field:a[0],type:VegaType.quantitative,axis:null,sort:null},text:{field:a[1],type:VegaType.nominal},size:{value:65}}}}window.VegaLiteBarTile=VegaLiteBarTile;window.VegaLiteHistogramTile=VegaLiteHistogramTile;
window.VegaLiteEmojiTile=VegaLiteEmojiTile;window.VegaLiteScatterTile=VegaLiteScatterTile;window.VegaLiteBubbleTile=VegaLiteBubbleTile;window.VegaDataSetList=VegaDataSetList;window.VegaExamplesList=VegaExamplesList;window.VegaFromExampleTile=VegaFromExampleTile;
class AbstractLayoutStrategy{constructor(a,b,c){this._tileProcess=a;this._wallViewPortWidth=void 0===b?1400:b;this._wallViewPortHeight=void 0===c?1400:c}_getVisibleTiles(){return this._getTileProcess().getProcessTiles().filter(a=>a.isVisible())}_getVisibleRootTiles(){return this._getTileProcess().getProcessRootTiles().filter(a=>a.isVisible())}_getTileProcess(){return this._tileProcess}_getWallViewPortWidth(){return this._wallViewPortWidth}_getWallViewPortHeight(){return this._wallViewPortHeight}}
class CustomLayout extends AbstractLayoutStrategy{makeTileDimensionMap(){const a=this._getVisibleTiles(),b=[],c=new Map;a.forEach((a,d)=>{if(!a.getLeft())return b.push(a);c.set(a,a.makeTileDimension())});let d=0;b.forEach((a,b)=>{b=a.makeTileDimension(0,d);c.set(a,b);d+=b.height/20});return c}}
const treeLayoutAddTileDimensionToMap=(a,b,c,d,e)=>{const f=a.getDefinedOrSuggestedSize(),g=a.getRequiredDimensionsForTreeLayout(e),k=new TileDimension(a,{width:f.width,height:f.height,left:c+Math.floor(g.width-f.width)/2,top:d});b.set(a,k);const h=d+f.height+e;let m=c,l=h;a.getChildTiles().forEach(a=>{a=treeLayoutAddTileDimensionToMap(a,b,m,h,e);m=a.left;a._top>l&&(l=a._top)});return{left:c+g.width,_top:l,dimension:k}};
class TreeLayout extends AbstractLayoutStrategy{makeTileDimensionMap(){const a=new Map;let b=0;this._getTileProcess().getProcessRootTiles().forEach(c=>{b=treeLayoutAddTileDimensionToMap(c,a,0,b,10)._top});return a}}
class ColumnLayout extends AbstractLayoutStrategy{makeTileDimensionMap(){let a=0;const b=Math.max(800,this._getWallViewPortWidth()),c=Math.floor((b-800)/2),d=new Map;this._getVisibleTiles().forEach(b=>{const e=b.getDefinedOrSuggestedSize(),g=new TileDimension(b,{width:800,height:e.height,left:c,top:a});d.set(b,g);a+=e.height+10});return d}}
class TiledLayout extends AbstractLayoutStrategy{makeTileDimensionMap(){let a=10,b=10;const c=new Map;this._getVisibleTiles().forEach(d=>{var e=d.getDefinedOrSuggestedSize();e=new TileDimension(d,{width:e.width,height:e.height,left:b,top:a});c.set(d,e);b+=30;a+=30});return c}}
class BinLayout extends AbstractLayoutStrategy{makeTileDimensionMap(){const a=new Map;var b=this._getVisibleTiles().map(a=>{const b=a.getDefinedOrSuggestedSize();return{width:b.width,height:b.height,tile:a}});b=lodash.sortBy(b,a=>Math.max(a.width,a.height)).reverse();(new BinPacker).fit(b);b.forEach(b=>{const c=new TileDimension(b.tile,{width:b.width,height:b.height,left:b.fit.xcc,top:b.fit.ycc});a.set(b.tile,c)});return a}}
class Layout{constructor(){}getTileDimensionMap(a,b,c,d){a=(new ({custom:CustomLayout,column:ColumnLayout,tree:TreeLayout,tiled:TiledLayout,bin:BinLayout}[b]||TreeLayout)(a,c,d)).makeTileDimensionMap();a.forEach((a,b,g)=>{b._isMaximized()&&(a.width=c,a.height=d,a.left=0,a.top=0)});return a}}window.Layout=Layout;
class TileProcess extends jtree.programRoot{getNodeConstructor(a){const b=a.split(" ")[0],c=this.getProcessGrammarProgram();return c.getRunTimeFirstWordMap()[b]?TileGrammar.getDefinitionTileConstructor(c.getNodeTypeDefinitionByName(b)):this.getCatchAllNodeConstructor(a)}getCatchAllNodeConstructor(){return DidYouMeanTile}getProcessGrammarProgram(){return this.getTab().getTabGrammarProgram()}getGrammarProgram(){return this.getProcessGrammarProgram()}getAllCardsFromAllOutputBinders(){return lodash.flatten(this.getProcessTiles().map(a=>
a.getOutputBinder()).filter(a=>a).map(a=>a.getCards()))}_getProgramCardCount(){return this.getAllCardsFromAllOutputBinders().reduce((a,b)=>a+b.length,0)}getApp(){return this.getTab().getApp()}getTab(){return this.getParent()}canUseCustomLayout(){return this.get(TileConstants.layout)===TileConstants.layouts.custom||this.getProcessTiles().some(a=>a.has(TileConstants.left)||a.has(TileConstants.top))?!0:!1}getLayoutStrategy(){return this.get(TileConstants.layout)||(this.getTab().getWallType()===OhayoGrammarConstants.flex?
this.canUseCustomLayout()?TileConstants.layouts.custom:TileConstants.layouts.tiled:TileConstants.layouts.tree)}getTileDimensionMap(a,b){return(new Layout).getTileDimensionMap(this,this.getLayoutStrategy(),a,b)}run(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=lodash.uniq(a.getTopDownArray().filter(a=>a instanceof AbstractTileChisel).map(a=>a.getFirstWord()));yield Promise.all(b.map(b=>a._loadTileClassCode(b)));yield Promise.all(a.getProcessRootTiles().map(b=>
$jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield b.runTile();a.getApp().renderApp()})));return a})}getTileProcess(){return this}getSelectedTiles(){return this.getProcessTiles().filter(a=>a.isSelected())}clearSelection(){this.getSelectedTiles().forEach(a=>a.unselect())}deleteSelection(){const a=this.getSelectedTiles();a.length&&a.forEach(a=>{a.filter(a=>a instanceof AbstractTileChisel&&!a.isSelected()).forEach(a=>{a.unmount();a.shiftLeft()});a.unmountAndDestroy()})}copySelection(a){if(a=
this._copySelection(a))return this.getApp().addStumpCodeMessageToLog("div Items copied"),a}_copySelection(a){var b=this.getApp();const c=b.getWillowProgram();if(b.terminalHasFocus()||c.someInputHasFocus())return"";b=this.selectionToString();if(!b)return"";c.setCopyData(a,b);return b}selectAll(){this.getProcessTiles().forEach(a=>a.selectTile())}getFirstSelectedTile(){return this.getSelectedTiles()[0]}getLastSelectedTile(){return this.getSelectedTiles()[this.getSelectedTiles().length-1]}selectFirstTile(){const a=
this.getProcessTiles()[0];a&&a.selectTile()}selectionToString(){return this.getSelectedTiles().map(a=>a.toString()).join("\n")}cutSelection(a){if(a=this._copySelection(a))return this.deleteSelection(),this.getApp().addStumpCodeMessageToLog("div Items cut"),a}selectNextTile(){const a=this.getTopDownArray().filter(a=>a instanceof AbstractTileChisel);if(2>a.length)return!0;let b=a.indexOf(this.getFirstSelectedTile());b=b===a.length-1?0:b+1;this.clearSelection();a[b].selectTile()}selectPreviousTile(){const a=
this.getTopDownArray().filter(a=>a instanceof AbstractTileChisel);if(2>a.length)return!0;let b=a.indexOf(this.getFirstSelectedTile());b=0===b?a.length-1:b-1;this.clearSelection();a[b].selectTile()}getOutputOrInputBinder(){this._outputBinder||(this._outputBinder=new Binder);return this._outputBinder}getProcessTiles(){return this.getTopDownArray().filter(a=>a instanceof AbstractTileChisel)}getProcessRootTiles(){return this.getChildrenByNodeConstructor(AbstractTileChisel)}duplicateSelection(){const a=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.getSelectedTiles().map(a=>a.cloneAndOffset());yield a.getApp().renderApp();a.clearSelection();b.forEach(a=>a.selectTile())})}_loadTileClassCode(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=b.getApp(),d=c.getTileCache();if(!d[a]){const e=b.getProcessGrammarProgram().getNodeTypeDefinitionByName(a);d[a]=yield b.loadTileClassExternalDependenciesAndGetLoadingPromise(c,e)}return d[a]})}_getTileClassCodeLoadingPromise(a){return this.getApp().getTileCache()[a]}_loadTileCss(a,
b){(b=b[TileConstants.tileCssScript])&&a.getWillowProgram().getBodyStumpNode().insertChildNode(b.split(" ").map(a=>`link
 rel stylesheet
 media screen
 href ${a}`).join("\n"))}_getLongestLoadTime(){return this.getProcessTiles().map(a=>a.getTTL()).sort().reverse()[0]}getHierarchyForLayout(){return{node:this,children:this.getProcessTiles().map(a=>a.getHierarchyForLayout())}}isProcess(){return!0}_getLongestRenderTime(){return this.getProcessTiles().map(a=>a.getNewestTimeToRender()).sort().reverse()[0]}getProcessStats(){const a={tiles:this.getProcessTiles().length,treeLanguage:this.getProcessGrammarProgram().getExtensionName(),url:this.getTab().getFileName()};
a.timeToLoad=this._getLongestLoadTime();a.timeToRender=this._getLongestRenderTime();return a}loadTileClassExternalDependenciesAndGetLoadingPromise(a,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var d=b.getConstantsObject();c._loadTileCss(a,d);TileGrammar.getDefinitionTileConstructor(b);(d=d[TileConstants.tileScript])&&(yield a.getWillowProgram().appendScript(d));b._isDefinitionLoaded=!0})}}window.TileProcess=TileProcess;
class TabChisel extends AbstractChisel{getStumpCode(a){const b=this.getFullTabFilePath(),c=this.getFileName(),d=this.getParent().getParent().getContent()===b;return`a ${c}
 data-onClickCommand app mountTabByIndexCommand
 collapseNode
 value ${a}
 title ${b}
 class TabStub ${d?"mountedTab":""}
 span x
  collapseNode
  data-onClickCommand app closeTabByIndexCommand
  value ${a}
  class closeTabButton`}getWallType(){return this.getFullTabFilePath().endsWith(FlowConstants.flowFileExtension)?OhayoGrammarConstants.flex:OhayoGrammarConstants.wall}getDependencies(){return[this.getParent().getParent()]}getDeepLink(){const a={};a[TileConstants.deepLinks.filename]=this.getFileName();return this.getApp().getWillowProgram().toPrettyDeepLink(this.getTabProcess().childrenToString(),a)}getContextMenuCommandsStumpCode(){return`a Save File
 data-onClickCommand app saveTabAndNotifyCommand
a Rename File
 data-onClickCommand app showTabRenameFilePromptCommand
a Move File
 data-onClickCommand app showTabMoveFilePromptCommand
a Clone File
 data-onClickCommand app cloneTabCommand
a Delete File
 data-onClickCommand app showDeleteFileConfirmDialogCommand
a Copy program as link
 data-onClickCommand app copyDeepLinkCommand
a Log process stats
 data-onClickCommand app printProcessStatsCommand
a Close all other files
 data-onClickCommand app closeAllTabsExceptFocusedTabCommand
a Save compiled '${this.getTabGrammarProgram().getTargetExtension()}' file
 tabindex -1
 data-onClickCommand app saveCompiledCommand`}getTabGrammarProgram(){return this.getTabProgram().getGrammarProgram()}autosaveAndRender(){const a=this.autosaveTab();this.getApp().renderApp();return a}autosaveAndReloadWith(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){b.getTabProcess().setChildren(a);yield b.autosaveTab();b.getTabWall().unmount();yield b._initProcessRenderAndRun(a);b.getApp().renderApp()})}_getPanel(){return this.getParent().getParent()}_initProcessRenderAndRun(a,
b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){c._cache_tabProgram=c.makeTabProgram(a);c._tileProcess=new TileProcess(a,void 0,c);b&&c._getPanel().setMountedTab(c);c.getApp().renderApp();yield c._tileProcess.run();return c})}reloadFromDisk(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=yield a.getApp().readFile(a.getFullTabFilePath());return a.autosaveAndReloadWith(b)})}_fetchTabInitProcessRenderAndRun(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=
yield b.getApp().readFile(b.getFullTabFilePath());b._setDiskVersion(c);b._getUndoStack().push(c);return yield b._initProcessRenderAndRun(c,a)})}autosaveTab(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.getTabProcess().childrenToString(),c=a._getTopUndoVersion();b!==c&&(a._recordChange(b),a.getApp().isAutoSaveEnabled()&&(yield a.forceSaveToFile(),a.addStumpCodeMessageToLog(`div Saved ${a.getFileName()}
 title Saved ${a.getFullTabFilePath()}`)))})}forceSaveToFile(){const a=this.getTabProcess().childrenToString();this._setDiskVersion(a);return this.getApp().writeFile(this.getFullTabFilePath(),a)}redo(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a._getUndoStack(),c=a._getRedoStack();if(c.length)return b.push(c.pop()),a._reloadFromUndoTop()})}hasUnsavedChanges(){return this.getTabProcess().childrenToString()!==this._getDiskVersion()}undo(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=
a._getUndoStack(),c=a._getRedoStack();if(1!==b.length)return c.push(b.pop()),a._reloadFromUndoTop()})}getFullTabFilePath(){return this.getWordsFrom(1).join(" ")}getFileName(){return Util.getFileName(this.getFullTabFilePath())}_getDiskVersion(){return this._diskVersion}_setDiskVersion(a){this._diskVersion=a;return this}_clearRedoStack(){const a=this._getRedoStack();a.splice(0,a.length)}_getUndoStack(){this._undoStack||(this._undoStack=[]);return this._undoStack}_getRedoStack(){this._redoStack||(this._redoStack=
[]);return this._redoStack}_getTopUndoVersion(){const a=this._getUndoStack();return a[a.length-1]}getProgramConstructorForTab(){return this.getApp().getProgramConstructorFromFileExtension(Util.getFileExtension(this.getFullTabFilePath()))}getTabProcess(){return this._tileProcess}getTabWall(){return this.getParent().getWall()}appendFromPaste(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=b.getTabProcess(),d=c.concat(a).filter(a=>a instanceof AbstractTileChisel);
b.addStumpCodeMessageToLog(`div Pasted ${d.length} nodes`);yield b.autosaveTab();c.clearSelection();b.getTabWall().unmount();yield c.run();b.getApp().renderApp();d.forEach(a=>a.selectTile())})}_reloadFromUndoTop(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.getTabWall().unmount();const b=a.getTabProcess();b.setChildren(a._getTopUndoVersion());yield b.run();a.getApp().renderApp()})}_recordChange(a){this._clearRedoStack();this._getUndoStack().push(a)}getTabProgram(){return this._cache_tabProgram}makeTabProgram(a){a=
void 0===a?this._getDiskVersion():a;return new (this.getProgramConstructorForTab())(a)}unlinkTab(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return a.getApp().unlinkFile(a.getFullTabFilePath())})}}window.TabChisel=TabChisel;class MiniMapTile extends AbstractChartTile{getHakon(){const a=this.getTheme();return`.MiniMapTile
 .miniMap
  background ${a.backgroundColor}
  width 120px
  height 90px
  margin 6px
  position relative
  overflow hidden
  box-sizing border-box
  display inline-block
  &:hover
   border 1px solid ${a.boxShadow}
  &:active
   border 2px solid ${a.boxShadow}
  .miniFooter
   font-size 12px
   position absolute
   bottom 0
   width 100%
   height 15px
   line-height 15px
   white-space nowrap
   text-align center
  .miniPreview
   position absolute
   width 100%
   height calc(100% - 15px)
   top 0
   overflow hidden
   div
    position absolute
    background ${a.linkColor}`}_getMiniStumpCode(a,b,c,d,e){d=void 0===d?120:d;e=void 0===e?75:e;a=new TileProcess(a,void 0,this.getTab());const f=a.getTileDimensionMap(d,e);d=a.getProcessTiles().filter(a=>a.isVisible()).map(a=>`div
 style ${f.get(a).getScaledCss(.1)}`).join("\n");return`a
 class miniMap
 ${c?"data-onClickCommand app openFullPathInNewTabAndFocusCommand":"noOp"}
 ${c?`value ${c}`:"noOp"}
 ${c?`href ${c}`:"noOp"}
 div
  class miniPreview${jtree.TreeNode.nest(d,2)}
 div ${b}
  class miniFooter`}getTileBodyStumpCode(){const a=this.getCardsWithRowDisplayLimit().map(a=>this._getMiniStumpCode(a.getCardOriginalValue(DiskConstants.bytes),a.getCardOriginalValue(DiskConstants.filename),a.getCardOriginalValue(DiskConstants.link))).join("\n");return`div
 class MiniMapTile${jtree.TreeNode.nest(a,1)}`}}window.MiniMapTile=MiniMapTile;const requireTree=a=>fs.readFileSync(a,"utf8");window.requireTree=requireTree;
class ChallengeTile extends AbstractBodyOnlyTile{getProgramTemplate(a){return{template:this._getChallengeNode(parseInt(a)).getNode("solution").childrenToString(),name:"challenge-"+a+"-solution.flow"}}_getChallengeNode(a){const b=new jtree.TreeNode(ChallengesTree);return b.nodeAt(a-1)||b.nodeAt(0)}getTileBodyStumpCode(){const a=parseInt(this.getWord(1)),b=this.getWord(2),c=this._getChallengeNode(a);var d=b===c.get("answer"),e=this.getTheme();e=b?d?e.successColor:e.errorColor:e.warningColor;d=void 0!==
b?d?"CORRECT!":"Wrong.":"";return`h3 Challenge #${a}
 style color:${e}
br
div ${c.format("Question: {question}")}
br
input
 placeholder Enter your answer here. All answers are a number.
 value ${void 0!==b?b:""}
 style width: 300px;
 name 2
 data-onChangeCommand chisel changeWordAndRenderCommand
span ${d}
 style color: ${e};
br
div
 a See a solution
  data-onClickCommand chisel createProgramFromTemplateCommand
  value ${a}`}}class ChallengeList extends SnippetTextGalleryTile{getGalleryNodes(){return new jtree.TreeNode(ChallengesTree)}getSnippetTemplate(a){return`challenge.play ${a}`}}window.ChallengeTile=ChallengeTile;window.ChallengeList=ChallengeList;
class TemplatesList extends TemplateGalleryTile{getGalleryNodes(){return new jtree.TreeNode(this._getTheTemplates().map(a=>({id:a.getWord(1).replace("templates/","").replace(FlowConstants.flowFileExtension,""),description:a.getNode("data").getChildren()[0].getWordsFrom(1).join(" ")})))}_getTheTemplates(){return new jtree.TreeNode(TemplatesStamp.trim())}getProgramTemplate(a){return{template:this._getTheTemplates().filter(b=>b.getContent()===`templates/${a}${FlowConstants.flowFileExtension}`)[0].getNode("data").childrenToString(),
name:a+FlowConstants.flowFileExtension}}}window.TemplatesList=TemplatesList;
const typed={fullPath:a=>{if(!a.startsWith("/"))throw Error(`File fullPath "${a}" does not begin with /.`);if(a.endsWith("/"))throw Error(`File fullPath "${a}" cannot end with /.`);if(a.includes("//"))throw Error(`File fullPath "${a}" cannot include //`);},folderPath:a=>{if(a.includes("//"))throw Error(`File folderPath "${a}" cannot include //`);if(!a.startsWith("/")||!a.endsWith("/"))throw Error(`Bad folder: '${a}'. Folder must start and end with /.`);},fullFolderPath:class{constructor(a,b){if(a.includes("//"))throw Error(`File fullFolderPath "${a}" cannot include //`);
if(!a.endsWith("/"))throw Error(`Bad fullFolderPath: '${a}'. Must end with /`);if(a.startsWith("/"))throw Error(`Bad fullFolderPath: '${a}'. Cannot start with /`);if(!a.includes("/"))throw Error(`Bad fullFolderPath: '${a}' must have a disk id and a folder path part. No / detected.`);this._path=a;this._app=b}getDiskId(){return this._path.slice(0).split("/")[0]}getFolderPath(){return this._path.replace(/^[^\/]+\//,"/")}getFiles(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return a._app.getDisks()[a.getDiskId()].readFiles(a.getFolderPath())})}},
fullDiskFilePath:class{constructor(a){if(a.includes("//"))throw Error(`File fullDiskFilePath "${a}" cannot include //`);if(a.endsWith("/"))throw Error(`Bad fullDiskFilePath: '${a}'. Cannot end with /`);if(a.startsWith("/"))throw Error(`Bad fullDiskFilePath: '${a}'. Cannot start with /`);if(!a.includes("/"))throw Error(`Bad fullDiskFilePath: '${a}' must have a disk id and a path part. No / detected.`);this._path=a}getDiskId(){return this._path.slice(0).split("/")[0]}getFilePath(){return this._path.replace(/^[^\/]+\//,
"/")}getWithoutFilename(){return this._path.replace(/\/[^\/]+$/,"/")}getFilename(){return this._path.split("/").pop()}}};
typed.fileHandle=class{constructor(a,b){this._fullDiskFilePath=new typed.fullDiskFilePath(a);this._app=b}_getDisk(){return this._app.getDisks()[this._fullDiskFilePath.getDiskId()]}unlinkFile(){return this._getDisk().unlinkFile(this._fullDiskFilePath.getFilePath())}readFile(){return this._getDisk().readFile(this._fullDiskFilePath.getFilePath())}writeFile(a){return this._getDisk().writeFile(this._fullDiskFilePath.getFilePath(),a)}};window.typed=typed;
class AppCommander extends AbstractCommander{playFirstVisitCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield a.openOhayoProgramCommand("ohayo"+FlowConstants.flowFileExtension)})}moveTilesFromShadowsCommand(){return this.app.getAppWall().getCommander().moveTilesFromShadowsCommand()}toggleLayoutCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.app.getAppWall().getCommander();return b.toggleLayoutCommand&&b.toggleLayoutCommand()})}togglePerfModeCommand(){const a=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.app.getPerfSettings();Object.keys(b).forEach(a=>{b[a]=!b[a]});a.app.toggleGutter();a.app.toggleGutter();return a.renderApp()})}typeCheckProgramCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.mountedTab.getTabProgram().getProgramErrorMessages();a.mountedTab.addStumpCodeMessageToLog(`strong ${b.length} Errors
div - ${b.join("\ndiv - ")}`);a.renderApp()})}printProcessStatsCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=(new jtree.TreeNode(a.mountedProcess.getProcessStats())).toString();a.mountedTab.logMessageText(b);a.renderApp()})}createProgramFromFileCommand(a,b){var c=Util.getFileExtension(a);if(this.app.getGrammars()[c])return this.app._createAndOpen(b,a);b=(c=FlowTemplates[c])?c(a,b,this.app):`html.h1 No visualization templates for ${a}`;return this.app._createAndOpen(b,
a+FlowConstants.flowFileExtension)}toggleShadowByIdCommand(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){b.willowProgram.getBodyStumpNode().findStumpNodeByChild("id "+a).getShadow().toggleShadow()})}fillShadowInputOrTextAreaByClassNameCommand(a,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){c.willowProgram.getBodyStumpNode().findStumpNodesWithClass(a).forEach(a=>{a.getShadow().setInputOrTextAreaValue(b)})})}openDeleteAllTabsPromptCommand(){const a=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.focusedPanel.getTabs();return(yield a.willowProgram.confirmThen(`Are you sure you want to delete ${b.length} open files?`))?Promise.all(b.map(a=>a.unlinkTab())):!1})}toggleAndRenderNewDropDownCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.app.getNode(OhayoGrammarConstants.menu).toggleAndRender(OhayoGrammarConstants.newDropDownMenu)})}renderApp(){this.app.renderApp()}closeAllDropDownMenusCommand(){const a=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.app.getTopDownArray().forEach(a=>{a.getLine().includes(OhayoGrammarConstants.DropDownMenuSubstring)&&a.unmountAndDestroy()})})}appendTileAndSelectCommand(a,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const d=c.app._appendTiles(a,b);d.forEach(a=>a.runTile());c.mountedProcess.clearSelection();yield c.mountedProcess.getTab().autosaveAndRender();d.forEach(a=>a.selectTile())})}insertPickerTileCommand(){return this.app.getAppWall().getCommander().insertPickerTileCommand()}insertAdjacentTileCommand(){return this.app.getAppWall().getCommander().insertAdjacentTileCommand()}appendTileCommand(a,
b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield Promise.all(c.app._appendTiles(a,b).map(a=>a.runTile()));return c.mountedTab.autosaveAndRender()})}deleteAllCardsInTargetTileCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.app.getTargetNode().getParentOrDummyBinder(),c=a.app;yield Promise.all(b.getCards().map(a=>a.destroyCard(c)));a.renderApp()})}openOhayoProgramCommand(a){return Promise.all(a.split(" ").map(a=>this.app._openOhayoProgram(a)))}deleteFileCommand(a){return this.app.unlinkFile(a)}moveFileCommand(a,
b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return c.app.moveFile(a,b)})}createNewBlankProgramCommand(a){a=void 0===a?"untitled"+FlowConstants.flowFileExtension:a;const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=yield b.app._createAndOpen("",a);c.addStumpCodeMessageToLog(`div Created '${c.getFullTabFilePath()}'`)})}copyDeepLinkCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.app.getWillowProgram().copyTextToClipboard(a.mountedTab.getDeepLink())})}createAndOpenNewProgramFromDeepLinkCommand(a){const b=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=new miuri(a),d=decodeURIComponent(c.query(TileConstants.deepLinks.filename));let e=decodeURIComponent(c.query(TileConstants.deepLinks.data));c.query(TileConstants.deepLinks.xi)&&(e=e.replace(new RegExp(c.query(TileConstants.deepLinks.xi),"g")," "));c.query(TileConstants.deepLinks.yi)&&(e=e.replace(new RegExp(c.query(TileConstants.deepLinks.yi),"g"),"\n"));yield b.app._createAndOpen(e,d);window.history.replaceState({},document.title,
location.pathname)})}openCreateNewProgramFromUrlDialogCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var b=yield a.willowProgram.promptThen("Enter the url to clone and edit","");b&&(b=yield a.willowProgram.httpGetUrl(b),b=yield a.app._createAndOpen(b.text,"untitled"+FlowConstants.flowFileExtension),b.addStumpCodeMessageToLog(`div Created '${b.getFullTabFilePath()}'`))})}openFolderPromptCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=
yield a.willowProgram.promptThen("Enter a folder path to open multiple files",a.app.getDefaultDisk().getPathBase());return b?a.openFolderCommand(b):void 0})}changeWorkingFolderPromptCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.app.getDefaultDisk().getPathBase(),c=yield a.willowProgram.promptThen("Enter a folder path",b);if(c&&b!==c)return a.changeWorkingFolderCommand(c)})}changeWorkingFolderCommand(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a=
a.replace(/\/$/,"")+"/";new typed.fullFolderPath(a);b.app.setWorkingFolder(a)})}openFullDiskFilePathPromptCommand(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=yield b.willowProgram.promptThen("Enter a full path to open",a||b.app.getDefaultDisk().getPathBase());if(c)return new typed.fullDiskFilePath(c),b.app.openFullPathInNewTabAndFocus(c)})}openFolderCommand(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=b.app;a=new typed.fullFolderPath(a,
c);const d=yield a.getFiles();return Promise.all(d.map(a=>c._openFullDiskFilePathInNewTab(a.getFileLink())))})}confirmAndResetAppStateCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){if(yield a.willowProgram.confirmThen("Are you sure you want to reset the Ohayo UI? Your files will not be lost."))a.app.resetAppState(),a.willowProgram.reload()})}openUrlInNewTabCommand(a){new typed.fullDiskFilePath(a);return this.app._openFullDiskFilePathInNewTab(a)}mountTabByIndexCommand(a){const b=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){b.focusedPanel.mountTabByIndex(a)})}closeTabByIndexCommand(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){b.focusedPanel.closeTabByIndex(a);b.renderApp()})}toggleAutoSaveCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.app,c=!b.isAutoSaveEnabled();c?b.removeValue(StorageKeys.autoSave):b.storeValue(StorageKeys.autoSave,"false");b.addStumpCodeMessageToLog(`div Autosave is ${c}`)})}saveCompiledCommand(){const a=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.mountedTab.getTabGrammarProgram().getTargetExtension(),c=Format.permalink(Util.removeFileExtension(a.mountedTab.getFileName()))+"."+b,d=a.mountedTab.compile(b);a.willowProgram.downloadFile(d,c,"text/"+b)})}executeProgramCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let b=yield a.mountedTab.getTabProgram().execute();"string"!==typeof b&&(b=b.join("\n"));a.mountedTab.logMessageText(lodash.escape(b));
a.renderApp()})}get focusedPanel(){return this.app.getFocusedPanel()}get willowProgram(){return this.app.getWillowProgram()}get app(){return this.getTarget()}get mountedProcess(){return this.app.getMountedProcess()}get mountedTab(){return this.app.getMountedTab()}toggleThemeCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.app._toggleTheme()})}openFullPathInNewTabAndFocusCommand(a){return this.app.openFullPathInNewTabAndFocus(a)}_showTabMoveFilePromptCommand(a,
b){b=void 0===b?!1:b;const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const d=c.mountedTab;var e=yield c.app.promptToMoveFile(d.getFullTabFilePath(),a,b);if(!e)return!1;e=yield c.app.openFullPathInNewTabAndFocus(e);c.focusedPanel.closeTab(d);c.renderApp();return e})}showTabMoveFilePromptCommand(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return b._showTabMoveFilePromptCommand(a)})}showTabRenameFilePromptCommand(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return b._showTabMoveFilePromptCommand(a,
!0)})}toggleOfflineModeCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.willowProgram.toggleOfflineMode()})}sleepCommand(a){a=void 0===a?1E3:a;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return new Promise(b=>setTimeout(b,a))})}toggleHelpCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.app.toggleAndRender(OhayoGrammarConstants.helpModal)})}closeMountedProgramCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.focusedPanel.closeTab(a.mountedTab);
a.renderApp()})}fetchAndReloadFocusedTabCommand(){return this.mountedTab.reloadFromDisk()}selectAllTilesCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.mountedProcess.selectAll()})}selectTilesByShadowClassCommand(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){b.app.addToCommandLog("app selectTilesByShadowClassCommand");b.mountedTab.getTabWall().selectTilesByShadowClass(a)})}clearSelectionCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.app.addToCommandLog("app clearSelectionCommand");
a.mountedProcess.clearSelection()})}deleteSelectionCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.mountedProcess.deleteSelection();yield a.mountedProcess.getTab().autosaveAndRender()})}duplicateSelectionCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.mountedProcess.duplicateSelection();yield a.mountedProcess.getTab().autosaveAndRender()})}showDeleteFileConfirmDialogCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=
a.mountedTab.getFileName();return(yield a.willowProgram.confirmThen(`Are you sure you want to delete ${b}?`))?a.deleteFocusedTabCommand():void 0})}deleteFocusedTabCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.mountedTab;yield b.unlinkTab();a.focusedPanel.closeTab(b);a.renderApp()})}mountPreviousTabCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.focusedPanel.mountPreviousTab()})}mountNextTabCommand(){const a=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.focusedPanel.mountNextTab()})}closeAllTabsCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.focusedPanel.closeAllTabs();a.renderApp()})}closeAllTabsExceptFocusedTabCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.focusedPanel.closeAllTabsExceptFocusedTab();a.renderApp()})}toggleFullScreenCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.willowProgram.toggleFullScreen()})}toggleFocusedModeCommand(){this.app.toggle(OhayoGrammarConstants.menu);
return this.toggleFullScreenCommand()}toggleGutterWidthCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.focusedPanel.getNode(OhayoGrammarConstants.gutter).toggleGutterWidth();a.app.makeAllDirty();a.renderApp()})}toggleGutterCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.app.toggleGutter();a.renderApp()})}selectNextTileCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.mountedProcess.selectNextTile()})}selectFirstTileCommand(){const a=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.mountedProcess.selectFirstTile()})}selectPreviousTileCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.mountedProcess.selectPreviousTile()})}createNewSourceCodeVisualizationProgramCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var b=a.mountedProcess.childrenToString();b=FlowCodeEditorTemplate(b,FlowConstants.flowFileExtension.substr(1));b=yield a.app._createAndOpen(b,
a.mountedTab.getFileName()+"-source-code-vis.flow");b.addStumpCodeMessageToLog(`div Created '${b.getFullTabFilePath()}'`)})}createMiniMapCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=yield a.app._createAndOpen(MiniTemplate,"myPrograms"+FlowConstants.flowFileExtension);b.addStumpCodeMessageToLog(`div Created '${b.getFullTabFilePath()}'`)})}clearTabMessagesCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield a.mountedTab.getCommander().clearMessageBufferCommand();
a.renderApp()})}undoFocusedProgramCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return a.mountedTab.undo()})}redoFocusedProgramCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return a.mountedTab.redo()})}closeModalCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a.app.closeModal()})}clearStoreCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return a.app.getStore().disabled?
void 0:a.app.getStore().clearAll()})}copySelectionCommand(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return b.mountedProcess?b.mountedProcess.copySelection(a):!0})}cutSelectionCommand(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){b.mountedProcess.cutSelection(a);yield b.mountedProcess.getTab().autosaveAndRender()})}echoCommand(...a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){b.app.addStumpCodeMessageToLog(`div ${a.join(" ")}`)})}saveTabAndNotifyCommand(){const a=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.mountedTab;yield b.forceSaveToFile();b.addStumpCodeMessageToLog(`div Saved ${b.getFileName()}
 title Saved ${b.getFullTabFilePath()}`);a.renderApp()})}cloneTabCommand(){return this.app._createAndOpen(this.mountedTab.getTabProcess().childrenToString(),this.mountedTab.getFileName())}pasteCommand(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){b.mountedTab?yield b.mountedTab.appendFromPaste(a):yield b.app._createProgramFromPaste(a)})}executeStumpNodeCommandByStumpNodeIdCommand(a,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield c.app._executeStumpNodeCommandByStumpNodeChild(a,
"id "+b)})}executeStumpNodeCommandByStumpNodeClassCommand(a,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield c.app._executeStumpNodeCommandByStumpNodeChild(a,"class "+b)})}executeStumpNodeCommandByStumpNodeStringCommand(a,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield c.app._executeStumpNodeCommandByStumpNodeString(a,b)})}executeCommandOnFirstSelectedTileCommand(a,b,c){const d=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return d.mountedProcess.getFirstSelectedTile().getCommander()[a](b,
c)})}executeCommandOnLastSelectedTileCommand(a,b,c){const d=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return d.mountedProcess.getLastSelectedTile().getCommander()[a](b,c)})}_runTileQualityCheckCommand(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var b=a.mountedProcess.getProcessGrammarProgram().getTopNodeTypeIds().join("\n")+`\n${TileConstants.layout} ${TileConstants.layouts.column}`,c=yield a.app._createAndOpen(b,"all-tiles"+FlowConstants.flowFileExtension);
b=c.getTabProcess().getProcessTiles().filter(a=>a.getTileQualityCheck).map(a=>a.getTileQualityCheck());c.addStumpCodeMessageToLog(`div Created '${c.getFullTabFilePath()}'`);c=new jtree.TreeNode("data.inline\n tables.basic Quality Check Results");c.getNode("data.inline").appendLineAndChildren("content",(new jtree.TreeNode(b)).toCsv());b=yield a.app._createAndOpen(c.toString(),"tiles-quality-check-results"+FlowConstants.flowFileExtension);b.addStumpCodeMessageToLog(`div Created '${b.getFullTabFilePath()}'`)})}_runSpeedTestCommand(){const a=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=a.app;var c=yield b.getDefaultDisk().readFiles(),d=Date.now();const e=a.focusedPanel;c=c.map(a=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){var c=a.getFileLink();c=yield b._openFullDiskFilePathInNewTab(c);const d=e.getMountedTab();e.setMountedTab(c);d&&e.closeTab(d);b.renderApp();return c.getTabProcess().getProcessStats()}));c=yield Promise.all(c);e.getMountedTab()&&a.closeMountedProgramCommand();c=new jtree.TreeNode(c);
d=Date.now()-d;d=`Program Load Times ${moment().format("MM/DD/YYYY")} version ${b.getVersion()}. Run time: ${d}`;return b._createAndOpen(SpeedTestTemplate(d,c.toCsv()),"program-load-times"+FlowConstants.flowFileExtension)})}}window.AppCommander=AppCommander;class AbstractDisk{constructor(a){this._app=a}getPathBase(){return this.getDisplayName()+this.getFolder()}getApp(){return this._app}getFolder(){return this._folder||"/"}setFolder(a){typed.folderPath(a);this._folder=a;return this}}
window.AbstractDisk=AbstractDisk;class AbstractFile extends jtree.TreeNode{getFileLink(){return this.getLine()}getFilename(){return(new typed.fullDiskFilePath(this.getLine())).getFilename()}toFileObject(){const a=this.childrenToString();return{filename:this.getFilename(),link:this.getFileLink(),size:a.length,bytes:a}}}window.AbstractFile=AbstractFile;class LocalStorageFile extends AbstractFile{}window.LocalStorageFile=LocalStorageFile;
class LocalStorageDisk extends AbstractDisk{readFiles(){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return a.readFilesSync()})}readFilesSync(){const a=this.getApp();return a.getStoreKeys().filter(a=>!StorageKeys.isKey(a)).filter(a=>a.startsWith("/")).map(b=>new LocalStorageFile(a.getFromStore(b),this.getDisplayName()+b))}getDisplayName(){return"localStorage"}unlinkFile(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){typed.fullPath(a);
b.getApp().removeValue(a)})}getAvailablePermalink(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=b.getApp();return b.getFolder()+Util.getAvailablePermalink(a,a=>void 0!==c.getFromStore(b.getFolder()+a))})}exists(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){typed.fullPath(a);return void 0!==b.getApp().getFromStore(a)})}writeFile(a,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){typed.fullPath(a);
c.getApp().storeValue(a,b)})}readFile(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){typed.fullPath(a);return b.getApp().getFromStore(a)})}}window.LocalStorageDisk=LocalStorageDisk;class ServerStorageFile extends AbstractFile{}window.ServerStorageFile=ServerStorageFile;
class ServerStorageDisk extends AbstractDisk{_getWillow(){return this.getApp().getWillowProgram()}_httpPostUrl(a,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield c._getWillow().httpPostUrl("/serverStorage."+a,b)).text})}getDisplayName(){return this._getWillow().getHost()}readFiles(a){a=void 0===a?this.getFolder():a;const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield b._getWillow().httpGetUrl("/serverStorage.list",{folder:a})).body.map(c=>
new ServerStorageFile(c.data,b.getDisplayName()+a+c.name))})}getAvailablePermalink(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=b.getFolder()+a;typed.fullPath(c);return yield b._httpPostUrl("getAvailablePermalink",{permalink:c})})}unlinkFile(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){typed.fullPath(a);return yield b._httpPostUrl("delete",{fullPath:a})})}writeFile(a,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){typed.fullPath(a);
try{return yield c._httpPostUrl("write",{fullPath:a,newVersion:b})}catch(d){throw console.error(d),Error("Save failed!");}})}exists(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){typed.fullPath(a);return"true"===(yield b._httpPostUrl("exists",{fullPath:a})).toString()})}readFile(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){typed.fullPath(a);return yield b._httpPostUrl("read",{fullPath:a})})}}window.ServerStorageDisk=ServerStorageDisk;
class AbstractWillowShadow{constructor(a){this._stumpNode=a}getShadowStumpNode(){return this._stumpNode}getShadowValue(){return this._val}removeShadow(){return this}setInputOrTextAreaValue(a){this._val=a;return this}getShadowParent(){return this.getShadowStumpNode().getParent().getShadow()}getPositionAndDimensions(a){a=void 0===a?1:a;const b=this.getShadowOffset(),c=this.getShadowParent().getShadowOffset();return{left:Math.floor((b.left-c.left)/a),top:Math.floor((b.top-c.top)/a),width:Math.floor(this.getShadowWidth()/
a),height:Math.floor(this.getShadowHeight()/a)}}shadowHasClass(a){return!1}getShadowAttr(a){return""}makeResizable(){return this}makeDraggable(){return this}makeSelectable(){return this}isShadowChecked(){return!1}getShadowHtml(){return""}getShadowOffset(){return{left:111,top:111}}getShadowWidth(){return 111}getShadowHeight(){return 111}isShadowResizable(){return!1}setShadowAttr(a,b){return this}isShadowDraggable(){return this.shadowHasClass("draggable")}toggleShadow(){}addClassToShadow(){}removeClassFromShadow(){}onShadowEvent(){return this}offShadowEvent(){return this}triggerShadowEvent(a){return this}getShadowPosition(){return{left:111,
top:111}}getShadowOuterHeight(){return 11}getShadowOuterWidth(){return 11}getShadowCss(){return""}setShadowCss(){return this}insertHtmlNode(){}getShadowElement(){}}window.AbstractWillowShadow=AbstractWillowShadow;const DataShadowEvents={onClickCommand:"data-onClickCommand",onBlurCommand:"data-onBlurCommand",onContextMenuCommand:"data-onContextMenuCommand",onChangeCommand:"data-onChangeCommand",onDblClickCommand:"data-onDblClickCommand"};window.DataShadowEvents=DataShadowEvents;
window.lodash||(window.lodash=_);window.console||(window.console={log:()=>{},time:()=>{},error:()=>{},debug:()=>{}});Object.values||(Object.values=a=>Object.keys(a).map(b=>a[b]));let _shadowUpdateNumber=0;
class WillowBrowserShadow extends AbstractWillowShadow{_getJQElement(){this._cachedEl||(this._cachedEl=jQuery(`[${Stump.Constants.uidAttribute}="${this.getShadowStumpNode()._getUid()}"]`));return this._cachedEl}getShadowElement(){return this._getJQElement()[0]}getShadowPosition(){return this._getJQElement().position()}shadowHasClass(a){return this._getJQElement().hasClass(a)}getShadowHtml(){return this._getJQElement().html()}getShadowValue(){return this.getShadowStumpNode().isInputType()?this._getJQElement().val():
this._getJQElement().val()||this.getShadowValueFromAttr()}getShadowValueFromAttr(){return this._getJQElement().attr(Stump.Constants.value)}getShadowOuterHeight(){return this._getJQElement().outerHeight()}getShadowOuterWidth(){return this._getJQElement().outerWidth()}isShadowChecked(){return this._getJQElement().is(Stump.Constants.checkedSelector)}getShadowWidth(){return this._getJQElement().width()}getShadowHeight(){return this._getJQElement().height()}getShadowOffset(){return this._getJQElement().offset()}getShadowAttr(a){return this._getJQElement().attr(a)}_logMessage(a){return!0}getShadowCss(a){return this._getJQElement().css(a)}isShadowResizable(){return 0<
this._getJQElement().find(".ui-resizable-handle").length}triggerShadowEvent(a){this._getJQElement().trigger(a);this._logMessage("trigger");return this}insertHtmlNode(a,b){const c=jQuery(a.toHtmlWithSuids());c.data("stumpNode",a);a=this._getJQElement();void 0===b?a.append(c):0===b?a.prepend(c):jQuery(a.children().get(b-1)).after(c);this._logMessage("insert")}addClassToShadow(a){this._getJQElement().addClass(a);this._logMessage("addClass");return this}removeClassFromShadow(a){this._getJQElement().removeClass(a);
this._logMessage("removeClass");return this}onShadowEvent(a,b,c){this._getJQElement().on(a,b,c);this._logMessage("bind on");return this}offShadowEvent(a,b){this._getJQElement().off(a,b);this._logMessage("bind off");return this}toggleShadow(){this._getJQElement().toggle();this._logMessage("toggle");return this}makeResizable(a){this._getJQElement().resizable(a);this._logMessage("resizable");return this}removeShadow(){this._getJQElement().remove();this._logMessage("remove");return this}setInputOrTextAreaValue(a){this._getJQElement().val(a);
this._logMessage("val");return this}setShadowAttr(a,b){this._getJQElement().attr(a,b);this._logMessage("attr");return this}makeDraggable(a){this._logMessage("draggable");this._getJQElement().draggable(a);return this}setShadowCss(a){this._getJQElement().css(a);this._logMessage("css");return this}makeSelectable(a){this._getJQElement().selectable(a);this._logMessage("selectable");return this}}window.WillowBrowserShadow=WillowBrowserShadow;
class WillowHTTPResponse{constructor(a){this._mimeType=(this._superAgentResponse=a)&&a.type;this._fromCache=!1;this._cacheTime=Date.now();this._cacheType="inBrowserMemory"}get cacheTime(){return this._cacheTime}get cacheType(){return this._cacheType}get body(){return this._superAgentResponse&&this._superAgentResponse.body}get text(){void 0===this._text&&(this._text=this._superAgentResponse&&this._superAgentResponse.text?this._superAgentResponse.text:this.body?JSON.stringify(this.body,null,2):"");
return this._text}get asJson(){return this.body?this.body:JSON.parse(this.text)}get fromCache(){return this._fromCache}setFromCache(a){this._fromCache=a;return this}getParsedDataOrText(){return"text/csv"===this._mimeType?this.text:this.body||this.text}}class WillowHTTPProxyCacheResponse extends WillowHTTPResponse{constructor(a){super();this._proxyServerResponse=a;this._cacheType=a.body.cacheType;this._cacheTime=a.body.cacheTime;this._text=a.body.text}}window.WillowHTTPResponse=WillowHTTPResponse;
window.WillowHTTPProxyCacheResponse=WillowHTTPProxyCacheResponse;class WillowShadow extends AbstractWillowShadow{}window.WillowShadow=WillowShadow;class WillowStore{constructor(){this._values={}}get(a){return this._values[a]}set(a,b){this._values[a]=b;return this}remove(a){delete this._values[a]}each(a){Object.keys(this._values).forEach(b=>{a(this._values[b],b)})}clearAll(){this._values={}}}class WillowMousetrap{constructor(){this.prototype={}}bind(){}}class AbstractWillowProgram extends Stump.Program{constructor(a){super(`${Stump.Constants.tags.html}
 ${Stump.Constants.tags.head}
 ${Stump.Constants.tags.body}`);this._htmlStumpNode=this.nodeAt(0);this._headStumpNode=this.nodeAt(0).nodeAt(0);this._bodyStumpNode=this.nodeAt(0).nodeAt(1);this._offlineMode=!1;this.addSuidsToHtmlHeadAndBodyShadows();this._baseUrl=a.replace(/\/$/,"");a=new miuri(a);this.location={};this.location.port=a.port();this.location.protocol=a.protocol();this.location.hostname=a.hostname();this.location.host=a.host();this._httpGetResponseCache={}}getUrlWithoutPath(){return this.location.protocol+"://"+this.location.hostname+
this._getPort()}_getPort(){return this.location.port?":"+this.location.port:""}queryObjectToQueryString(a){return""}toPrettyDeepLink(a,b){b=Object.assign({},b);a.includes("~")||a.includes("_")?b.data=encodeURIComponent(a):(b.yi="~",b.xi="_",b.data=encodeURIComponent(a.replace(/ /g,"_").replace(/\n/g,"~")));return this.getBaseUrl()+"?"+this.queryObjectToQueryString(b)}getHost(){return this.location.host}reload(){}toggleOfflineMode(){this._offlineMode=!this._offlineMode}addSuidsToHtmlHeadAndBodyShadows(){}getShadowClass(){return WillowShadow}getMockMouseEvent(){return{clientX:0,
clientY:0,offsetX:0,offsetY:0}}toggleFullScreen(){}getMousetrap(){this._mousetrap||(this._mousetrap=new WillowMousetrap);return this._mousetrap}_getFocusedShadow(){return this._focusedShadow||this.getBodyStumpNode().getShadow()}getHeadStumpNode(){return this._headStumpNode}getBodyStumpNode(){return this._bodyStumpNode}getHtmlStumpNode(){return this._htmlStumpNode}getStore(){this._store||(this._store=new WillowStore);return this._store}someInputHasFocus(){var a=this._getFocusedShadow();return a?(a=
a.getShadowStumpNode())&&a.isInputType():!1}copyTextToClipboard(){}setCopyData(a,b){}getBaseUrl(){return this._baseUrl}_makeRelativeUrlAbsolute(a){return a.startsWith("http://")||a.startsWith("https://")?a:this.getUrlWithoutPath()+a}httpGetUrl(a,b,c){c=void 0===c?WillowHTTPResponse:c;const d=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){if(d._offlineMode)return new WillowHTTPResponse;const e=yield superagent.get(d._makeRelativeUrlAbsolute(a)).query(b).set(d._headers||{});return new c(e)})}_getFromResponseCache(a){(a=
this._httpGetResponseCache[a])&&a.setFromCache(!0);return a}_setInResponseCache(a,b){this._httpGetResponseCache[a]=b;return this}httpGetUrlFromCache(a,b,c){const d=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const e=a+JSON.stringify(b);var f=d._getFromResponseCache(e);f||(f=yield d.httpGetUrl(a,b,c),d._setInResponseCache(e,f));return f})}httpGetUrlFromProxyCache(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){if(!b.isDesktopVersion())return b.httpGetUrlFromCache(a);
const c={};c.url=a;c.cacheOnServer="true";return yield b.httpGetUrlFromCache("/proxy",c,WillowHTTPProxyCacheResponse)})}httpPostUrl(a,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){if(c._offlineMode)return new WillowHTTPResponse;const d=yield superagent.post(c._makeRelativeUrlAbsolute(a)).set(c._headers||{}).send(b);return new WillowHTTPResponse(d)})}encodeURIComponent(a){return encodeURIComponent(a)}downloadFile(a,b,c){}appendScript(a){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){})}getWindowTitle(){const a=
this.getTopDownArray().find(a=>a.getFirstWord()===Stump.Constants.titleTag);return a?a.getContent():""}setWindowTitle(a){this.getTopDownArray().find(a=>a.getFirstWord()===Stump.Constants.tags.head).touchNode(Stump.Constants.titleTag).setContent(a);return this}_getHostname(){return this.location.hostname||""}openUrl(a){}getPageHtml(){return this.getHtmlStumpNode().toHtmlWithSuids()}getStumpNodeFromElement(a){}setPasteHandler(a){return this}setErrorHandler(a){return this}setCopyHandler(a){return this}setCutHandler(a){return this}setResizeEndHandler(a){return this}confirmThen(a){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return!0})}promptThen(a,
b){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return b})}isDesktopVersion(){return"localhost"===this._getHostname()}setLoadedDroppedFileHandler(a,b){}getWindowSize(){return{width:1111,height:1111}}getDocumentSize(){return this.getWindowSize()}isExternalLink(a){if(a&&"/"===a.substr(0,1)||!a.includes("//"))return!1;const b=this._getHostname();a=new miuri(a);return a.hostname()&&b!==a.hostname()}forceRepaint(){}blurFocusedInput(){}}window.AbstractWillowProgram=AbstractWillowProgram;
class WillowProgram extends AbstractWillowProgram{constructor(a){super(a);this._offlineMode=!0}}window.WillowProgram=WillowProgram;
const WillowShadowEvents={click:"click",change:"change",mouseover:"mouseover",mouseout:"mouseout",mousedown:"mousedown",contextmenu:"contextmenu",keypress:"keypress",keyup:"keyup",focus:"focus",mousemove:"mousemove",dblclick:"dblclick",submit:"submit",blur:"blur",paste:"paste",copy:"copy",resize:"resize",cut:"cut",drop:"drop",dragover:"dragover",dragenter:"dragenter",dragleave:"dragleave",ready:"ready"};window.WillowShadowEvents=WillowShadowEvents;
class AbstractDropDownMenuChisel extends AbstractChisel{getHakon(){const a=this.getTheme();return`
.subdued
 color ${a.midGray}

.dropdownMenu
 min-width 200px
 position absolute
 top 0
 left 0
 z-index 100
 padding 7px 0
 background ${a.contextMenuBackground}
 border 1px solid ${a.borderColor}
 box-shadow 0 1px 3px 0 ${a.boxShadow}
 .message
  line-height 30px
  padding 0 10px
 a
  color ${a.foregroundColor}
  display block
  line-height 30px
  padding 0 10px
  &:hover
   background ${a.hoverBackground}
   color ${a.white}`}chiselDidMount(){const a=this.getApp(),b=a.getWillowProgram().getBodyStumpNode().getShadow(),c=function(){b.offShadowEvent(WillowShadowEvents.click,c);a.getCommander().closeAllDropDownMenusCommand()};setTimeout(()=>b.onShadowEvent(WillowShadowEvents.click,c),100)}getStumpCode(){const a=this.getAnchorId();return`div
 style top: 30px; left: ${this.getParent().getStumpNode().findStumpNodeByChild("id "+a).getShadow().getShadowPosition().left}px;
 class dropdownMenu${jtree.TreeNode.nest(this.getDropDownStumpCode(),1)}`}}window.AbstractDropDownMenuChisel=AbstractDropDownMenuChisel;
class NewDropDownMenuChisel extends AbstractDropDownMenuChisel{getDropDownStumpCode(){return this.getApp().getMountedTab()?"a New File\n data-onClickCommand app createNewBlankProgramCommand\n value untitled.flow\na New From Url\n data-onClickCommand app openCreateNewProgramFromUrlDialogCommand\ndiv\n class divider\na Clone File\n data-onClickCommand app cloneTabCommand":"a New File\n data-onClickCommand app createNewBlankProgramCommand\n value untitled.flow\na New From Url\n data-onClickCommand app openCreateNewProgramFromUrlDialogCommand"}getAnchorId(){return"newToggle"}}
window.NewDropDownMenuChisel=NewDropDownMenuChisel;class MenuChisel extends AbstractChisel{getFirstWordMap(){return{newDropDownMenu:NewDropDownMenuChisel}}getDependencies(){return[{getMTime:()=>this.getParent().getWindowSizeMTime()}]}getHakon(){const a=this.getTheme();return`.MenuChisel
 ${a.disableTextSelect(1)}
 font-size 14px
 padding-left 5px
 box-sizing border-box
 right 0
 left 0
 position relative
 height 30px
 z-index 92
 white-space nowrap
 background ${a.menuBackground}
 color ${a.darkBlack}
 display flex
 a
  padding-right 5px
  line-height 30px
  display inline-block
  color ${a.menuChiselColor}`}getStumpCode(){return`div
 class MenuChisel ${this.constructor.name}
 a ohayo
  data-onClickCommand app toggleHelpCommand
 a New \u25be
  id newToggle
  data-onClickCommand app toggleAndRenderNewDropDownCommand`}}window.MenuChisel=MenuChisel;class WallChisel extends AbstractChisel{getHakon(){const a=this.getTheme();return`.WallChisel
 background ${a.wallBackground}
 display block
 position relative
 height 100%
 overflow scroll

.ui-selectable-helper
 position absolute
 z-index 100
 border-radius 2px
 background ${a.selectionBackground}

.ui-selecting,.${TileConstants.selectedClass},.${TileConstants.staySelectedClass}
 outline 3px solid ${a.selectedOutline}`}getPickerBlock(a){}getCommander(){return new WallCommander(this)}getDependencies(){return[{getMTime:()=>this.getApp().getWindowSizeMTime()}]}selectTilesByShadowClass(a){a=void 0===a?TileConstants.selectedClass:a;this.getApp().getWillowProgram().findStumpNodesByShadowClass(a).forEach(a=>a.getStumpNodeChisel().selectTile())}getWallViewPortDimensions(){const a=this.getApp().getBodyShadowDimensions();return{width:a.width-this.getParent().getGutterWidth(),height:a.height}}chiselDidUpdate(){this._makeSelectable()}_getChildChisels(){const a=
this.getApp().getMountedProcess();return a?a.getProcessTiles():[]}chiselDidMount(){this.chiselDidUpdate()}getStumpCode(){return"div\n class WallChisel\n data-onContextMenuCommand chisel openWallContextMenuCommand\n data-onDblClickCommand app insertPickerTileCommand"}_getSelectedTileStumpNodes(){return this.getApp().getWillowProgram().getBodyStumpNode().findStumpNodesWithClass(TileConstants.selectedClass)}_makeSelectable(){const a=this.getApp(),b=this.getStumpNode(),c=a.getWillowProgram(),d="."+TileConstants.tileChisel,
e=b.getShadow();e.onShadowEvent(WillowShadowEvents.click,function(a){a.target===e.getShadowElement()&&c.blurFocusedInput()});if(a.getPerfSettings().bodyDragSelect){let b=!1;e.onShadowEvent(WillowShadowEvents.mouseover,function(f){if(b)return!0;b=!0;e.makeSelectable({cancel:d,distance:10,filter:d,start:function(b){b.shiftKey?c.getBodyStumpNode().findStumpNodesWithClass(TileConstants.selectedClass).forEach(a=>{a.addClassToStumpNode(TileConstants.staySelectedClass)}):a.getCommander().clearSelectionCommand()},
stop:function(){c.getBodyStumpNode().findStumpNodesWithClass(TileConstants.staySelectedClass).forEach(a=>{a.removeClassFromStumpNode(TileConstants.staySelectedClass);a.addClassToStumpNode(TileConstants.selectedClass)});a.getCommander().selectTilesByShadowClassCommand();return!0}})})}}}window.WallChisel=WallChisel;
class WallFlexChisel extends WallChisel{_resizeTiles(a){const b=this._getSelectedTileStumpNodes();1<b.length?b.forEach(a=>this._resizeStumpNode(a)):this._resizeStumpNode(a);this.getCommander().setLayoutToCustomCommand()}getCommander(){return new WallFlexCommander(this)}_resizeStumpNode(a){var b=a.getStumpNodeChisel();a=a.getShadow();const c=this.getGridSize();b=b.getCommander();a=a.getPositionAndDimensions(c);b.changeTileSettingCommand(TileConstants.width,a.width);b.changeTileSettingCommand(TileConstants.height,
a.height)}getPickerBlock(a){return`${TileConstants.left} ${Math.floor((a.offsetX-0)/20)}
${TileConstants.top} ${Math.floor(a.offsetY/20)}`}_moveStumpNode(a){const b=a.getStumpNodeChisel();a=a.getShadow();const c=this.getGridSize();a=a.getPositionAndDimensions(c);b.getCommander().changeTileSettingCommand(TileConstants.left,a.left);b.getCommander().changeTileSettingCommand(TileConstants.top,a.top)}getGridSize(){return 20}chiselDidMount(){this._makeTilesMoveableAndResizableAndEditable();super.chiselDidMount()}_tileMouseOverHandler(a){const b=a.getShadow();b.isShadowResizable()||this._makeShadowResizable(b);
b.isShadowDraggable()||this._makeGroupDraggable(a)}_makeShadowResizable(a){const b=this.getGridSize(),c=this,d=this.getApp().getWillowProgram();a.makeResizable({handles:"se",grid:b,resize:a=>{a.stopPropagation();a.preventDefault();return!1},stop:a=>c._resizeTiles(d.getStumpNodeFromElement(a.target))})}_makeTilesMoveableAndResizableAndEditable(){const a=this.getApp(),b=this;this.getStumpNode().getShadow().onShadowEvent(WillowShadowEvents.mouseover,"."+TileConstants.tileChisel,function(){const c=a.getWillowProgram().getStumpNodeFromElement(this);
b._tileMouseOverHandler(c)})}_updateSelectedOnMove(a,b){this._getSelectedTileStumpNodes().filter(b=>b!==a).forEach(a=>{var c=parseFloat(a.getStumpNodeCss("top")),e=parseFloat(a.getStumpNodeCss("left"));a.setStumpNodeCss({transform:"",top:c+b.top+"px",left:e+b.left+"px"})})}_getElementChangeInPixels(a,b){return{left:a.offset.left-b.left,top:a.offset.top-b.top}}_makeGroupDraggable(a){const b=a.getShadow();let c;const d=this,e=this.getApp();var f=this.getGridSize();f={stop:function(f,k){b.removeClassFromShadow("noTransition");
b.setShadowAttr("data-translate","undefined undefined");f=d._getElementChangeInPixels(k,c);d._updateSelectedOnMove(a,f);c=k;e.getCommander().moveTilesFromShadowsCommand()},grid:[f,f],handle:".TileGrabber",drag:function(e,f){if(b.shadowHasClass(TileConstants.selectedClass)){var g=d._getElementChangeInPixels(f,c);d._getSelectedTileStumpNodes().filter(b=>b!==a).forEach(a=>a.setStumpNodeCss({transform:`translate(${g.left}px, ${g.top}px)`}))}},start:function(a,d){c=d.offset;b.addClassToShadow("noTransition");
if(a=b.getShadowAttr("data-translate"))parseInt(a.split(" ")[0]),parseInt(a.split(" ")[1])}};b.addClassToShadow("draggable").makeDraggable(f)}}window.WallFlexChisel=WallFlexChisel;
class TabsChisel extends AbstractChisel{getFirstWordMap(){return{tab:TabChisel,wall:WallChisel,flex:WallFlexChisel}}removeWall(){const a=this.getWall();a&&a.unmountAndDestroy()}getOpenTabs(){return this.getChildrenByNodeConstructor(TabChisel)}getWall(){return this.getNode(OhayoGrammarConstants.wall)||this.getNode(OhayoGrammarConstants.flex)}addWall(a){a=void 0===a?OhayoGrammarConstants.wall:a;this.removeWall();return this.appendLine(a)}addTab(a){new typed.fullDiskFilePath(a);a=`tab ${a}`;return this.getWall()?
this.insertLine(a,-1):this.appendLine(a)}getGutterWidth(){return this.getParent().getGutterWidth()}getHakon(){const a=this.getTheme(),b=this.getGutterWidth();return`.TabsChisel
 left ${b}px
 width calc(100% - ${b}px)
 height calc(100% - 30px)
 position absolute
.TabStub
 background ${a.tabBackground}
 height 30px
 display inline-block
 box-sizing border-box
 position relative
 font-size 14px
 padding 0 20px
 color ${a.foregroundColor}
 line-height 30px
 border-right 1px solid ${a.borderColor}
 border-bottom 1px solid ${a.borderColor}
 &:hover
  background ${a.slightlyDarkerBackground}
 &:active
  background ${a.activeTabColor}
 span
  position absolute
  top 10px
  right 5px
  display block
  font-size 12px
  line-height 10px
  text-align center
  opacity .25
  &:hover
   opacity 1
 &.mountedTab
  background ${a.activeTabColor}
  border-bottom 0`}}window.TabsChisel=TabsChisel;class PanelChisel extends AbstractChisel{getFirstWordMap(a){return{tabs:TabsChisel,gutter:GutterChisel}}getHakon(){const a=this.getParent().getMenuChisel()?"30":"0";this.getTheme();return`.PanelChisel
 left 0
 position relative
 right 0
 bottom 0
 height calc(100% - ${a}px)`}getGutterWidth(){const a=this.getChildrenByNodeConstructor(GutterChisel)[0];return a?a.getGutterWidth():0}mountTabByIndex(a){this.setMountedTab(this.getTabs()[a]);this.getApp().renderApp();return this}getMountedTab(){return this._getMountedTab()}_getMountedTab(){return this._focusedTab}getOpenTabByFullFilePath(a){return this.getTabs().find(b=>b.getFullTabFilePath()===a)}setMountedTab(a){const b=this._getMountedTab();if(b===a)return this;b&&this._getTabsNode().removeWall();
this._focusedTab=a;this.setContent(a.getFullTabFilePath());a=a.getWallType();this._getTabsNode().addWall(a);this._updateLocationForRestoreOnRefresh();return this}_getTabsNode(){return this.getNode("tabs")}getAlreadyOpenTabOrOpenFullFilePathInNewTab(a,b){b=void 0===b?!1:b;const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){new typed.fullDiskFilePath(a);var d=c.getOpenTabByFullFilePath(a);if(d)return b&&(c.setMountedTab(d),c.getApp().renderApp()),d;d=c._getTabsNode().addTab(a);
yield d._fetchTabInitProcessRenderAndRun(b);c.getApp().renderApp();return d})}closeTabByIndex(a){return this.closeTab(this.getTabs()[a])}closeTab(a){if(a.isMounted()){const b=a.getNextOrPrevious(this.getTabs());this._getTabsNode().removeWall();a.unmountAndDestroy();delete this._focusedTab;b?this.setMountedTab(b):this.setContent()}else a.destroy();this._updateLocationForRestoreOnRefresh()}_updateLocationForRestoreOnRefresh(){this.getApp().saveAppState()}closeAllTabs(){this._getTabsNode().getOpenTabs().forEach(a=>
{this.closeTab(a)})}closeAllTabsExceptFocusedTab(){const a=this.getMountedTab();this._getTabsNode().getOpenTabs().forEach(b=>{b!==a&&this.closeTab(b)})}mountPreviousTab(){const a=this.getTabs();var b=this._getMountedTab();if(2>a.length||!b)return this;b=a.indexOf(b);return this.mountTabByIndex(0===b?a.length-1:b-1)}mountNextTab(){const a=this.getTabs();var b=this._getMountedTab();if(2>a.length||!b)return this;b=a.indexOf(b);return this.mountTabByIndex(b===a.length-1?0:b+1)}getTabs(){return this._getTabsNode().getOpenTabs()}}
window.PanelChisel=PanelChisel;class AbstractContextMenuChisel extends AbstractChisel{getHakon(){const a=this.getTheme();return`.AbstractContextMenuChisel
 position fixed
 overflow scroll
 max-height 100%
 z-index 221
 background ${a.contextMenuBackground}
 border 1px solid ${a.borderColor}
 box-shadow 0 1px 3px 0 ${a.boxShadow}
 font-size 14px
 a
  display block
  padding 3px
  font-size 14px
  text-decoration none
  color ${a.darkBlack}
  &:hover
   color ${a.white}
   background ${a.hoverBackground}`}getStumpCode(){return`div
 class AbstractContextMenuChisel ${this.constructor.name}${jtree.TreeNode.nest(this.getContextMenuBodyStumpCode(),1)}`}chiselDidMount(){const a=this.getStumpNode(),b=this.getApp();var c=b.getWillowProgram();const d=c.getBodyStumpNode().getShadow(),e=function(){d.offShadowEvent(WillowShadowEvents.click,e);b.closeAllContextMenus()};setTimeout(()=>d.onShadowEvent(WillowShadowEvents.click,e),100);const f=b.getMouseEvent();c=c.getWindowSize();a.setStumpNodeCss(this._getContextMenuPosition(c.width,c.height,
f.clientX,f.clientY,a.getShadow()))}_getContextMenuPosition(a,b,c,d,e){let f=c;const g=e.getShadowOuterWidth();b=e.getShadowOuterHeight()+d-b;0<b&&(d-=b);0<g+f-a&&(f=c-g-5);0>d&&(d=0);return{left:f,top:d}}}window.AbstractContextMenuChisel=AbstractContextMenuChisel;class TabContextMenuChisel extends AbstractContextMenuChisel{getContextMenuBodyStumpCode(){return this.getApp().getMountedTab().getContextMenuCommandsStumpCode()}}window.TabContextMenuChisel=TabContextMenuChisel;class TileContextMenuChisel extends AbstractContextMenuChisel{getContextMenuBodyStumpCode(){return`a Reload
 data-onClickCommand app fetchAndReloadFocusedTabCommand
a Copy tile with inputs
 tabindex -1
 data-onClickCommand context copyTileCommand
a Copy data as tree
 data-onClickCommand context copyDataAsTreeCommand
a Copy data as javascript
 data-onClickCommand context copyDataAsJavascriptCommand
a Copy data as tsv
 data-onClickCommand context copyDataCommand
 value \t
a Copy data as csv
 data-onClickCommand context copyDataCommand
 value ,
a Export data to csv file
 data-onClickCommand context exportTileDataCommand
a Export data to tree file
 data-onClickCommand context exportTileDataCommand
 value tree
${this.getApp().getTargetNode().getContextMenuStumpCode()}`}}window.TileContextMenuChisel=TileContextMenuChisel;
class WillowBrowserProgram extends AbstractWillowProgram{findStumpNodesByShadowClass(a){const b=[],c=this;jQuery("."+a).each(function(){b.push(c.getStumpNodeFromElement(this))});return b}queryObjectToQueryString(a){return jQuery.param(a)}addSuidsToHtmlHeadAndBodyShadows(){jQuery(Stump.Constants.tags.html).attr(Stump.Constants.uidAttribute,this.getHtmlStumpNode()._getUid());jQuery(Stump.Constants.tags.head).attr(Stump.Constants.uidAttribute,this.getHeadStumpNode()._getUid());jQuery(Stump.Constants.tags.body).attr(Stump.Constants.uidAttribute,
this.getBodyStumpNode()._getUid())}getShadowClass(){return WillowBrowserShadow}setCopyHandler(a){jQuery(document).on(WillowShadowEvents.copy,a);return this}setCutHandler(a){jQuery(document).on(WillowShadowEvents.cut,a);return this}setPasteHandler(a){window.addEventListener(WillowShadowEvents.paste,a,!1);return this}setErrorHandler(a){window.addEventListener("error",a);window.addEventListener("unhandledrejection",a);return this}toggleFullScreen(){const a=document;a.fullScreenElement&&null!==a.fullScreenElement||
!a.mozFullScreen&&!a.webkitIsFullScreen?a.documentElement.requestFullScreen?a.documentElement.requestFullScreen():a.documentElement.mozRequestFullScreen?a.documentElement.mozRequestFullScreen():a.documentElement.webkitRequestFullScreen&&a.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):a.cancelFullScreen?a.cancelFullScreen():a.mozCancelFullScreen?a.mozCancelFullScreen():a.webkitCancelFullScreen&&a.webkitCancelFullScreen()}setCopyData(a,b){a=a.originalEvent;a.preventDefault();
a.clipboardData.setData("text/plain",b);a.clipboardData.setData("text/html",b)}getMousetrap(){return Mousetrap}copyTextToClipboard(a){const b=document.createElement("textarea");b.style.position="fixed";b.style.top=0;b.style.left=0;b.style.width="2em";b.style.height="2em";b.style.padding=0;b.style.border="none";b.style.outline="none";b.style.boxShadow="none";b.style.background="transparent";b.value=a;document.body.appendChild(b);b.select();try{document.execCommand("copy")}catch(c){}document.body.removeChild(b)}getStore(){return store}getHost(){return location.host}_getHostname(){return location.hostname}appendScript(a){const b=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){if(a){b._loadingPromises||(b._loadingPromises={});if(b._loadingPromises[a])return b._loadingPromises[a];if(!b.isNodeJs())return b._loadingPromises[a]=b._appendScript(a),b._loadingPromises[a]}})}_appendScript(a){return new Promise(function(b,c){let d=!1;const e=document.createElement("script");e.type="text/javascript";e.src=a;e.async=!0;e.onload=e.onreadystatechange=function(){d||this.readyState&&"complete"!=this.readyState||(d=!0,
b(this))};e.onerror=e.onabort=c;document.head.appendChild(e)})}downloadFile(a,b,c){const d=document.createElement("a");d.setAttribute("href",`data:${c},`+encodeURIComponent(a));d.setAttribute("download",b);d.click()}reload(){window.location.reload()}openUrl(a){window.open(a)}setResizeEndHandler(a){let b;$(window).on(WillowShadowEvents.resize,c=>{const d=$(c.target);d.is("div")||(clearTimeout(b),b=setTimeout(()=>{a({width:d.width(),height:d.height()})},100))});return this}getStumpNodeFromElement(a){return this.getHtmlStumpNode().getNodeByGuid(parseInt(jQuery(a).attr(Stump.Constants.uidAttribute)))}forceRepaint(){jQuery(window).width()}getBrowserHtml(){return document.documentElement.outerHTML}confirmThen(a){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return confirm(a)})}promptThen(a,
b){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return prompt(a,b)})}getWindowSize(){const a=jQuery(window);return{width:a.width(),height:a.height()}}getDocumentSize(){const a=jQuery(document);return{width:a.width(),height:a.height()}}blurFocusedInput(){document.activeElement.blur()}setLoadedDroppedFileHandler(a,b){b=void 0===b?"":b;const c=this.getBodyStumpNode(),d=c.getShadow(),e=a=>{a=a.originalEvent;const b=a.dataTransfer.effectAllowed;a.dataTransfer.dropEffect="move"===b||
"linkMove"===b?"move":"copy"},f=a=>{a.preventDefault();a.stopPropagation();c.removeClassFromStumpNode("dragOver");c.findStumpNodeByChild("id dragOverHelp").removeStumpNode();d.offShadowEvent(WillowShadowEvents.dragleave,f)};d.onShadowEvent(WillowShadowEvents.dragover,a=>{e(a);a.preventDefault();a.stopPropagation();c.stumpNodeHasClass("dragOver")||(c.insertChildNode(`div ${b}
 id dragOverHelp`),c.addClassToStumpNode("dragOver"),setTimeout(function(){d.onShadowEvent(WillowShadowEvents.dragleave,f)},50))});d.onShadowEvent(WillowShadowEvents.drop,b=>{const d=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){b.preventDefault();b.stopPropagation();c.removeClassFromStumpNode("dragOver");c.findStumpNodeByChild("id dragOverHelp").removeStumpNode();var e=b.originalEvent.dataTransfer.items,f=[];for(let a of e)e=a.webkitGetAsEntry(),f.push(d._handleDroppedEntry(e));
f=yield Promise.all(f);a(f)})});d.onShadowEvent(WillowShadowEvents.dragenter,function(a){a.preventDefault();a.stopPropagation()})}_handleDroppedEntry(a,b){b=void 0===b?"":b;return a.isFile?this._handleDroppedFile(a):_handleDroppedDirectory(a,b)}_handleDroppedDirectory(a,b){return new Promise((c,d)=>{a.createReader().readEntries(d=>{const e=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var f=[];for(let c=0;c<d.length;c++)f.push(e._handleDroppedEntry(d[c],b+a.name+"/"));f=yield Promise.all(f);
c(f)})})})}_handleDroppedFile(a){return new Promise((b,c)=>{a.file(a=>{const d=new FileReader;d.onload=c=>{b({data:c.target.result,filename:a.name})};d.onerror=a=>c(a);d.readAsText(a)})})}_getFocusedShadow(){const a=this.getStumpNodeFromElement(document.activeElement);return a&&a.getShadow()}static startApp(a){document.addEventListener("DOMContentLoaded",()=>{window.app||(window.app=new a,window.app.renderApp())},!1)}}window.WillowBrowserProgram=WillowBrowserProgram;
class OhayoAppChisel extends AbstractChisel{chiselWillMount(){this._startVisitCounter();this._commander=new AppCommander(this);var a=this.getFromStore(StorageKeys.appState)||this._getDefaultState();this.concat(a);this._restoreTabs();this._setBodyShadowHandlers();this._makeProgramLinksOpenImmediately();this._makeDocumentCopyableAndCuttable();this._bindKeyboardShortcuts();a=this.getWillowProgram();a.setResizeEndHandler(a=>this._onResizeEndEvent(a));a.setPasteHandler(a=>this._onPasteEvent(a));a.setLoadedDroppedFileHandler(a=>
{a.forEach(a=>this.getCommander().createProgramFromFileCommand(a.filename,a.data))},"Drop to create a new program.");this._setErrorHandlers();this.addStumpCodeMessageToLog("div Ohayo!");(a=this._getDeepLink())?this.getCommander().createAndOpenNewProgramFromDeepLinkCommand(a):1===this._getVisitCount()&&this.getCommander().playFirstVisitCommand()}_getDeepLink(){return this.isNodeJs()?!1:window.location.href.includes(TileConstants.deepLinks.filename)?window.location.href:""}_onPasteEvent(a){const b=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){if(b.terminalHasFocus()||b.getWillowProgram().someInputHasFocus())return!0;a.clipboardData&&a.clipboardData.getData&&(yield b.getCommander().pasteCommand(a.clipboardData.getData("text/plain")))})}_onResizeEndEvent(a){this.touchNode(OhayoGrammarConstants.windowSize).setContent(`${a.width} ${a.height}`);delete this._bodyShadowDimensionsCache;this.renderApp()}_restoreTabs(){const a=this.getFocusedPanel(),b=a.getContent();a.getTabs().forEach(a=>
{const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield a._fetchTabInitProcessRenderAndRun(a.getFullTabFilePath()===b);c.renderApp()})})}getPerfSettings(){this._perfSettings||(this._perfSettings={codeMirrorEnabled:!0,bodyDragSelect:!0,max10tiles:!1});return this._perfSettings}toggleGutter(){this.makeAllDirty();var a=this.getFocusedPanel().getNode(OhayoGrammarConstants.gutter);a?a.unmountAndDestroy():(a=this.getFocusedPanel().touchNode(OhayoGrammarConstants.gutter),a.appendLine(OhayoGrammarConstants.terminal),
a.appendLine(OhayoGrammarConstants.terminal))}terminalHasFocus(){const a=this.getFocusedPanel().getNode(`${OhayoGrammarConstants.gutter} ${OhayoGrammarConstants.terminal}`);return a&&a.hasFocus()}initLocalDataStorage(a,b){a=this.getUnusedStoreKey(a);this.getApp().storeValue(a,b);return a}getBodyShadowDimensions(){this._bodyShadowDimensionsCache||(this._bodyShadowDimensionsCache=this._getBodyShadowDimensions());return this._bodyShadowDimensionsCache}_getBodyShadowDimensions(){const a=this.getWillowProgram().getBodyStumpNode().getShadow();
return{width:a.getShadowWidth(),height:a.getShadowHeight()}}getCommander(){return this._commander}getWindowSizeMTime(){const a=this.getNode(OhayoGrammarConstants.windowSize);return a?a.getMTime():0}_getDefaultState(){return`${OhayoGrammarConstants.theme} ${ThemeConstants.workshop}
${OhayoGrammarConstants.menu}
${OhayoGrammarConstants.panel}
 ${OhayoGrammarConstants.tabs}
 ${OhayoGrammarConstants.gutter}
  ${OhayoGrammarConstants.terminal}
  ${OhayoGrammarConstants.console}`}saveAppState(){this.storeValue(StorageKeys.appState,this.toString())}resetAppState(){this.removeValue(StorageKeys.appState);return this}executeCommandLine(a){this.addToCommandLog(a.join(" "));return this.getCommander()[a[0]].apply(this,a.slice(1))}getProgramConstructorFromFileExtension(a){const b=this.getGrammars();return b[a]||b.flow}_getGrammarProgramClass(){return jtree.GrammarProgram}getFlowGrammarAsTree(){this._flowGrammarTree||(this._flowGrammarTree=new jtree.TreeNode(FlowGrammar));
return this._flowGrammarTree}getGrammars(){if(!this._grammars){this._grammars={};const a=this._getGrammarProgramClass().newFromCondensed(FlowGrammar);this._grammars[FlowConstants.flowFileExtension.substr(1)]=a.getRootConstructor();this._grammars[Fire.Constants.fileExtension.substr(1)]=Fire.Program;this._grammars.hakon=Hakon.Program;this._grammars.stump=Stump.Program}return this._grammars}getTargetNode(){return this._targetNode}setTargetNode(a){this._targetNode=a;return this}getCatchAllNodeConstructor(){return jtree.TreeNode}getWillowProgram(){this._willowBrowser||
(this._willowBrowser="undefined"===typeof jQuery?new WillowProgram("http://localhost:8000/"):new WillowBrowserProgram(window.location.href));return this._willowBrowser}getVersion(){return Version}_startVisitCounter(){let a=this._getVisitCount();a++;this.setVisitCount(a)}setVisitCount(a){this.storeValue(StorageKeys.visitCount,a)}_getVisitCount(){const a=this.getFromStore(StorageKeys.visitCount);return a?parseInt(a):0}getTileCache(){this._cache_tiles||(this._cache_tiles={});return this._cache_tiles}getFirstWordMap(){const a=
{};a[OhayoGrammarConstants.tileContextMenu]=TileContextMenuChisel;a[OhayoGrammarConstants.tabContextMenu]=TabContextMenuChisel;a[OhayoGrammarConstants.panel]=PanelChisel;a[OhayoGrammarConstants.menu]=MenuChisel;a[OhayoGrammarConstants.theme]=ThemeChisel;a[OhayoGrammarConstants.helpModal]=HelpModal;return a}getHakon(){return`.OhayoAppChisel
 height 100%
 width 100%
.OhayoError
 color ${this.getTheme().errorColor}`}goRed(a){const b=this.getMountedTab();a=a?a.reason||a:"";b?b.addStumpErrorMessageToLog(`Error: ${a}.`):this.addStumpErrorMessageToLog(`Error on tab: ${b?b.getFullTabFilePath():""}: ${a}`);this.renderApp()}_setErrorHandlers(){const a=this;this.getWillowProgram().setErrorHandler((b,c,d)=>{a.goRed(b);console.error(b)})}closeModal(){this.getOpenModals().forEach(a=>a.unmountAndDestroy())}getOpenModals(){return this.filter(a=>a instanceof AbstractModalChisel)}closeAllContextMenus(){this.filter(a=>
a instanceof AbstractContextMenuChisel).forEach(a=>a.unmountAndDestroy())}renderApp(){this.renderAndGetRenderResult(this.getWillowProgram().getBodyStumpNode());return this}_appendTiles(a,b){return this.getNodeCursors().map(c=>c.appendLineAndChildren(a,b))}getNodeCursors(){const a=this.getMountedProcess(),b=a.getSelectedTiles();return b.length?b:[a]}_openOhayoProgram(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var c=b.getFocusedPanel();const d=b.getDefaultDisk(),
e=d.getPathBase()+a,f=c.getOpenTabByFullFilePath(e);if(f)c.setMountedTab(f);else return c=new typed.fullDiskFilePath(e),(yield d.exists(c.getFilePath()))?b.openFullPathInNewTabAndFocus(e):b._createAndOpen((new jtree.TreeNode(DemoTemplates)).getNode(a).childrenToString(),a)})}createFileOnDefaultDisk(a,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const d=c.getDefaultDisk();var e=Format.permalink(a);e=yield d.getAvailablePermalink(e);yield d.writeFile(e,b);return d.getDisplayName()+
e})}_createAndOpen(a,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const d=yield c.createFileOnDefaultDisk(b,a);return yield c.openFullPathInNewTabAndFocus(d)})}getFocusedPanel(){return this.getNode(OhayoGrammarConstants.panel)}getMountedTab(){return this.getFocusedPanel().getMountedTab()}getMountedProcess(){const a=this.getMountedTab();return a&&a.getTabProcess()}getMenuChisel(){return this.getNode(OhayoGrammarConstants.menu)}_openFullDiskFilePathInNewTab(a){const b=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){new typed.fullDiskFilePath(a);return yield b.getFocusedPanel().getAlreadyOpenTabOrOpenFullFilePathInNewTab(a)})}openFullPathInNewTabAndFocus(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){new typed.fullDiskFilePath(a);return yield b.getFocusedPanel().getAlreadyOpenTabOrOpenFullFilePathInNewTab(a,!0)})}isAutoSaveEnabled(){return"false"!==this.getFromStore(StorageKeys.autoSave)}getLanguageBestGuess(a){const b=
this.getGrammars(),c=Object.keys(b).map(c=>{{const d=new b[c](a);c={name:c,errorCount:d.getProgramErrors().length}}return c});c.sort(Util.sortByAccessor(a=>a.errorCount));return c[0].name}generateProgram(a,b){return new (this.getProgramConstructorFromFileExtension(b))(a)}getThemeName(){return this.get(OhayoGrammarConstants.theme)}getTheme(){return Themes[this.getThemeName()]||Themes.glass}_toggleTheme(){const a=Util.toggle(this.getThemeName(),Object.keys(Themes));this.addStumpCodeMessageToLog(`div Switched to ${a} theme`);
this.set(OhayoGrammarConstants.theme,a);this.makeAllDirty();this.saveAppState();this.renderApp()}promptToMoveFile(a,b,c){c=void 0===c?!1:c;const d=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var e=new typed.fullDiskFilePath(a),f=b?e.getWithoutFilename()+b:a;e=c?(f=yield d.getWillowProgram().promptThen("Enter new name for file",b||e.getFilename()))?e.getWithoutFilename()+f:f:yield d.getWillowProgram().promptThen("Enter new name for file",f||a);if(e&&e!==a&&(e=new typed.fullDiskFilePath(e),
e=e.getWithoutFilename()+Format.permalink(e.getFilename())))return e=yield d.getCommander().moveFileCommand(a,e),d.addStumpCodeMessageToLog("div Moved"),e})}getKeyboardShortcuts(){this._shortcuts||(this._shortcuts=new DrumsProgram(OhayoAppDrums));return this._shortcuts}_getMousetrap(){return this.getWillowProgram().getMousetrap()}_bindKeyboardShortcuts(){const a=this._getMousetrap(),b=this.getWillowProgram();a._originalStopCallback=a.prototype.stopCallback;a.prototype.stopCallback=function(c,e,f){const d=
b.getStumpNodeFromElement(e);return d&&"command+s"===f&&d.stumpNodeHasClass("savable")?(d.getShadow().triggerShadowEvent(WillowShadowEvents.change),c.preventDefault(),!0):a._pause?!0:a._originalStopCallback.call(this,c,e)};const c=this;this.getKeyboardShortcuts().forEach(b=>{const d=b.getKeyCombo();if(!d)return!0;a.bind(d,function(a){b.execute(c);a.preventDefault&&a.preventDefault();return!1})})}pauseShortcutListener(){this._getMousetrap()._pause=!0}resumeShortcutListener(){this._getMousetrap()._pause=
!1}getStore(){return this.getWillowProgram().getStore()}getUnusedStoreKey(a){return Util.getAvailablePermalink(a,a=>void 0!==this.getFromStore(a))}getStoreKeys(){const a=this.constructor.name,b=a.length,c=[];this.getStore().each((d,e)=>{e.startsWith(a)&&c.push(e.substr(b))});return c}dumpStore(){this.getStore().each((a,b)=>{console.log(b)});return this}getStoreDiskUsage(){let a=0;this.getStore().each((b,c)=>{a+=b.toString().length+c.toString().length});return a/5E6}getFromStore(a){return this.getStore().get(this.constructor.name+
a)}storeValue(a,b){return this.getStore().set(this.constructor.name+a,b)}removeValue(a){return this.getStore().remove(this.constructor.name+a)}_makeDocumentCopyableAndCuttable(){const a=this;a.getWillowProgram().setCopyHandler(b=>a.getCommander().copySelectionCommand(b)).setCutHandler(b=>a.getCommander().cutSelectionCommand(b))}_handleLinkClick(a,b){if(a){var c=a.getStumpNodeAttr("href");if(c&&!a.getStumpNodeAttr("target")&&(b.preventDefault(),this.getWillowProgram().isExternalLink(c)))return this.openExternalLink(c),
!1}}openExternalLink(a){this.getWillowProgram().openUrl(a)}getAppWall(){return this.getFocusedPanel().getNode(OhayoGrammarConstants.tabs).getWall()}getRenderedTilesDiagnostic(){return this.getMountedProcess().getProcessTiles().filter(a=>a.isMounted())}getMountedTilesDiagnostic(){return lodash.flatten(this.getFocusedPanel().getNode(OhayoGrammarConstants.tabs).getOpenTabs().map(a=>a.getTabProcess().getProcessTiles().filter(a=>a.isMounted())))}_createProgramFromPaste(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield b._createAndOpen(a,
`untitled${FlowConstants.flowFileExtension}`)})}setMouseEvent(a){this._mouseEvent=a;return this}getMouseEvent(){return this._mouseEvent||this.getWillowProgram().getMockMouseEvent()}getDisks(){this._disks||this._mountDisks();return this._disks}writeFile(a,b){return(new typed.fileHandle(a,this)).writeFile(b)}readFile(a){return(new typed.fileHandle(a,this)).readFile()}unlinkFile(a){return(new typed.fileHandle(a,this)).unlinkFile()}moveFile(a,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const d=
yield c.readFile(a);yield c.writeFile(b,d);yield c.unlinkFile(a);return b})}_mountDisks(){this._disks={};const a=new LocalStorageDisk(this);this._defaultDisk=a;this._disks[a.getDisplayName()]=a;const b=this.isNodeJs()?!1:this.getWillowProgram().isDesktopVersion();let c;b&&(c=new ServerStorageDisk(this),this._disks[c.getDisplayName()]=c);const d="undefined"===typeof DefaultServerCurrentWorkingDirectory?"/":DefaultServerCurrentWorkingDirectory,e=this.getFromStore(StorageKeys.workingFolderFullDiskFolderPath);
e?this.setWorkingFolder(e):this.setWorkingFolder(b?c.getDisplayName()+d:a.getDisplayName()+"/")}setWorkingFolder(a){const b=new typed.fullFolderPath(a);this.setDefaultDisk(b.getDiskId());this.getDefaultDisk().setFolder(b.getFolderPath());this.storeValue(StorageKeys.workingFolderFullDiskFolderPath,a)}getDefaultDisk(){this.getDisks();return this._defaultDisk}setDefaultDisk(a){if(!this._disks[a])throw Error(`Disk ${a} not found.`);this._defaultDisk=this._disks[a];return this}getStumpNodeString(){return this.getWillowProgram().getHtmlStumpNode().toString()}getStumpNodeStringWithoutCssAndSvg(){const a=
new jtree.TreeNode(this.getWillowProgram().getHtmlStumpNode().toString());a.getTopDownArray().forEach(a=>{("styleTag"===a.getFirstWord()||(a.getContent()||"").startsWith("<svg "))&&a.destroy()});return a.toString()}_makeProgramLinksOpenImmediately(){const a=this,b=this.getWillowProgram();b.getBodyStumpNode().getShadow().onShadowEvent(WillowShadowEvents.click,"a",function(c){a._handleLinkClick(b.getStumpNodeFromElement(this),c)})}_getCommandArguments(a){var b=a.getShadow();b=a.isStumpNodeCheckbox()?
b.isShadowChecked()?!0:!1:void 0!==b.getShadowValue()?b.getShadowValue():a.getStumpNodeAttr(Stump.Constants.value);a=a.getStumpNodeAttr(Stump.Constants.name);return{uno:b,dos:a}}_executeStumpNodeCommand(a,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const d=c.getCommander(),e=a.getStumpNodeChisel(),f=c._getCommandArguments(a);c.addToCommandLog([b,f.uno,f.dos].filter(a=>a).join(" "));c.closeAllContextMenus();d.closeAllDropDownMenusCommand();var g=b.split(" ");const k=
g.shift();g=g.shift();let h;"tile"===k?h=e.getTargetTile().getCommander():"context"===k?h=app.getTargetNode().getCommander():"app"===k?h=d:"chisel"===k&&(h=e.getCommander());yield h[g](f.uno,f.dos)})}_executeStumpNodeCommandByStumpNodeChild(a,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const d=c.getWillowProgram().getBodyStumpNode().findStumpNodeByChild(b);yield c._executeStumpNodeCommand(d,d.getStumpNodeAttr(a))})}_executeStumpNodeCommandByStumpNodeString(a,b){const c=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const d=c.getWillowProgram().getBodyStumpNode().findStumpNodeByChildString(b);yield c._executeStumpNodeCommand(d,d.getStumpNodeAttr(a))})}_setBodyShadowHandlers(){const a=this,b=this.getWillowProgram(),c=b.getBodyStumpNode().getShadow(),d=(c,d,g)=>{c=b.getStumpNodeFromElement(c);g.preventDefault();g.stopImmediatePropagation();a._executeStumpNodeCommand(c,c.getStumpNodeAttr(d));return!1};c.onShadowEvent(WillowShadowEvents.contextmenu,
`[${DataShadowEvents.onContextMenuCommand}]`,function(b){if(b.ctrlKey)return!0;a.setMouseEvent(b);return d(this,DataShadowEvents.onContextMenuCommand,b)});c.onShadowEvent(WillowShadowEvents.change,`[${DataShadowEvents.onChangeCommand}]`,function(a){return d(this,DataShadowEvents.onChangeCommand,a)});c.onShadowEvent(WillowShadowEvents.blur,`[${DataShadowEvents.onBlurCommand}]`,function(a){return d(this,DataShadowEvents.onBlurCommand,a)});c.onShadowEvent(WillowShadowEvents.click,`[${DataShadowEvents.onClickCommand}]`,
function(a){return d(this,DataShadowEvents.onClickCommand,a)});c.onShadowEvent(WillowShadowEvents.dblclick,`[${DataShadowEvents.onDblClickCommand}]`,function(b){if(b.target!==b.currentTarget)return!0;a.setMouseEvent(b);return d(this,DataShadowEvents.onDblClickCommand,b)})}}window.OhayoAppChisel=OhayoAppChisel;WillowBrowserProgram.startApp(OhayoAppChisel);
