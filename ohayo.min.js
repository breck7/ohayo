var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]};
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function c(a){return a instanceof e?a:new e(function(b,c){b(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;b.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};b.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var d=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(a){d(a,
0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var c=a[b];delete a[b];try{c()}catch(l){this.asyncThrow_(l)}}}this.batch_=null};b.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var e=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(k){b.reject(k)}};e.prototype.createResolveAndReject_=
function(){function a(a){return function(d){c||(c=!0,a.call(b,d))}}var b=this,c=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};e.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof e)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};e.prototype.resolveToNonPromiseObj_=function(a){var b=
void 0;try{b=a.then}catch(k){this.reject_(k);return}"function"==typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};e.prototype.reject_=function(a){this.settle_(2,a)};e.prototype.fulfill_=function(a){this.settle_(1,a)};e.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};e.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=
this.onSettledCallbacks_,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.onSettledCallbacks_=null}};var f=new b;e.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};e.prototype.settleSameAsThenable_=function(a,b){var c=this.createResolveAndReject_();try{a.call(b,c.resolve,c.reject)}catch(l){c.reject(l)}};e.prototype.then=function(a,b){function c(a,b){return"function"==typeof a?function(b){try{d(a(b))}catch(q){f(q)}}:b}var d,f,g=new e(function(a,
b){d=a;f=b});this.callWhenSettled_(c(a,d),c(b,f));return g};e.prototype.catch=function(a){return this.then(void 0,a)};e.prototype.callWhenSettled_=function(a,b){function c(){switch(d.state_){case 1:a(d.result_);break;case 2:b(d.result_);break;default:throw Error("Unexpected state: "+d.state_);}}var d=this;null==this.onSettledCallbacks_?f.asyncExecute(c):this.onSettledCallbacks_.push(function(){f.asyncExecute(c)})};e.resolve=c;e.reject=function(a){return new e(function(b,c){c(a)})};e.race=function(a){return new e(function(b,
d){for(var e=$jscomp.makeIterator(a),f=e.next();!f.done;f=e.next())c(f.value).callWhenSettled_(b,d)})};e.all=function(a){var b=$jscomp.makeIterator(a),d=b.next();return d.done?c([]):new e(function(a,e){function f(b){return function(c){g[b]=c;h--;0==h&&a(g)}}var g=[],h=0;do g.push(void 0),h++,c(d.value).callWhenSettled_(f(g.length-1),e),d=b.next();while(!d.done)})};return e},"es6-impl","es3");
$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");
$jscomp.polyfill("Object.is",function(a){return a?a:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,c){var b=this;b instanceof String&&(b=String(b));var e=b.length;for(c=c||0;c<e;c++)if(b[c]==a||Object.is(b[c],a))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6-impl","es3");
$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
$jscomp.polyfill("WeakMap",function(a){function b(a){$jscomp.owns(a,d)||$jscomp.defineProperty(a,d,{value:{}})}function c(a){var c=Object[a];c&&(Object[a]=function(a){b(a);return c(a)})}if(function(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),c=Object.seal({}),d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}catch(l){return!1}}())return a;var d="$jscomp_hidden_"+Math.random().toString().substring(2);c("freeze");c("preventExtensions");
c("seal");var e=0,f=function(a){this.id_=(e+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};f.prototype.set=function(a,c){b(a);if(!$jscomp.owns(a,d))throw Error("WeakMap key fail: "+a);a[d][this.id_]=c;return this};f.prototype.get=function(a){return $jscomp.owns(a,d)?a[d][this.id_]:void 0};f.prototype.has=function(a){return $jscomp.owns(a,d)&&$jscomp.owns(a[d],this.id_)};f.prototype.delete=
function(a){return $jscomp.owns(a,d)&&$jscomp.owns(a[d],this.id_)?delete a[d][this.id_]:!1};return f},"es6-impl","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){if(!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a($jscomp.makeIterator([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),e=d.next();if(e.done||e.value[0]!=b||"s"!=e.value[1])return!1;e=d.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!d.next().done?!1:!0}catch(p){return!1}}())return a;$jscomp.initSymbol();
$jscomp.initSymbolIterator();var b=new WeakMap,c=function(a){this.data_={};this.head_=f();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};c.prototype.set=function(a,b){var c=d(this,a);c.list||(c.list=this.data_[c.id]=[]);c.entry?c.entry.value=b:(c.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,value:b},c.list.push(c.entry),this.head_.previous.next=c.entry,this.head_.previous=c.entry,this.size++);return this};c.prototype.delete=
function(a){a=d(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};c.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=f();this.size=0};c.prototype.has=function(a){return!!d(this,a).entry};c.prototype.get=function(a){return(a=d(this,a).entry)&&a.value};c.prototype.entries=function(){return e(this,function(a){return[a.key,
a.value]})};c.prototype.keys=function(){return e(this,function(a){return a.key})};c.prototype.values=function(){return e(this,function(a){return a.value})};c.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};c.prototype[Symbol.iterator]=c.prototype.entries;var d=function(a,c){var d=c&&typeof c;"object"==d||"function"==d?b.has(c)?d=b.get(c):(d=""+ ++g,b.set(c,d)):d="p_"+c;var e=a.data_[d];if(e&&$jscomp.owns(a.data_,d))for(a=0;a<e.length;a++){var f=
e[a];if(c!==c&&f.key!==f.key||c===f.key)return{id:d,list:e,index:a,entry:f}}return{id:d,list:e,index:-1,entry:void 0}},e=function(a,b){var c=a.head_;return $jscomp.iteratorPrototype(function(){if(c){for(;c.head!=a.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}})},f=function(){var a={};return a.previous=a.next=a.head=a},g=0;return c},"es6-impl","es3");
$jscomp.polyfill("Object.assign",function(a){return a?a:function(a,c){for(var b=1;b<arguments.length;b++){var e=arguments[b];if(e)for(var f in e)$jscomp.owns(e,f)&&(a[f]=e[f])}return a}},"es6-impl","es3");$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var e=b.length,f=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var g=0;g<f&&c<e;)if(b[c++]!=a[g++])return!1;return g>=f}},"es6-impl","es3");
$jscomp.polyfill("Object.values",function(a){return a?a:function(a){var b=[],d;for(d in a)$jscomp.owns(a,d)&&b.push(a[d]);return b}},"es8","es3");$jscomp.polyfill("Array.prototype.values",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a,c){return c})}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===c&&(c=b.length);c=Math.max(0,Math.min(c|0,b.length));for(var e=a.length;0<e&&0<c;)if(b[--c]!=a[--e])return!1;return 0>=e}},"es6-impl","es3");
$jscomp.polyfill("String.prototype.repeat",function(a){return a?a:function(a){var b=$jscomp.checkStringArgs(this,null,"repeat");if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var d="";a;)if(a&1&&(d+=b),a>>>=1)b+=b;return d}},"es6-impl","es3");var AbstractChisel=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(AbstractChisel,TreeProgram);AbstractChisel.prototype.getApp=function(){return this.getRootNode()};
AbstractChisel.prototype.getParseErrorCount=function(){return this.length?this.getTopDownArray().map(function(a){return a.getParseErrorCount()}).reduce(function(a,b){return a+b}):0};AbstractChisel.prototype.getCommander=function(){return new ChiselCommander(this)};AbstractChisel.prototype.getStump=function(){return this._htmlStump};AbstractChisel.prototype.isNodeJs=function(){return"undefined"!==typeof exports};AbstractChisel.prototype.getHakon=function(){return""};
AbstractChisel.prototype.getTheme=function(){return this.getApp().getTheme()};AbstractChisel.prototype.getCommandsBuffer=function(){this._commandsBuffer||(this._commandsBuffer=[]);return this._commandsBuffer};AbstractChisel.prototype.addToCommandLog=function(a){this.getCommandsBuffer().push({command:a,time:this._getNow()})};AbstractChisel.prototype.getMessageBuffer=function(){this._messageBuffer||(this._messageBuffer=new TreeProgram);return this._messageBuffer};
AbstractChisel.prototype.logMessageBray=function(a){this.getMessageBuffer().append("message",a)};AbstractChisel.prototype.logMessageText=function(a){a="@pre\n bern"+TreeProgram.nest(void 0===a?"":a,2);return this.logMessageBray(a)};AbstractChisel.prototype.unmount=function(){this.isMounted()&&(this._getChildChisels().forEach(function(a){return a.unmount()}),this.chiselWillUnmount(),this._removeCss(),this._removeHtml(),delete this._lastRenderedTime,this.chiselDidUnmount())};
AbstractChisel.prototype._removeCss=function(){this._cssStump.removeStump();delete this._cssStump};AbstractChisel.prototype._removeHtml=function(){this._htmlStump.removeStump();delete this._htmlStump};AbstractChisel.prototype.getBray=function(){return"@div\n class "+this.constructor.name};AbstractChisel.prototype.chiselWillMount=function(){};AbstractChisel.prototype.chiselDidMount=function(){void 0===AbstractChisel._mountedChisels&&(AbstractChisel._mountedChisels=0);AbstractChisel._mountedChisels++};
AbstractChisel.prototype.chiselDidUnmount=function(){AbstractChisel._mountedChisels--};AbstractChisel.prototype.chiselWillUnmount=function(){};AbstractChisel.prototype.forceUpdate=function(){};AbstractChisel.prototype.getNewestTimeToRender=function(){return this._lastTimeToRender};AbstractChisel.prototype._setLastRenderedTime=function(a){this._lastRenderedTime=a;return this};AbstractChisel.prototype.chiselDidUpdate=function(){};AbstractChisel.prototype._getChildChisels=function(){return this.getChildrenByNodeType(AbstractChisel)};
AbstractChisel.prototype.makeAllDirty=function(){this.makeDirty();this._getChildChisels().forEach(function(a){return a.makeAllDirty()})};AbstractChisel.prototype.hasChildren=function(){return 0<this._getChildChisels().length};AbstractChisel.prototype.getStumpForChildren=function(){return this.getStump()};AbstractChisel.prototype.getLastRenderedTime=function(){return this._lastRenderedTime};AbstractChisel.prototype.makeDirty=function(){this._setLastRenderedTime(0)};
AbstractChisel.prototype._getCss=function(){return this.getTheme().hakonToCss(this.getHakon())};AbstractChisel.prototype._getCssBray=function(){return"@style\n styleFor "+this.constructor.name+"\n bern"+TreeProgram.nest(this._getCss(),2)};
AbstractChisel.prototype._update=function(){if(!this._shouldChiselUpdate())return!1;this._setLastRenderedTime(this._getNow());this._removeCss();this._mountCss();if(this.hasChildren())return!1;this.updateHtml();this._lastTimeToRender=this._getNow()-this.getLastRenderedTime();return!0};AbstractChisel.prototype._mountCss=function(a){this._cssStump=this.getApp().getWillowProgram().getHeadStump().insertChildNode(this._getCssBray())};
AbstractChisel.prototype._mountHtml=function(a,b){this._htmlStump=a.insertChildNode(this.getBray(b),b);this._htmlStump.setStumpChisel(this)};AbstractChisel.prototype.updateHtml=function(){var a=this._htmlStump.getParent(),b=this._htmlStump.getIndex();this._removeHtml();this._mountHtml(a,b)};
AbstractChisel.prototype._mount=function(a,b){this._setLastRenderedTime(this._getNow());this.chiselWillMount();this.getApp().getWillowProgram();this._mountCss(a);this._mountHtml(a,b);this._lastTimeToRender=this._getNow()-this.getLastRenderedTime();return this};AbstractChisel.prototype.unmountAndDestroy=function(){this.unmount();return this.destroy()};
AbstractChisel.prototype.toggle=function(a,b){var c=this.getNode(a);if(!b)return c?c.unmountAndDestroy():this.append(a);c=void 0===c?void 0:c.getBeam();c=b.indexOf(c);b=-1===c||c+1===b.length?b[0]:b[c+1];this.delete(a);b&&this.touchNode(a).setBeam(b);return b};AbstractChisel.prototype.isMounted=function(){return!!this._htmlStump};AbstractChisel.prototype.getNextOrPrevious=function(a){var b=a.length,c=a.indexOf(this);if(1!==b)return c===b-1?a[c-1]:a[c+1]};
AbstractChisel.prototype.toggleAndRender=function(a,b){this.toggle(a,b);this.getApp().renderApp();return Promise.resolve()};AbstractChisel.prototype._getStaleTime=function(){var a=this.getMTime(),b=this.getLastRenderedTime()||0,a=a-b;if(0<a)return a;var c=this.getDependencyTimestamps().find(function(a){return a>b});return c?c-b:a};AbstractChisel.prototype.getDependencyTimestamps=function(){return[]};
AbstractChisel.prototype.getChildrenThatNeedRendering=function(){var a=[];this._getChiselsThatNeedRendering(a);return a};AbstractChisel.prototype._shouldChiselUpdate=function(){return 0<this._getStaleTime()};AbstractChisel.prototype._getChiselsThatNeedRendering=function(a){this._getChildChisels().forEach(function(b){b.isMounted()&&!b._shouldChiselUpdate()||a.push({child:b,staleTime:b._getStaleTime()});b._getChiselsThatNeedRendering(a)})};
AbstractChisel.prototype._renderChildren=function(){var a=this.getStumpForChildren();this._getChildChisels().forEach(function(b,c){return b.render(a,c)})};AbstractChisel.prototype.render=function(a,b){var c=this.isMounted(),d=!1;c?d=this._update():this._mount(a,b);this._renderChildren();c?d&&this.chiselDidUpdate():this.chiselDidMount();return this};window.AbstractChisel=AbstractChisel;var AbstractTileChisel=function(a){return AbstractChisel.apply(this,arguments)||this};
$jscomp.inherits(AbstractTileChisel,AbstractChisel);AbstractTileChisel._mountedChisels=AbstractChisel._mountedChisels;AbstractTileChisel.prototype.parseNodeType=function(a){return this.getTileProcess().getMatchingTileNodeType(a)||SnapAnnex};AbstractTileChisel.prototype.getCommander=function(){return new TileCommander(this)};AbstractTileChisel.prototype.getStruct=function(){this._struct||(this._struct=this.getDefinition().computeStruct(this));return this._struct};
AbstractTileChisel.prototype.getApp=function(){return this.getTileProcess().getApp()};AbstractTileChisel.prototype.runTile=function(){return Promise.resolve()};AbstractTileChisel.prototype.getDefinition=function(){var a=this.getBase();return this.getTileProcess().getDictionary().getDefinitionByName(a)};AbstractTileChisel.prototype.toggleToolbar=function(){this._tileToolbar=this._tileToolbar?this._tileToolbar.unmount():(new TileToolbarChisel("",void 0,this)).render(this.getStump())};
AbstractTileChisel.prototype._clearTileStruct=function(){delete this._struct};AbstractTileChisel.prototype.getInputBinder=function(){return this.getParent().getOutputBinder()};AbstractTileChisel.prototype.getOutputBinder=function(){if(!this.isProvider())return this.getInputBinder();this._outputBinder||(this._outputBinder=new Binder(this));return this._outputBinder};AbstractTileChisel.prototype.isProvider=function(){return!1};AbstractTileChisel.prototype.isProcess=function(){return!1};
AbstractTileChisel.prototype.getTileProcess=function(){return this.getParent().getTileProcess()};AbstractTileChisel.prototype.getTab=function(){return this.getTileProcess().getParent()};AbstractTileChisel.prototype.getChildTiles=function(){return this.getChildrenByNodeType(AbstractTileChisel)};AbstractTileChisel.prototype.getHierarchyForLayout=function(){return{node:this,children:this.getChildTiles().map(function(a){return a.getHierarchyForLayout()})}};
AbstractTileChisel.prototype.isVisible=function(){return"false"!==this.findBeam("visible")};AbstractTileChisel.prototype.selectTile=function(){this._selected=!0;this.isMounted()&&this.getStump().addClassToStump("ui-selected")};AbstractTileChisel.prototype.unselect=function(){delete this._selected;this.isMounted()&&this.getStump().removeClassFromStump("ui-selected")};AbstractTileChisel.prototype.isSelected=function(){return this._selected};
AbstractTileChisel.prototype.getBray=function(){return"@div\n class TilePage TileChisel "+this.constructor.name+"\n id "+this.getId()+"\n data-onContextMenuCommand chisel openTileContextMenuCommand\n @div\n  class TileGrabber\n @div "+this.getTileHeaderBern()+"\n  class TileHeader\n @div\n  class TileBody"+TreeProgram.nest(this.getTileBodyBray(),2)+"\n @div\n  class TileFooter"+TreeProgram.nest(this.getTileFooterBray(),2)+"\n @div\n  class TileGrabber"};
AbstractTileChisel.prototype.getTileHeaderBern=function(){return""+this.getBase()};AbstractTileChisel.prototype.cloneAndOffset=function(){var a=this.duplicate(),b=this.getLeft(),c=this.getTop();b&&a.touchNode(TileConstants.left).setBeam(parseInt(b)+1);c&&a.touchNode(TileConstants.top).setBeam(parseInt(c)+1);return a};
AbstractTileChisel.prototype.makeTileDimension=function(a,b){a=void 0===a?this.getLeft():a;b=void 0===b?this.getTop():b;var c=this.getWidth(),d=this.getHeight(),e={};a&&(e.left=20*parseInt(a));b&&(e.top=20*parseInt(b));c&&(e.width=20*parseInt(c));d&&(e.height=20*parseInt(d));return new TileDimension(this,e)};AbstractTileChisel.prototype.getTileBodyBray=function(){return""};
AbstractTileChisel.prototype._getCss=function(){var a="#"+this.getId(),b=this.getTheme(),c=this.isVisible()?"":"display: none",d=this.getTileDimension(),d=d?d.toCss():"";return a+" { "+c+" "+d+" }\n      "+b.hakonToCss(this.getHakon())};AbstractTileChisel.prototype.mapDetailNamesToColumnNames=function(a){var b=this.getStruct();return a.map(function(a){return b[a]})};AbstractTileChisel.prototype.getContextMenuBray=function(){return""};AbstractTileChisel.loadCode=function(){return Promise.resolve()};
AbstractTileChisel.prototype.getStructColumns=function(){var a=this.getNode("columns"),b=a?a.toObject():{};return Object.keys(b).map(function(a){var c=b[a]||{};"object"!==typeof c&&(c={});c.name||(c.name=a);return c})};AbstractTileChisel.prototype.getTileClassColumns=function(){return[]};AbstractTileChisel.prototype.handleTileError=function(a){this._errorCount||(this._errorCount=0);this._errorCount++;this.getApp().goRed(a)};AbstractTileChisel.prototype.getLimit=function(){return this.getStruct().limit};
AbstractTileChisel.prototype.getId=function(){return"tile"+this._getUid()};AbstractTileChisel.prototype.getWall=function(){return this.getApp().getAppWall()};AbstractTileChisel.prototype.getTileDimension=function(){var a=this.getWall().getWallDimension();return this.getTileProcess().getTileDimensionMap(a.width,a.height).get(this)};AbstractTileChisel.prototype.getHeaderHeight=function(){return 30};AbstractTileChisel.prototype.getFooterHeight=function(){return 30};
AbstractTileChisel.prototype.getTileBodyDimension=function(){var a=this.getTileDimension();a.height=a.height-this.getHeaderHeight()-this.getFooterHeight();return a};AbstractTileChisel.prototype.getDependencyTimestamps=function(){return[]};AbstractTileChisel.prototype.runAndRender=function(){var a=this;return this.runTile().then(function(){return a.render()})};AbstractTileChisel.prototype.getFirstAncestor=function(){var a=this.getParent();return a.isProcess()?this:a.getFirstAncestor()};
AbstractTileChisel.prototype.getTTL=function(){return this._ttl||0};AbstractTileChisel.prototype.setMonadOrChild=function(a,b){var c=this.getNode(a),d=b.includes("\n")||c&&c.length;if(c)return d?c.setChildren(b):c.setBeam(b);if(this.getDefinition().getMonadName()===a&&!b.includes("\n"))return this.setBeam(b);a=this.touchNode(a);return d?a.setChildren(b):a.setBeam(b)};AbstractTileChisel.prototype.getHakon=function(){return""};AbstractTileChisel.prototype.getTheme=function(){return this.getApp().getTheme()};
AbstractTileChisel.prototype.getTileFooterBray=function(){return this.getTileToolbarButtonBray()};AbstractTileChisel.prototype.getTileToolbarButtonBray=function(){return"@span "+Icons("pencil",16)+"\n class TilePencilButton\n data-onClickCommand chisel toggleToolbarCommand"};AbstractTileChisel.prototype.getSuggestedSize=function(){return this.getDefinition().getSuggestedSize()};AbstractTileChisel.prototype.getLeft=function(){return this.findBeam(TileConstants.left)};
AbstractTileChisel.prototype.getTop=function(){return this.findBeam(TileConstants.top)};AbstractTileChisel.prototype.getWidth=function(){return this.findBeam(TileConstants.width)};AbstractTileChisel.prototype.getHeight=function(){return this.findBeam(TileConstants.height)};AbstractTileChisel.prototype.getStumpForChildren=function(){return this.getStump().getParent()};AbstractTileChisel.prototype.chiselDidMount=function(){AbstractChisel.prototype.chiselDidMount.call(this);this._tileToolbar&&this._tileToolbar.render()};
AbstractTileChisel.prototype.autosaveTile=function(){this._clearTileStruct();return this.getTab().autosaveTab()};
AbstractTileChisel.prototype.getInspection=function(){var a=this.getMessageBuffer().getChildren().map(function(a){return"@li "+moment(a.getMTime()).fromNow()+" - "+a.childrenToString()}),b=this.getDefinition().getDetails().map(function(a){return a.getDetailName()+" "+a.getDetailTypeName()+" "+a.getDescription()}).join("\n"),c=this.getStruct(),d=this.getParent().getBase();return"@div TileClass: "+this.constructor.name+" Parent: "+d+"\n@div Messages:\n@ol\n "+a+"\n@div Tree:\n@pre\n bern"+TreeProgram.nest(this.toString(),
2)+"\n@div TileStruct:\n@pre\n bern"+TreeProgram.nest(JSON.stringify(c,null,2),2)+"\n@div All Tile Details:\n@pre\n bern"+TreeProgram.nest(b,2)};window.AbstractTileChisel=AbstractTileChisel;var BasicTile=function(a){return AbstractTileChisel.apply(this,arguments)||this};$jscomp.inherits(BasicTile,AbstractTileChisel);BasicTile._mountedChisels=AbstractTileChisel._mountedChisels;BasicTile.loadCode=AbstractTileChisel.loadCode;BasicTile.prototype.getHakon=function(){return".BasicTile\n input\n  border 0\n  font-size 16px"};
BasicTile.prototype.getBray=function(){var a=this.getLine();return"@div\n class TilePage TileChisel "+this.constructor.name+"\n id "+this.getId()+"\n data-onContextMenuCommand chisel openTileContextMenuCommand\n @input\n  value "+a};
BasicTile.prototype.getTileBodyBray=function(){var a=this,b=this.getDefinition(),c=b.getBeamParameters(),d=c.length-1,c=c.map(function(b,c){var e=c+1;c=(d===c?a.getWords(e).join(" "):a.getWord(e))||"";return" @input\n  placeholder "+b+"\n  value "+c+"\n  name "+e+"\n  data-onChangeCommand chisel changeWordCommand"}).join("\n");return"@div "+svg+" "+b.getDescription()+"\n@div\n"+c};window.BasicTile=BasicTile;var BinPacker=function(){};
BinPacker.prototype.fit=function(a){var b=a.length;this.root={xcc:0,ycc:0,width:0<b?a[0].width:0,height:0<b?a[0].height:0};for(var c=0;c<b;c++){var d=a[c],e=this.findNode(this.root,d.width,d.height);d.fit=e?this.splitNode(e,d.width,d.height):this.growNode(d.width,d.height)}};BinPacker.prototype.findNode=function(a,b,c){return a.used?this.findNode(a.right,b,c)||this.findNode(a.down,b,c):b<=a.width&&c<=a.height?a:null};
BinPacker.prototype.splitNode=function(a,b,c){a.used=!0;a.down={xcc:a.xcc,ycc:a.ycc+c,width:a.width,height:a.height-c};a.right={xcc:a.xcc+b,ycc:a.ycc,width:a.width-b,height:c};return a};BinPacker.prototype.growNode=function(a,b){var c=this.root,d=a<=c.width,e=b<=c.height,f=d&&c.width>=c.height+b;return e&&c.height>=c.width+a?this.growRight(a,b):f?this.growDown(a,b):e?this.growRight(a,b):d?this.growDown(a,b):null};
BinPacker.prototype.growRight=function(a,b){var c=this.root;this.root={used:!0,xcc:0,ycc:0,width:c.width+a,height:c.height,down:c,right:{xcc:c.width,ycc:0,width:a,height:c.height}};return(c=this.findNode(this.root,a,b))?this.splitNode(c,a,b):null};BinPacker.prototype.growDown=function(a,b){var c=this.root;this.root={used:!0,xcc:0,ycc:0,width:c.width,height:c.height+b,down:{xcc:0,ycc:c.height,width:c.width,height:b},right:c};return(c=this.findNode(this.root,a,b))?this.splitNode(c,a,b):null};
window.BinPacker=BinPacker;var BlankLine=function(a){return AbstractTileChisel.apply(this,arguments)||this};$jscomp.inherits(BlankLine,AbstractTileChisel);BlankLine._mountedChisels=AbstractTileChisel._mountedChisels;BlankLine.loadCode=AbstractTileChisel.loadCode;BlankLine.prototype.isVisible=function(){return!1};window.BlankLine=BlankLine;var DidYouMeanTile=function(a){return AbstractTileChisel.apply(this,arguments)||this};$jscomp.inherits(DidYouMeanTile,AbstractTileChisel);
DidYouMeanTile._mountedChisels=AbstractTileChisel._mountedChisels;DidYouMeanTile.loadCode=AbstractTileChisel.loadCode;DidYouMeanTile.prototype.getTileBodyBray=function(){var a=this.getBase(),b=this.getTileProcess().getDictionary().getTopNodeTypes();return(b=didYouMean(a,b))?"@div\n @span No tile '"+a+"' found. Did you mean\n @a "+b+"\n  collapseNode true\n  tabindex -1\n  value "+b+"\n  data-onClickCommand chisel changeTileTypeCommand\n @span ?":"@div No tile '"+a+"' found."};
DidYouMeanTile.prototype.getParseErrorCount=function(){return this.getTopDownArray().length};DidYouMeanTile.prototype.getTileHeaderBern=function(){return""};window.DidYouMeanTile=DidYouMeanTile;var AbstractLayoutStrategy=function(a,b,c){this._tileProcess=a;this._width=void 0===b?1400:b;this._height=void 0===c?1400:c};AbstractLayoutStrategy.prototype._getVisibleTiles=function(){return this._getTileProcess().getProcessTiles().filter(function(a){return a.isVisible()})};
AbstractLayoutStrategy.prototype._getTileProcess=function(){return this._tileProcess};AbstractLayoutStrategy.prototype._getLayoutBoxWidth=function(){return this._width};AbstractLayoutStrategy.prototype._getLayoutBoxHeight=function(){return this._height};var CustomLayout=function(a){AbstractLayoutStrategy.apply(this,arguments)};$jscomp.inherits(CustomLayout,AbstractLayoutStrategy);
CustomLayout.prototype.makeTileDimensionMap=function(){var a=this._getVisibleTiles(),b=[],c=new Map;a.forEach(function(a,d){if(!a.getLeft())return b.push(a);c.set(a,a.makeTileDimension())});var d=0;b.forEach(function(a,b){b=a.makeTileDimension(0,d);c.set(a,b);d+=b.height/20});return c};var TreeLayout=function(a){AbstractLayoutStrategy.apply(this,arguments)};$jscomp.inherits(TreeLayout,AbstractLayoutStrategy);
TreeLayout.prototype.makeTileDimensionMap=function(){var a=this._getTileProcess().getHierarchyForLayout(),a=d3.hierarchy(a),b=d3.tree().size([.8*this._getLayoutBoxWidth(),.8*this._getLayoutBoxHeight()]),c=new Map;b(a).descendants().forEach(function(a){var b=a.data.node;b.isProcess()||(a=new TileDimension(b,{width:80,height:80,left:a.x,top:a.y}),c.set(b,a))});return c};var ColumnLayout=function(a){AbstractLayoutStrategy.apply(this,arguments)};$jscomp.inherits(ColumnLayout,AbstractLayoutStrategy);
ColumnLayout.prototype.makeTileDimensionMap=function(){var a=0,b=Math.floor((this._getLayoutBoxWidth()-800)/2),c=new Map;this._getVisibleTiles().forEach(function(d){var e=d.getSuggestedSize(),f=new TileDimension(d,{width:800,height:e.height,left:b,top:a});c.set(d,f);a+=e.height});return c};var BinLayout=function(a){AbstractLayoutStrategy.apply(this,arguments)};$jscomp.inherits(BinLayout,AbstractLayoutStrategy);
BinLayout.prototype.makeTileDimensionMap=function(){var a=new Map,b=this._getVisibleTiles().map(function(a){var b=a.getSuggestedSize();return{width:b.width,height:b.height,tile:a}}),b=lodash.sortBy(b,function(a){return Math.max(a.width,a.height)}).reverse();(new BinPacker).fit(b);b.forEach(function(b){var c=new TileDimension(b.tile,{width:b.width,height:b.height,left:b.fit.xcc,top:b.fit.ycc});a.set(b.tile,c)});return a};var Layout=function(){};
Layout.prototype.getTileDimensionMap=function(a,b,c,d){return(new ({custom:CustomLayout,column:ColumnLayout,tree:TreeLayout,bin:BinLayout}[b]||TreeLayout)(a,c,d)).makeTileDimensionMap()};window.Layout=Layout;var MorphTile=function(a){return AbstractTileChisel.apply(this,arguments)||this};$jscomp.inherits(MorphTile,AbstractTileChisel);MorphTile._mountedChisels=AbstractTileChisel._mountedChisels;MorphTile.loadCode=AbstractTileChisel.loadCode;MorphTile.prototype.getHakon=function(){this.getTheme();return".MorphTile\n .TileBody\n  display flex\n  flex-flow row wrap\n  overflow scroll\n  a\n   margin 10px\n   height 50px\n   overflow hidden\n   text-align center\n   text-overflow ellipsis\n   font-size 12px\n   width 50px"};
MorphTile.prototype.getTileBodyBray=function(){var a=this.getTileProcess().getDictionary(),b=a.getTopNodeTypes();this.getApp();return b.map(function(b){return a.getDefinitionByName(b)}).map(function(a){return"@a "+Icons(a.getSvg(),24)+"<br>"+a.getBase()+"\n title "+a.getDescription()+"\n tabindex -1\n value "+a.getBase()+"\n data-onClickCommand chisel changeTileTypeCommand"}).join("\n")};MorphTile.prototype.getTileHeaderBern=function(){return""};window.MorphTile=MorphTile;
var TileConstants={left:"left",top:"top",width:"width",height:"height",wall:"@wall"};window.TileConstants=TileConstants;var TileDimension=function(a,b){a=a.getSuggestedSize();this.width=a.width;this.height=a.height;Object.assign(this,b)};TileDimension.prototype.getScaledCss=function(a){a=void 0===a?1:a;return this._toCss({width:this.width*a,height:this.height*a,left:this.left*a,top:this.top*a})};TileDimension.prototype.toCss=function(){return this._toCss(this)};
TileDimension.prototype._toCss=function(a){return"width: "+a.width+"px; height: "+a.height+"px; left: "+a.left+"px; top: "+a.top+"px"};window.TileDimension=TileDimension;var WallNode=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(WallNode,TreeProgram);var TileProcess=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(TileProcess,TreeProgram);TileProcess.prototype.parseNodeType=function(a){return this.getMatchingTileNodeType(a)||DidYouMeanTile};
TileProcess.prototype.getMatchingTileNodeType=function(a){a=a.split(" ")[0];if(a===TileConstants.wall)return WallNode;var b=this.getDictionary();if(b.isDefined(a))return a=b.getDefinitionByName(a),this._getDefinitionTileClass(a)};TileProcess.prototype.getDictionary=function(){return this.getParent().getDictionary()};TileProcess.prototype.getAllCards=function(){return lodash.flatten(this.getProcessTiles().map(function(a){return a.isProvider()?a.getOutputBinder().getCards():[]}))};
TileProcess.prototype._getProgramCardCount=function(){return this.getAllCards().reduce(function(a,b){return a+b.length},0)};TileProcess.prototype.getApp=function(){return this.getParent().getApp()};TileProcess.prototype.getTab=function(){return this.getParent()};TileProcess.prototype.getLayoutStrategy=function(){return this.findBeam(TileConstants.wall+" layout")||("flex"===this.getTab().getWallType()?"custom":"tree")};
TileProcess.prototype.getTileDimensionMap=function(a,b){var c=this.getLayoutStrategy();return(new Layout).getTileDimensionMap(this,c,a,b)};TileProcess.prototype.run=function(){var a=this,b=this.getApp(),c=lodash.uniq(this.getTopDownArray().filter(function(a){return a instanceof AbstractTileChisel}).map(function(a){return a.getBase()}));return Promise.all(c.map(function(c){return a._loadTileCode(c,b)})).then(function(){return Promise.all(a.getProcessRootTiles().map(function(a){return a.runTile()})).then(function(){return a})})};
TileProcess.prototype.getTileProcess=function(){return this};TileProcess.prototype.getSelectedTiles=function(){return this.getProcessTiles().filter(function(a){return a.isSelected()})};TileProcess.prototype.clearSelection=function(){this.getSelectedTiles().forEach(function(a){return a.unselect()})};TileProcess.prototype.deleteSelection=function(){var a=this.getSelectedTiles();if(!a.length)return Promise.resolve();a.forEach(function(a){return a.unmountAndDestroy()});return this.getTab().autosaveAndRender()};
TileProcess.prototype.copySelection=function(a){a=this._copySelection(a);if(!a)return Promise.resolve();this.getApp().logMessageBray("@div Items copied");return Promise.resolve(a)};TileProcess.prototype._copySelection=function(a){var b=this.getApp(),c=b.getWillowProgram();if(b.terminalHasFocus()||c.someInputHasFocus())return"";b=this.selectionToString();if(!b)return"";c.setCopyData(a,b);return b};TileProcess.prototype.selectAll=function(){this.getProcessTiles().forEach(function(a){return a.selectTile()})};
TileProcess.prototype.getFirstSelectedTile=function(){return this.getSelectedTiles()[0]};TileProcess.prototype.selectFirstTile=function(){var a=this.getProcessTiles()[0];a&&a.selectTile()};TileProcess.prototype.selectNext=function(){for(var a=this.getFirstSelectedTile().getNext();!a.getBase().startsWith(">");)a=this.getFirstSelectedTile().getNext();this.clearSelection();a.selectTile();return Promise.resolve()};TileProcess.prototype.selectionToString=function(){return this.getSelectedTiles().map(function(a){return a.toString()}).join("\n")};
TileProcess.prototype.cutSelection=function(a){a=this._copySelection(a);if(!a)return Promise.resolve();this.deleteSelection();this.getApp().logMessageBray("@div Items cut");return Promise.resolve(a)};TileProcess.prototype.selectPrevious=function(){for(var a=this.getFirstSelectedTile().getPrevious();!a.getBase().startsWith(">");)a=this.getFirstSelectedTile().getPrevious();this.clearSelection();a.selectTile();return Promise.resolve()};
TileProcess.prototype.getOutputBinder=function(){this._outputBinder||(this._outputBinder=new Binder(this));return this._outputBinder};TileProcess.prototype.getProcessTiles=function(){return this.getTopDownArray().filter(function(a){return a instanceof AbstractTileChisel})};TileProcess.prototype.getProcessRootTiles=function(){return this.getChildrenByNodeType(AbstractTileChisel)};
TileProcess.prototype.duplicateSelection=function(){var a=this.getSelectedTiles().map(function(a){return a.cloneAndOffset()}),b=this.getTab().autosaveAndRender();this.clearSelection();a.forEach(function(a){return a.selectTile()});return b};TileProcess.prototype._loadTileCode=function(a,b){this.getParent();var c=b.getTileCache();if(!c[a]){var d=this.getDictionary().getDefinitionByName(a);c[a]=this.loadTileCodeOrGetLoadingPromise(b,d)}return c[a]};
TileProcess.prototype._loadTileCss=function(a,b){(b=b.findBeam(DictionaryConstants.cssScript))&&a.getWillowProgram().getBodyStump().insertChildNode(b.split(" ").map(function(a){return"@link\n rel stylesheet\n media screen\n href "+a}).join("\n"))};TileProcess.prototype._getLongestLoadTime=function(){return this.getProcessTiles().map(function(a){return a.getTTL()}).sort().reverse()[0]};TileProcess.prototype.getHierarchyForLayout=function(){return{node:this,children:this.getProcessTiles().map(function(a){return a.getHierarchyForLayout()})}};
TileProcess.prototype.isProcess=function(){return!0};TileProcess.prototype._getLongestRenderTime=function(){return this.getProcessTiles().map(function(a){return a.getNewestTimeToRender()}).sort().reverse()[0]};TileProcess.prototype.getProcessStats=function(){var a={tiles:this.getProcessTiles().length,etn:this.getDictionary().getExtensionName(),url:this.getTab().getFileName()};a.timeToLoad=this._getLongestLoadTime();a.timeToRender=this._getLongestRenderTime();return a};
TileProcess.prototype.loadTileCodeOrGetLoadingPromise=function(a,b){this._loadTileCss(a,b);var c=this._getDefinitionTileClass(b);b=b.findBeam(DictionaryConstants.script);return a.getWillowProgram().appendScript(b).then(function(){return c.loadCode()})};
TileProcess.prototype._getDefinitionTileClass=function(a){if(a._class)return a._class;var b=(a.findBeam(DictionaryConstants.tileClass)||"AbstractTileChisel /aientist/client/base/tiles/AbstractTileChisel.js").split(" "),c=b[0],d=b[1],e="undefined"!==typeof require,b=e?process:window;e&&!b[c]&&(d=require(d),b[d.name]=d);a._class=b[c];return a._class};window.TileProcess=TileProcess;var AbstractCard=function(a,b){a=void 0===a?{}:a;this._puid=this._getUniqueId();this._sourceObject=a;this._binder=b};
AbstractCard.prototype._getUniqueId=function(){void 0===AbstractCard._uniqueId&&(AbstractCard._uniqueId=0);AbstractCard._uniqueId++;return AbstractCard._uniqueId};AbstractCard.prototype.destroy=function(){};AbstractCard.prototype._getCardBinder=function(){return this._binder};AbstractCard.prototype.getCardApp=function(){return this.getCardTile().getApp()};AbstractCard.prototype.getCardTile=function(){return this._getCardBinder().getBinderOwner()};AbstractCard.prototype.destroyCard=function(){return Promise.resolve()};
AbstractCard.prototype.getCardSourceAsObject=function(){return this.getCardSource()};AbstractCard.prototype.getAsArray=function(a){var b=this.getCardNumeric();return a.map(function(a){return b[a]})};AbstractCard.prototype.getCardSource=function(){return this._sourceObject};
AbstractCard.prototype._parseNumeric=function(){var a=this,b=this._getCardBinder().getColumnsMap(),c={};Object.keys(b).forEach(function(d){var e=b[d],f=a.getCardValue(d);void 0===f&&(f="");c[d]=""===f?"":e.getColumnTypeObj().fromStringToNumeric(f)});return c};AbstractCard.prototype.getCardNumeric=function(){this._numeric||(this._numeric=this._parseNumeric());return this._numeric};AbstractCard.prototype.getCardKeys=function(){return Object.keys(this.getCardSource())};
AbstractCard.prototype.getFirstValue=function(){return this.getCardValue(this.getCardKeys()[0])};AbstractCard.prototype.getCardValue=function(a){a=this.getCardSource()[a];return null===a?"":a};AbstractCard.prototype.setCardValue=function(a,b){this.getCardSource()[a]=b;return this};AbstractCard.prototype.reloadFromStr=function(a){var b=this.getCardSource();Object.keys(b).forEach(function(a){return delete b[a]});var c=JSON.parse(a);Object.keys(c).forEach(function(a){return b[a]=c[a]})};
AbstractCard.prototype.deleteFromCard=function(a){delete this.getCardSource()[a];return this};AbstractCard.prototype.getPuid=function(){return this._puid};AbstractCard.prototype.renameCardCol=function(a,b){var c=this.getCardSource();c[b]=c[a];delete c[a];return this};AbstractCard.prototype.cardToString=function(){return JSON.stringify(this.getCardSource(),null,2)};window.AbstractCard=AbstractCard;
var Binder=function(a,b,c,d){a=void 0===a?new TreeProgram:a;b=void 0===b?[]:b;c=void 0===c?[]:c;d=void 0===d?AbstractCard:d;var e=this;this._parentNode=a;this._cards=b.map(function(a){return a instanceof AbstractCard?a:new d(a,e)});var f={};this._columnsMap=f;this._getDetectedColumns().concat(c).forEach(function(a){var b=e._getColumnTextVector(a.name);f[a.name]=new Column(a,b)});this._ctime=this.getBinderOwner()._getNow();this._addRanks()};
Binder.prototype.getAutoColumn=function(a){var b=this.getColumnsArray();a=a.split(",");var c=a.filter(function(a){return a.includes("=")}).map(function(a){return a.split("=")}),d=function(a){return c.every(function(b){return void 0!==a[b[0]]&&a[b[0]]().toString()===b[1]})},b=b.filter(function(a){return d(a)}),e=a.find(function(a){return!a.includes("=")});e&&(b=lodash.sortBy(b,function(a){return a[e]()}).reverse());if(b.length)return b[0].getColumnName()};Binder.prototype.getCards=function(){return this._cards};
Binder.prototype.getFirstColumnAsString=function(){return this.getCards().map(function(a){return a.getFirstValue()}).join("")};Binder.prototype._getColumnTextVector=function(a){return this.getCards().map(function(b){return b.getCardValue(a)})};Binder.prototype.getColumnNumericVector=function(a){return this.getCards().map(function(b){return b.getCardNumeric()[a]})};
Binder.prototype._getUnionSample=function(){var a={};this.getSampleSet().forEach(function(b){b.getCardKeys().forEach(function(c){if(c){var d=a[c];if(void 0===d||""===d)a[c]=b.getCardValue(c)}})});return a};Binder.prototype.getColumnsByImportance=function(){var a=this.getColumnsArray();a.sort(Util.sortByAccessor(function(a){return a.getRank()}));return a};Binder.prototype.getSampleSet=function(){this._sampleSet||(this._sampleSet=lodash.sampleSize(this.getCards(),30));return this._sampleSet};
Binder.prototype.getCardCount=function(){return this.getCards().length};Binder.prototype.getCardSources=function(){return this.getCards().map(function(a){return a.getCardSource()})};Binder.prototype.getColumnNames=function(){return Object.keys(this.getColumnsMap())};Binder.prototype.getColumnsMap=function(){return this._columnsMap};Binder.prototype.getCTime=function(){return this._ctime};Binder.prototype.getColumnsArray=function(){return Object.values(this.getColumnsMap())};
Binder.prototype.getColumnsArrayOfObjects=function(){return this.getColumnsArray().map(function(a){return a.toObject()})};Binder.prototype.getNumericValues=function(){return this.getCards().map(function(a){return a.getCardNumeric()})};Binder.prototype.getBinderColumnByName=function(a){return this.getColumnsMap()[a]};Binder.prototype._getDetectedColumns=function(){var a=this.getColumnsMap();return Object.keys(this._getUnionSample()).map(function(a){return a.trim()}).filter(function(a){return a}).filter(function(b){return!a[b]}).map(function(a){return{name:a}})};
Binder.prototype.getBinderOwner=function(){return this._parentNode};Binder.prototype.getCardTypeName=function(){return"Card"};Binder.prototype.toTypeScriptInterface=function(){var a=this.getColumnsArray().map(function(a){return"  "+a.getColumnName()+": "+a.getColumnTypeName()+";"}).join("\n");return"interface "+this.getCardTypeName()+" {\n"+a+"\n}"};Binder.prototype.getSortedCards=function(a){if(!a)return this.getCards();var b=this.getCards().map(function(a){return a});Util.sortByFast(b,a);return b};
Binder.prototype.getSortedCardsWithLimit=function(a,b){return this.getSortedCards(a).slice(0,b)};Binder.prototype.toDelimited=function(a){return(new TreeProgram(this.getCardSources())).toDelimited(a,this.getColumnNames())};
Binder.prototype._addRanks=function(){var a=this.getColumnsMap(),b=Object.keys(a).map(function(b){return a[b]});b.sort(function(a,b){if(a.getTitlePotential()>b.getTitlePotential())return-1;if(b.getTitlePotential()>a.getTitlePotential())return 1;if(.5<a.getBlankPercentage()||.5<b.getBlankPercentage()){if(a.getBlankPercentage()>b.getBlankPercentage())return 1;if(b.getBlankPercentage()>a.getBlankPercentage())return-1}return a.isTemporal()&&!b.isTemporal()?-1:!a.isTemporal()&&b.isTemporal()||a.isLink()&&
!b.isLink()?1:!a.isLink()&&b.isLink()?-1:a.isString()&&!b.isString()?1:!a.isString()&&b.isString()?-1:a.isString()&&b.isString()?4<a.getEntropy()&&8>a.getEntropy()&&a.getEntropy()>b.getEntropy()?-1:a.getEstimatedTextLength()>b.getEstimatedTextLength()?1:-1:0});b.forEach(function(a,b){a.setRank(b)});return this};window.Binder=Binder;var AbstractCardParser=function(){};AbstractCardParser.prototype.getProbForCardSpecimen=function(){return 0};
AbstractCardParser.prototype.isNodeJs=function(){return"undefined"!==typeof exports};var AbstractTreeCardParser=function(a){AbstractCardParser.apply(this,arguments)};$jscomp.inherits(AbstractTreeCardParser,AbstractCardParser);AbstractTreeCardParser.prototype.parse=function(a){return this.parseTrees(a).getChildren().filter(function(a){return a.length}).map(function(a){return a.toObject()})};var DelimitedParser=function(a){AbstractTreeCardParser.apply(this,arguments)};
$jscomp.inherits(DelimitedParser,AbstractTreeCardParser);DelimitedParser.prototype.getExample=function(){return"john~12~50\nmary~13~43"};DelimitedParser.prototype.parseTrees=function(a,b,c,d){return TreeProgram.fromDelimited(a,b,c,d)};DelimitedParser.prototype.getFormatName=function(){return"delimited"};var CsvParser=function(a){AbstractTreeCardParser.apply(this,arguments)};$jscomp.inherits(CsvParser,AbstractTreeCardParser);CsvParser.prototype.getExample=function(){return"name,age,height\njohn,12,50"};
CsvParser.prototype.parseTrees=function(a){return TreeProgram.fromCsv(a)};CsvParser.prototype.getProbForCardSpecimen=function(a){return a.firstLineCommaCount?a.blankLineCount?.05:.49:0};CsvParser.prototype.getFormatName=function(){return"csv"};var TsvParser=function(a){AbstractTreeCardParser.apply(this,arguments)};$jscomp.inherits(TsvParser,AbstractTreeCardParser);TsvParser.prototype.getExample=function(){return"name\tage\theight\njohn\t12\t50"};TsvParser.prototype.parseTrees=function(a){return TreeProgram.fromTsv(a)};
TsvParser.prototype.getProbForCardSpecimen=function(a){return a.firstLineTabCount?5<a.tabCount?.9:.25:0};TsvParser.prototype.getFormatName=function(){return"tsv"};var PsvParser=function(a){AbstractTreeCardParser.apply(this,arguments)};$jscomp.inherits(PsvParser,AbstractTreeCardParser);PsvParser.prototype.getFormatName=function(){return"psv"};PsvParser.prototype.getExample=function(){return"name|age\nmike|33"};PsvParser.prototype.parseTrees=function(a){return TreeProgram.fromDelimited(a,"|")};
PsvParser.prototype.getProbForCardSpecimen=function(a){return a.firstLineVerticalBarCount?a.verticalBarCount>=a.lineCount?.8:.01:0};var SsvParser=function(a){AbstractTreeCardParser.apply(this,arguments)};$jscomp.inherits(SsvParser,AbstractTreeCardParser);SsvParser.prototype.getExample=function(){return"name age height\njohn 12 50"};SsvParser.prototype.getFormatName=function(){return"ssv"};SsvParser.prototype.parseTrees=function(a){return TreeProgram.fromSsv(a)};
SsvParser.prototype.getProbForCardSpecimen=function(a){return a.firstLineSpaceCount?a.blankLineCount?.05:.11:0};var XmlParser=function(a){AbstractTreeCardParser.apply(this,arguments)};$jscomp.inherits(XmlParser,AbstractTreeCardParser);XmlParser.prototype.getProbForCardSpecimen=function(a){return a.trimmedStr.match(/^ *\</)?1:0};XmlParser.prototype.getExample=function(){return"<person>\n <name>bob</name><age>32</age></person>"};XmlParser.prototype.getFormatName=function(){return"xml"};
XmlParser.prototype.parseTrees=function(a){return this.isNodeJs()?new TreeProgram(a):TreeProgram.fromXml(a)};var HtmlParser=function(a){AbstractTreeCardParser.apply(this,arguments)};$jscomp.inherits(HtmlParser,AbstractTreeCardParser);HtmlParser.prototype.getProbForCardSpecimen=function(a){return a.trimmedStr.match(/^(\<\!doctype html\>|\<html|\<div)/i)?1:0};HtmlParser.prototype.getExample=function(){return"<!doctype html>\n<html>\n <head>bam</head></html>"};HtmlParser.prototype.getFormatName=function(){return"html"};
HtmlParser.prototype.parseTrees=function(a){return this.isNodeJs()?new TreeProgram(a):TreeProgram.fromXml(a)};var SpacedParser=function(a){AbstractCardParser.apply(this,arguments)};$jscomp.inherits(SpacedParser,AbstractCardParser);SpacedParser.prototype.getExample=function(){return"name john\nage 12\n\nname mary\nage 20"};SpacedParser.prototype.getFormatName=function(){return"spaced"};SpacedParser.prototype.getProbForCardSpecimen=function(a){return 10<a.blankLineCount?.95:.05};
SpacedParser.prototype.parse=function(a){var b=a.indexOf("\n\n"),c=a.substr(0,b).split(/\n/g),d=a.substr(b+2).replace(/\n\n/g,"\n").trim().split("\n");a=c.length;for(var b=d.length,e=[],c=c.map(function(a){return a.replace(/ /g,"")}),f={lineNumber:0};f.lineNumber<b;f={obj:f.obj,lineNumber:f.lineNumber},f.lineNumber+=a)f.obj={},c.forEach(function(a){return function(b,c){a.obj[b]=d[a.lineNumber+c].trim()}}(f)),e.push(f.obj);return e};var TreeParser=function(a){AbstractTreeCardParser.apply(this,arguments)};
$jscomp.inherits(TreeParser,AbstractTreeCardParser);TreeParser.prototype.getExample=function(){return"person\n name john\n age 12\n height 50"};TreeParser.prototype.parseTrees=function(a){a=a instanceof TreeProgram?a:new TreeProgram(a);var b=a.getChildren().filter(function(a){return a.getBeam()}).length,c=a.getChildren().filter(function(a){return 0===a.length}).length;if(!b&&!c)return a;b=new TreeProgram;b.pushBeamAndChildren(void 0,a);return b};
TreeParser.prototype.getProbForCardSpecimen=function(a){return 1>a.indentedLineCount?0:.1};TreeParser.prototype.getFormatName=function(){return"tree"};var SectionsParser=function(a){AbstractCardParser.apply(this,arguments)};$jscomp.inherits(SectionsParser,AbstractCardParser);SectionsParser.prototype.getExample=function(){return"name\nage\n\njohn\n12\n\nmary\n20"};SectionsParser.prototype.getFormatName=function(){return"sections"};
SectionsParser.prototype.parse=function(a){var b=a.indexOf("\n\n"),c=[a.slice(0,b),a.slice(b+1)];a=c.shift().split(/\n/g);for(var b=a.length,c=c[0].trim().split(/\n/g),d=c.length/b,e=[],f={},g=0;g<d;f={obj:f.obj,values:f.values},g++){var h=g*b;f.values=c.slice(h,h+b);f.obj={};a.forEach(function(a){return function(b,c){return a.obj[b]=a.values[c]}}(f));e.push(f.obj)}return e};var ListParser=function(a){AbstractCardParser.apply(this,arguments)};$jscomp.inherits(ListParser,AbstractCardParser);
ListParser.prototype.getExample=function(){return"john doe\nfrank jones"};ListParser.prototype.getFormatName=function(){return"list"};ListParser.prototype.parse=function(a){return a.split(/\n/g).map(function(a,c){return{index:c,name:a}})};var TextParser=function(a){AbstractCardParser.apply(this,arguments)};$jscomp.inherits(TextParser,AbstractCardParser);TextParser.prototype.getFormatName=function(){return"text"};TextParser.prototype.getExample=function(){return"hello world"};
TextParser.prototype.getProbForCardSpecimen=function(a){return a.blankLineCount?.12:.05};TextParser.prototype.parse=function(a){return[{text:a}]};var AbstractJsonParser=function(a){AbstractCardParser.apply(this,arguments)};$jscomp.inherits(AbstractJsonParser,AbstractCardParser);AbstractJsonParser.prototype.getFormatName=function(){return"json"};AbstractJsonParser.prototype.getExample=function(){return JSON.stringify([{name:"joe",age:2},{name:"mike",age:4}])};
AbstractJsonParser.prototype.parse=function(a){a=JSON.parse(a);return a instanceof Array?a:[a]};var JsonParser=function(a){AbstractJsonParser.apply(this,arguments)};$jscomp.inherits(JsonParser,AbstractJsonParser);var AbstractJsonArrayParser=function(a){AbstractJsonParser.apply(this,arguments)};$jscomp.inherits(AbstractJsonArrayParser,AbstractJsonParser);AbstractJsonArrayParser.prototype.getExample=function(){return JSON.stringify([{name:"jane",age:33},{name:"bill",age:25}])};
AbstractJsonArrayParser.prototype.getProbForCardSpecimen=function(a){a=a.trimmedStr;return a.match(/^\s*\[/)&&a.match(/\]\s*$/)?.99:0};var JsonArrayParser=function(a){AbstractJsonArrayParser.apply(this,arguments)};$jscomp.inherits(JsonArrayParser,AbstractJsonArrayParser);var AbstractJsonObjectParser=function(a){AbstractJsonParser.apply(this,arguments)};$jscomp.inherits(AbstractJsonObjectParser,AbstractJsonParser);
AbstractJsonObjectParser.prototype.getProbForCardSpecimen=function(a){a=a.trimmedStr;return a.match(/^\s*\{/)&&a.match(/\}\s*$/)?.99:0};var JsonObjectParser=function(a){AbstractJsonObjectParser.apply(this,arguments)};$jscomp.inherits(JsonObjectParser,AbstractJsonObjectParser);var JsonMapParser=function(a){AbstractJsonObjectParser.apply(this,arguments)};$jscomp.inherits(JsonMapParser,AbstractJsonObjectParser);
JsonMapParser.prototype.getExample=function(){return JSON.stringify({person1:{name:"joe",age:2},person2:{name:"mike",age:4}})};JsonMapParser.prototype.getFormatName=function(){return"jsonMap"};JsonMapParser.prototype.parse=function(a){return Object.values(JSON.parse(a))};var JsonVectorParser=function(a){AbstractJsonArrayParser.apply(this,arguments)};$jscomp.inherits(JsonVectorParser,AbstractJsonArrayParser);JsonVectorParser.prototype.getExample=function(){return JSON.stringify([23,32,41])};
JsonVectorParser.prototype.getFormatName=function(){return"jsonVector"};JsonVectorParser.prototype.getProbForCardSpecimen=function(a){a=a.trimmedStr;try{var b=JSON.parse(a);return b instanceof Array?0===b.filter(function(a){return a&&"object"===typeof a&&a.hasOwnProperty}).length:0}catch(c){}return 0};JsonVectorParser.prototype.parse=function(a){return JSON.parse(a).map(function(a){return{value:a}})};var JsonCountMapParser=function(a){AbstractJsonObjectParser.apply(this,arguments)};
$jscomp.inherits(JsonCountMapParser,AbstractJsonObjectParser);JsonCountMapParser.prototype.getFormatName=function(){return"jsonCounts"};JsonCountMapParser.prototype.getProbForCardSpecimen=function(a){a=a.trimmedStr;try{var b=JSON.parse(a),c=Object.keys(b);return 2>c.length?0:c.some(function(a){return"number"!==typeof b[a]})?0:1}catch(d){}return 0};JsonCountMapParser.prototype.getExample=function(){return JSON.stringify({h1:10,h2:5,h3:2})};
JsonCountMapParser.prototype.parse=function(a){var b=JSON.parse(a);return Object.keys(b).map(function(a){return{name:a,count:b[a]}})};
var CardParser=function(){var a=this;this._parsers=[new CsvParser,new TsvParser,new SsvParser,new PsvParser,new TextParser,new TreeParser,new XmlParser,new HtmlParser,new SectionsParser,new SpacedParser,new ListParser,new JsonParser,new JsonArrayParser,new JsonVectorParser,new JsonMapParser,new JsonCountMapParser];this._parserMap={};this._parsers.forEach(function(b){var c=b.getFormatName();c&&(a._parserMap[c]=b)})};CardParser.prototype.getAllParsers=function(){return this._getParsersArray()};
CardParser.prototype.getEncodingNames=function(){return Object.keys(this._getParserMap())};CardParser.prototype.getExample=function(a){return this._getParser(a).getExample()};CardParser.prototype._getParser=function(a){var b=this._getParserMap();return b[a]||b.text};CardParser.prototype._getParserMap=function(){return this._parserMap};CardParser.prototype._getParsersArray=function(){return this._parsers};
CardParser.prototype.parseFromObject=function(a,b){return a instanceof Array?"object"===typeof a[0]?a:a.map(function(a){return"object"===typeof a?a:{value:a}}):"jsonMap"===b?Object.values(a):[a]};CardParser.prototype.parse=function(a,b){a=(void 0===a?"":a).trim();if(!a)return[];b=b||this.inferEncoding(a);return this._getParser(b).parse(a)};
CardParser.prototype.getProbabilities=function(a){var b=this._getParsersArray(),c={};a=new CardStringSpecimen(a);for(var d=0;d<b.length;d++){var e=b[d],f=e.getProbForCardSpecimen(a),e=e.getFormatName();if(1===f)return b={},b[e]=1,b;c[e]=f}return c};CardParser.prototype.inferEncoding=function(a){a=this.getProbabilities(a);var b=0,c=null,d;for(d in a)a[d]>b&&(b=a[d],c=d);return c};window.CardParser=CardParser;
var CardStringSpecimen=function(a){a=a.trim();var b=a.split(/\n/g),c=b[0],d=function(a,b){return(a.match(b)||[]).length};this.trimmedStr=a;this.lines=b;this.firstLine=c;this.lineCount=b.length;this.indentedLineCount=d(a,/\n /g);this.blankLineCount=d(a,/\n\n/g);this.commaCount=d(a,/\,/g);this.tabCount=d(a,/\t/g);this.verticalBarCount=d(a,/\|/g);this.firstLineCommaCount=d(c,/\,/g);this.firstLineTabCount=d(c,/\t/g);this.firstLineSpaceCount=d(c,/ /g);this.firstLineVerticalBarCount=d(c,/\|/g)};
window.CardStringSpecimen=CardStringSpecimen;var ObjectBackedCard=function(a){AbstractCard.apply(this,arguments)};$jscomp.inherits(ObjectBackedCard,AbstractCard);ObjectBackedCard._uniqueId=AbstractCard._uniqueId;window.ObjectBackedCard=ObjectBackedCard;var PivotTable=function(a,b,c){this._cards=a;var d={};b.forEach(function(a){return d[a.name]=a});c.forEach(function(a){return d[a.name]=a});this._columns=d};
PivotTable.prototype._getGroups=function(a,b){var c=new Map;a.forEach(function(a){var d=b.map(function(b){return a[b].toString().replace(/ /g,"")}).join(" ");c.has(d)||c.set(d,[]);c.get(d).push(a)});return c};
PivotTable.prototype.getNewCards=function(a){var b=this,c=this._getGroups(this._cards,a),d=[{name:"count",type:"number",min:0}];a.forEach(function(a){return d.push(b._columns[a])});var e=Object.values(this._columns).filter(function(a){return!!a.reduction});e.forEach(function(a){return d.push(a)});for(var f=[],g={},c=$jscomp.makeIterator(c),h=c.next();!h.done;g={newCard:g.newCard,firstCard:g.firstCard,group:g.group},h=c.next())h=$jscomp.makeIterator(h.value),h.next(),g.group=h.next().value,g.firstCard=
g.group[0],g.newCard={},a.forEach(function(a){return function(b){a.newCard[b]=a.firstCard?a.firstCard[b]:0}}(g)),g.newCard.count=g.group.length,e.forEach(function(a){return function(b){var c=b.name,d=a.group.map(function(a){return a[c]}).filter(function(a){return"number"===typeof a&&!isNaN(a)});b=b.reduction;var e=a.firstCard[c];"sum"===b&&(e=d.reduce(function(a,b){return a+b},0));"avg"===b&&(e=d.reduce(function(a,b){return a+b},0)/d.length);a.newCard[c]=e}}(g)),f.push(g.newCard);return{cards:f,columns:d}};
window.PivotTable=PivotTable;
var TableSpecimen=function(a,b){this.colCount=a.length;this.cardCount=b.length;this.primaryKey=this.timeseries=!1;this.nounType="thing";this.nounClasses="someGeneralThing someMoreSpecificThing";this.hasNominalCol=this.hasDateCol=this.hasNumericCol=!1;this.cardNounType="";this.hasSubNounColumn=!1;this.subNounColumns=[];this.correlationMatrx=[];this.mostImportantColumns=[];this.hasSlice=this.hasFrequencyColumn=this.hasRankColumn=this.isOrderImportant=!1;this.cohesivity=1;this.isPair=!1};
window.TableSpecimen=TableSpecimen;var TreeBackedCard=function(a,b){a=void 0===a?new TreeProgram:a;AbstractCard.call(this,a,b)};$jscomp.inherits(TreeBackedCard,AbstractCard);TreeBackedCard._uniqueId=AbstractCard._uniqueId;TreeBackedCard.prototype.getCardId=function(){return this.getCardSource().getBase()};TreeBackedCard.prototype.destroy=function(){this.getCardSource().destroy();return AbstractCard.prototype.destroy.call(this)};TreeBackedCard.prototype.getCardSourceAsObject=function(){return this.getCardSource().toObject()};
TreeBackedCard.prototype.renameCardCol=function(a,b){return this.getCardSource().rename(a,b)};TreeBackedCard.prototype.reloadFromStr=function(a){return this.getCardSource().setChildren(a)};TreeBackedCard.prototype.setCardValue=function(a,b){this.getCardSource().touchNode(a).setBeam(b);return this};TreeBackedCard.prototype.getCardKeys=function(){return this.getCardSource().getBases()};TreeBackedCard.prototype.deleteFromCard=function(a){return this.getCardSource().delete(a)};
TreeBackedCard.prototype.cardToString=function(){return this.getCardSource().childrenToString()};TreeBackedCard.prototype.getCardValue=function(a){return this.getCardSource().findBeam(a)||""};window.TreeBackedCard=TreeBackedCard;var AbstractDropDownMenuChisel=function(a){return AbstractChisel.apply(this,arguments)||this};$jscomp.inherits(AbstractDropDownMenuChisel,AbstractChisel);AbstractDropDownMenuChisel._mountedChisels=AbstractChisel._mountedChisels;
AbstractDropDownMenuChisel.prototype.getHakon=function(){var a=this.getTheme();return"\n.subdued\n color "+a.midGray+"\n\n.dropdownMenu\n min-width 200px\n position absolute\n top 0\n left 0\n z-index 100\n padding 7px 0\n background "+a.contextMenuBackground+"\n border 1px solid "+a.borderColor+"\n box-shadow 0 1px 3px 0 "+a.boxShadow+"\n .message\n  line-height 30px\n  padding 0 10px\n a\n  color "+a.foregroundColor+"\n  display block\n  line-height 30px\n  padding 0 10px\n  &:hover\n   background "+
a.hoverBackground+"\n   color "+a.white};AbstractDropDownMenuChisel.prototype.chiselDidMount=function(){var a=this.getApp(),b=a.getWillowProgram().getBodyStump().getShadow(),c=function(){b.offShadowEvent(WillowShadowEvents.click,c);a.getCommander().closeAllDropDownMenusCommand()};setTimeout(function(){return b.onShadowEvent(WillowShadowEvents.click,c)},100)};
AbstractDropDownMenuChisel.prototype.getBray=function(){var a=this.getDropDownBray(),b=this.getAnchorId();return"@div\n style top: 30px; left: "+this.getParent().getStump().findStumpByChild("id "+b).getShadow().getShadowPosition().left+"px;\n class dropdownMenu"+TreeProgram.nest(a,1)};window.AbstractDropDownMenuChisel=AbstractDropDownMenuChisel;var BasicTerminalChisel=function(a){return AbstractChisel.apply(this,arguments)||this};$jscomp.inherits(BasicTerminalChisel,AbstractChisel);
BasicTerminalChisel._mountedChisels=AbstractChisel._mountedChisels;BasicTerminalChisel.prototype.getHakon=function(){return".sourceTextarea\n height "+this._getHeight()+"px"};BasicTerminalChisel.prototype.getCommander=function(){return new TerminalCommander(this)};BasicTerminalChisel.prototype._getProgramSource=function(){var a=this._getTab();return a?a.getTabProcess().childrenToString():""};BasicTerminalChisel.prototype._getProgram=function(){var a=this._getTab();return a&&a.getTabProgram()};
BasicTerminalChisel.prototype._getTab=function(){return this.getApp().getMountedTab()};BasicTerminalChisel.prototype.getBray=function(){var a=this._getProgramSource()||"";return"@div\n style font-size: 14px;\n @textarea\n  class sourceTextarea\n  bern"+TreeProgram.nest(a,3)};BasicTerminalChisel.prototype._getHeight=function(){return 600};BasicTerminalChisel.prototype._getTextarea=function(){return this.getStump().getNode("@textarea").getShadow().getShadowElement()};
BasicTerminalChisel.prototype._makeProgram=function(a){var b=new TreeProgram(this.getCode()),c=this._getProgram().constructor;a=b.getTopDownArray()[a];return new c(a.toString())};BasicTerminalChisel.prototype._updateConsole=function(){this.getParent().getChildren()[1].render()};
BasicTerminalChisel.prototype.getDependencyTimestamps=function(){var a=this.getParent().getGutterDependencies(),b=this._getTab();(b=b&&b.getTabProcess())&&this._getProgramSource()!==this.getCode()&&a.push(b.getTreeMTime());a.push(this.getParent().getParent().getMTime());b=this.getParent().getParent().getMTime();a.push(b);return a};BasicTerminalChisel.prototype.updateHtml=function(){};BasicTerminalChisel.prototype.getCode=function(){return""};
BasicTerminalChisel.prototype.hasChanges=function(){var a=this._getProgram();return a&&this.getCode()!==a.childrenToString()};BasicTerminalChisel.prototype.hasFocus=function(){return!1};BasicTerminalChisel.prototype._makeFullProgram=function(){var a=this.getCode();return new (this._getProgram().constructor)(a,void 0,this.getApp())};window.BasicTerminalChisel=BasicTerminalChisel;var CodeMirrorTerminalChisel=function(a){return BasicTerminalChisel.apply(this,arguments)||this};
$jscomp.inherits(CodeMirrorTerminalChisel,BasicTerminalChisel);CodeMirrorTerminalChisel._mountedChisels=BasicTerminalChisel._mountedChisels;CodeMirrorTerminalChisel.prototype.getCode=function(){return this._getCodeMirror().getValue()};CodeMirrorTerminalChisel.prototype._getCodeMirror=function(){return this._codeMirror};CodeMirrorTerminalChisel.prototype.hasFocus=function(){var a=this._getCodeMirror();return a&&a.hasFocus()};
CodeMirrorTerminalChisel.prototype.chiselDidMount=function(){this._loadCodeMirror();BasicTerminalChisel.prototype.chiselDidMount.call(this)};CodeMirrorTerminalChisel.prototype.chiselDidUpdate=function(){var a=this._getCodeMirror();a&&a.setValue(this._getProgramSource());BasicTerminalChisel.prototype.chiselDidUpdate.call(this)};
CodeMirrorTerminalChisel.prototype._getKeyMap=function(){var a=this,b=this._getCodeMirror(),c=this.getCommander();return{"Cmd-Enter":function(){var a=b.listSelections()[0].head.line;c.executeLineCommand(a)},"Shift-Cmd-Enter":function(){var a=b.listSelections()[0].head.line;c.compileLineCommand(a)},"Cmd-\\":function(){a.getApp().getCommander().clearTabMessagesCommand()},"Cmd-S":function(){c.saveChangesCommand();a._updateConsole()}}};
CodeMirrorTerminalChisel.prototype._getAutoCompleteFn=function(){var a=this;return function(b,c){return new Promise(function(c){setTimeout(function(){for(var d=b.getCursor(),f=b.getLine(d.line),g=d.ch,h=d.ch;g&&/[^\s]/.test(f.charAt(g-1));)--g;for(;h<f.length&&/[^\s]/.test(f.charAt(h));)++h;f=f.slice(g,h).toLowerCase();f=a._makeFullProgram().getAutocompleteWords(f);d=f.length?{list:f,from:CodeMirror.Pos(d.line,g),to:CodeMirror.Pos(d.line,h)}:null;return c(d)},100)})}};
CodeMirrorTerminalChisel.prototype._loadCodeMirror=function(){var a=this.getCommander(),b={lineNumbers:!0,tabSize:1,indentUnit:1,extraKeys:{"Ctrl-Space":"autocomplete"},hintOptions:{hint:this._getAutoCompleteFn()}};this._codeMirror=b=CodeMirror.fromTextArea(this._getTextarea(),b);b.setSize(void 0,this._getHeight());b.on("gutterClick",function(b,d,e,f){a.executeLineCommand(d)});b.on("blur",function(){a.saveChangesCommand()});b.addKeyMap(this._getKeyMap())};window.CodeMirrorTerminalChisel=CodeMirrorTerminalChisel;
var ConsoleChisel=function(a){return AbstractChisel.apply(this,arguments)||this};$jscomp.inherits(ConsoleChisel,AbstractChisel);ConsoleChisel._mountedChisels=AbstractChisel._mountedChisels;ConsoleChisel.prototype._getConsoleOutput=function(){var a=this._getMessageBuffer().getChildren().map(function(a){return a.childrenToString()});a.reverse();return a.join("\n")};ConsoleChisel.prototype.getHakon=function(){return".consoleOutput\n height 400px\n overflow scroll"};
ConsoleChisel.prototype._getMessageBuffer=function(){var a=this.getApp(),b=a.getMountedTab();return b?b.getMessageBuffer():a.getMessageBuffer()};ConsoleChisel.prototype.getDependencyTimestamps=function(){var a=this.getParent().getGutterDependencies(),b=this._getMessageBuffer();b.length?a.push(b.nodeAt(-1).getMTime()):a.push(this._getNow());a.push(this.getParent().getParent().getMTime());return a};
ConsoleChisel.prototype.getBray=function(){var a=this._getConsoleOutput();return"@div\n class consoleOutput"+TreeProgram.nest(a,1)};window.ConsoleChisel=ConsoleChisel;var GutterChisel=function(a){return AbstractChisel.apply(this,arguments)||this};$jscomp.inherits(GutterChisel,AbstractChisel);GutterChisel._mountedChisels=AbstractChisel._mountedChisels;GutterChisel.prototype.getNodeTypes=function(){return{console:ConsoleChisel,terminal:this.isNodeJs()?BasicTerminalChisel:CodeMirrorTerminalChisel}};
GutterChisel.prototype.getHakon=function(){var a=this.getTheme(),b=this.getGutterWidth();return AbstractChisel.prototype.getHakon.call(this)+"\n.Gutter\n width "+b+"px\n left 0\n background "+a.backgroundColor+"\n border-color "+a.borderColor+"\n position absolute\n border-right-width 1px\n border-right-style solid\n box-sizing border-box\n top 0\n bottom 0\n padding 20px"};GutterChisel.prototype.getGutterDependencies=function(){return[this.getParent().getNode("tabs").getMTime()]};
GutterChisel.prototype.getBray=function(){return"@div\n class Gutter"};GutterChisel.prototype.getGutterWidth=function(){return 400};window.GutterChisel=GutterChisel;var MenuChisel=function(a){return AbstractChisel.apply(this,arguments)||this};$jscomp.inherits(MenuChisel,AbstractChisel);MenuChisel._mountedChisels=AbstractChisel._mountedChisels;MenuChisel.prototype.getNodeTypes=function(){return{newDropDownMenu:NewDropDownMenuChisel}};
MenuChisel.prototype.getHakon=function(){var a=this.getTheme();return".MenuChisel\n "+a.disableTextSelect(1)+"\n font-size 14px\n padding-left 5px\n box-sizing border-box\n right 0\n left 0\n position relative\n height 30px\n z-index 92\n white-space nowrap\n background "+a.menuBackground+"\n color "+a.darkBlack+"\n display flex\n >a\n  padding-right 5px\n  line-height 30px\n  display inline-block\n  color "+a.menuChiselColor};
MenuChisel.prototype.getBray=function(){return"@div\n class MenuChisel "+this.constructor.name+"\n @a ohayo\n  data-onClickCommand app toggleHelpCommand\n @a New \u25be\n  id newToggle\n  data-onClickCommand app toggleAndRenderNewDropDownCommand"};window.MenuChisel=MenuChisel;var NewDropDownMenuChisel=function(a){return AbstractDropDownMenuChisel.apply(this,arguments)||this};$jscomp.inherits(NewDropDownMenuChisel,AbstractDropDownMenuChisel);NewDropDownMenuChisel._mountedChisels=AbstractDropDownMenuChisel._mountedChisels;
NewDropDownMenuChisel.prototype.getDropDownBray=function(){return this.getApp().getMountedTab()?"@a New Flow Program\n data-onClickCommand app createNewBlankProgramCommand\n value untitled.flow\n@a New Fire Program\n data-onClickCommand app createNewBlankProgramCommand\n value untitled.fire\n@a New Turtle Program\n data-onClickCommand app createNewBlankProgramCommand\n value untitled.turtle\n@a New Rusty Program\n data-onClickCommand app createNewBlankProgramCommand\n value untitled.rusty\n@a New From Url\n data-onClickCommand app openCreateNewProgramFromUrlDialogCommand\n@div\n class divider\n@a Clone Program\n data-onClickCommand app cloneTabCommand":
"@a New Flow Program\n data-onClickCommand app createNewBlankProgramCommand\n value untitled.flow\n@a New Fire Program\n data-onClickCommand app createNewBlankProgramCommand\n value untitled.fire\n@a New Turtle Program\n data-onClickCommand app createNewBlankProgramCommand\n value untitled.turtle\n@a New Rusty Program\n data-onClickCommand app createNewBlankProgramCommand\n value untitled.rusty\n@a New From Url\n data-onClickCommand app openCreateNewProgramFromUrlDialogCommand"};
NewDropDownMenuChisel.prototype.getAnchorId=function(){return"newToggle"};window.NewDropDownMenuChisel=NewDropDownMenuChisel;var OhayoAppChisel=function(a){return AbstractChisel.apply(this,arguments)||this};$jscomp.inherits(OhayoAppChisel,AbstractChisel);OhayoAppChisel._mountedChisels=AbstractChisel._mountedChisels;
OhayoAppChisel.prototype.chiselWillMount=function(){var a=this;this._startVisitCounter();this._commander=new AppCommander(this);var b=this.getFromStore(StorageKeys.appState)||this._getDefaultState();this.concat(b);var c=this,d=this.getFocusedPanel(),e=d.getBeam();d.getTabs().forEach(function(a){a._executeFetchTab().then(function(){a.getUrl()===e&&(d.setMountedTab(a),c.renderApp())})});this._setBodyShadowHandlers();this._makeProgramLinksOpenImmediately();this._makeDocumentCopyableAndCuttable();this._bindKeyboardShortcuts();
var f=c.getWillowProgram();f.setResizeEndHandler(function(a){c.renderApp()});f.setPasteHandler(function(a){if(c.terminalHasFocus()||f.someInputHasFocus())return!0;a.clipboardData&&a.clipboardData.getData&&c.getCommander().pasteCommand(a.clipboardData.getData("text/plain"))});f.setLoadedDroppedFileHandler(function(b){a.getCommander().createProgramFromFileCommand(b.filename,b.data)},"Drop to create a new program.");this._setErrorHandlers();this.logMessageBray("@div Ohayo dear user!");1===this._getVisitCount()&&
this.getCommander().playFirstVisitCommand()};OhayoAppChisel.prototype.terminalHasFocus=function(){var a=this.getFocusedPanel().getNode("gutter terminal");return a&&a.hasFocus()};OhayoAppChisel.prototype.getCommander=function(){return this._commander};OhayoAppChisel.prototype._getDefaultState=function(){return"theme glass\nmenu\npanel\n tabs\n gutter\n  terminal\n  console"};OhayoAppChisel.prototype.saveAppState=function(){this.storeValue(StorageKeys.appState,this.toString())};
OhayoAppChisel.prototype.registerETN=function(a,b){this.getETNs()[a]=b;return this};OhayoAppChisel.prototype.executeCommandLine=function(a){this.addToCommandLog(a.join(" "));return this.getCommander()[a[0]].apply(this,a.slice(1))};OhayoAppChisel.prototype.getProgramClass=function(a){return this.getETNs()[a]||FlowProgram};
OhayoAppChisel.prototype.getETNs=function(){this._etns||(this._etns={},this.registerETN("flow",FlowProgram),this.registerETN("fire",FireProgram),this.registerETN("turtle",TurtleProgram),this.registerETN("rusty",RustyProgram));return this._etns};OhayoAppChisel.prototype.getTargetNode=function(){return this._targetNode};OhayoAppChisel.prototype.setTargetNode=function(a){this._targetNode=a;return this};
OhayoAppChisel.prototype.getWillowProgram=function(){this._willowBrowser||(this._willowBrowser="undefined"===typeof jQuery?new WillowProgram("http://localhost:8000/"):new WillowBrowserProgram(""));return this._willowBrowser};OhayoAppChisel.prototype.getVersion=function(){return Version};OhayoAppChisel.prototype._startVisitCounter=function(){var a=this._getVisitCount();a++;this.setVisitCount(a)};OhayoAppChisel.prototype.setVisitCount=function(a){this.storeValue(StorageKeys.visitCount,a)};
OhayoAppChisel.prototype._getVisitCount=function(){var a=this.getFromStore(StorageKeys.visitCount);return a?parseInt(a):0};OhayoAppChisel.prototype.getTileCache=function(){this._tileCache||(this._tileCache={});return this._tileCache};OhayoAppChisel.prototype.getNodeTypes=function(){return{theme:ThemeChisel,menu:MenuChisel,panel:PanelChisel,tabContextMenu:TabContextMenuChisel,tileContextMenu:TileContextMenuChisel,helpModal:HelpModal}};OhayoAppChisel.prototype.getHakon=function(){return".OhayoAppChisel\n height 100%\n width 100%"};
OhayoAppChisel.prototype.goRed=function(a){a=this.getMountedTab();this.logMessageBray("@div error on tab: "+(a?a.getUrl():"")+".")};OhayoAppChisel.prototype.reportUncaughtError=function(a){if("undefined"===typeof ga)return Promise.resolve();ga("send","event","UncaughtError",error.name);return Promise.resolve()};OhayoAppChisel.prototype._setErrorHandlers=function(){var a=this;this.getWillowProgram().setErrorHandler(function(b,c,d){a.reportUncaughtError(b);a.goRed();console.error(b)})};
OhayoAppChisel.prototype.closeModal=function(){this.getOpenModals().forEach(function(a){return a.unmountAndDestroy()})};OhayoAppChisel.prototype.getOpenModals=function(){return this.getChildren().filter(function(a){return a instanceof AbstractModalChisel})};OhayoAppChisel.prototype.closeAllContextMenus=function(){this.getChildren().filter(function(a){return a instanceof AbstractContextMenuChisel}).forEach(function(a){return a.unmountAndDestroy()})};
OhayoAppChisel.prototype.renderApp=function(){this.render(this.getWillowProgram().getBodyStump());return this};OhayoAppChisel.prototype._appendTiles=function(a,b){return this.getNodeCursors().map(function(c){return c.append(a,b)})};OhayoAppChisel.prototype.getNodeCursors=function(){var a=this.getMountedProcess(),b=a.getSelectedTiles();return b.length?b:[a]};
OhayoAppChisel.prototype._openOhayoProgram=function(a){var b=this,c=this.getFocusedPanel(),d=c.getOpenTabByUrl(a);return d?(c.setMountedTab(d),Promise.resolve()):this.getFolder().exists(a).then(function(c){var d=(new TreeProgram(DemoTemplates)).getNode(a).childrenToString();return c?b.openUrlInNewTabAndFocus(a):b._createAndOpen(d,a)})};
OhayoAppChisel.prototype.createFile=function(a,b){var c=this.getFolder();a=Format.permalink(a);return c.getAvailablePermalink(a).then(function(a){return c.writeFile(a,b).then(function(){return a})})};OhayoAppChisel.prototype._createAndOpen=function(a,b){var c=this;return this.createFile(b,a).then(function(a){return c.openUrlInNewTabAndFocus(a)})};OhayoAppChisel.prototype.getFocusedPanel=function(){return this.getNode("panel")};OhayoAppChisel.prototype.getMountedTab=function(){return this.getFocusedPanel().getMountedTab()};
OhayoAppChisel.prototype.getMountedProcess=function(){var a=this.getMountedTab();return a&&a.getTabProcess()};OhayoAppChisel.prototype.getMenuChisel=function(){return this.getNode("menu")};OhayoAppChisel.prototype.openManyPrompt=function(){var a=this;return this.getWillowProgram().promptThen("Enter a regex to open multiple matching files","").then(function(b){if(b)return a.getCommander().openManyCommand(b)})};OhayoAppChisel.prototype._openUrlInNewTab=function(a){return this.getFocusedPanel().getTabOrOpenUrlInNewTab(a)};
OhayoAppChisel.prototype.openUrlInNewTabAndFocus=function(a){var b=this;return this._openUrlInNewTab(a).then(function(a){b.getFocusedPanel().setMountedTab(a);b.renderApp();return a})};OhayoAppChisel.prototype.isAutoSaveEnabled=function(){return"false"!==this.getFromStore(StorageKeys.autoSave)};
OhayoAppChisel.prototype.getLanguageBestGuess=function(a){var b=this.getETNs(),b=Object.values(b).map(function(b){return(new b(a)).getErrorCount()});b.sort(Util.sortByAccessor(function(a){return a.errorCount}));return b[0].name};OhayoAppChisel.prototype.generateProgram=function(a,b){return new (this.getProgramClass(b))(a)};OhayoAppChisel.prototype._getThemeName=function(){return this.findBeam("theme")};OhayoAppChisel.prototype.getTheme=function(){return Themes[this._getThemeName()]||Themes.glass};
OhayoAppChisel.prototype._toggleTheme=function(){var a=Util.toggle(this._getThemeName(),Object.keys(Themes));this.logMessageBray("@div Switched to "+a+" theme");this.getNode("theme").setBeam(a);this.makeAllDirty();this.saveAppState();this.renderApp();return Promise.resolve()};
OhayoAppChisel.prototype.promptToRenameFile=function(a,b){var c=this;return this.getWillowProgram().promptThen("Enter new name for file",b||a).then(function(b){return b&&b!==a?(b=Format.permalink(b))?c.getCommander().renameFileCommand(a,b).then(function(a){c.logMessageBray("@div Renamed");return a}):Promise.resolve():Promise.resolve()})};OhayoAppChisel.prototype.getKeyboardShortcuts=function(){this._shortcuts||(this._shortcuts=new DrumsProgram(OhayoAppDrums));return this._shortcuts};
OhayoAppChisel.prototype._getMousetrap=function(){return this.getWillowProgram().getMousetrap()};
OhayoAppChisel.prototype._bindKeyboardShortcuts=function(){var a=this._getMousetrap(),b=this.getWillowProgram();a._originalStopCallback=a.prototype.stopCallback;a.prototype.stopCallback=function(c,e,f){var d=b.getStumpFromElement(e);return d&&"command+s"===f&&d.stumpHasClass("savable")?(d.getShadow().triggerShadowEvent(WillowShadowEvents.change),c.preventDefault(),!0):a._pause?!0:a._originalStopCallback.call(this,c,e)};var c=this;this.getKeyboardShortcuts().getChildren().forEach(function(b){a.bind(b.getKeyCombo(),
function(a){b.execute(c);a.preventDefault&&a.preventDefault();return!1})})};OhayoAppChisel.prototype.pauseShortcutListener=function(){this._getMousetrap()._pause=!0};OhayoAppChisel.prototype.resumeShortcutListener=function(){this._getMousetrap()._pause=!1};OhayoAppChisel.prototype.getStore=function(){return this.getWillowProgram().getStore()};
OhayoAppChisel.prototype.getStoreKeys=function(){var a=this.constructor.name,b=a.length,c=[];this.getStore().each(function(d,e){e.startsWith(a)&&c.push(e.substr(b))});return c};OhayoAppChisel.prototype.getFromStore=function(a){return this.getStore().get(this.constructor.name+a)};OhayoAppChisel.prototype.storeValue=function(a,b){return this.getStore().set(this.constructor.name+a,b)};OhayoAppChisel.prototype.removeValue=function(a){return this.getStore().remove(this.constructor.name+a)};
OhayoAppChisel.prototype._makeDocumentCopyableAndCuttable=function(){var a=this;a.getWillowProgram().setCopyHandler(function(b){return a.getCommander().copySelectionCommand(b)}).setCutHandler(function(b){return a.getCommander().cutSelectionCommand(b)})};OhayoAppChisel.prototype._handleLinkClick=function(a,b){var c=a.getStumpAttr("href");if(c&&!a.getStumpAttr("target")&&(b.preventDefault(),this.getWillowProgram().isExternalLink(c)))return this.openExternalLink(c),!1};
OhayoAppChisel.prototype.openExternalLink=function(a){this.getWillowProgram().openUrl(a)};OhayoAppChisel.prototype.getAppWall=function(){return this.getFocusedPanel().getNode("tabs").getWall()};OhayoAppChisel.prototype.getRenderedTilesDiagnostic=function(){return this.getMountedProcess().getProcessTiles().filter(function(a){return a.isMounted()})};OhayoAppChisel.prototype.getMountedTilesDiagnostic=function(){return lodash.flatten(this.getFocusedPanel().getNode("tabs").getOpenTabs().map(function(a){return a.getTabProcess().getProcessTiles().filter(function(a){return a.isMounted()})}))};
OhayoAppChisel.prototype._createProgramFromPaste=function(a){return this._createAndOpen(a,"untitled.flow")};OhayoAppChisel.prototype.setMouseEvent=function(a){this._mouseEvent=a;return this};OhayoAppChisel.prototype.getMouseEvent=function(){return this._mouseEvent||this.getWillowProgram().getMockMouseEvent()};OhayoAppChisel.prototype.getFolder=function(){this._folder||this._initFolder();return this._folder};
OhayoAppChisel.prototype._initFolder=function(){this._folder=(this.isNodeJs()?0:this.getWillowProgram().isLocalHost())?new ServerStorageFolder(this):new LocalStorageFolder(this)};OhayoAppChisel.prototype.getStumpString=function(){return this.getWillowProgram().getHtmlStump().toString()};
OhayoAppChisel.prototype._makeProgramLinksOpenImmediately=function(){var a=this,b=this.getWillowProgram();b.getBodyStump().getShadow().onShadowEvent(WillowShadowEvents.click,"a",function(c){a._handleLinkClick(b.getStumpFromElement(this),c)})};
OhayoAppChisel.prototype._getCommandArguments=function(a){var b=a.getShadow(),b=a.isStumpCheckbox()?b.isShadowChecked()?!0:!1:a.getStumpAttr("contenteditable")?b.getShadowHtml():b.getShadowValue()?b.getShadowValue():a.getStumpAttr("value");a=a.getStumpAttr("name");return{uno:b,dos:a}};
OhayoAppChisel.prototype._executeStumpCommand=function(a,b){var c=this.getCommander(),d=a.getStumpChisel();a=this._getCommandArguments(a);this.addToCommandLog([b,a.uno,a.dos].filter(function(a){return a}).join(" "));this.closeAllContextMenus();c.closeAllDropDownMenusCommand();var e=b.split(" ");b=e.shift();var e=e.shift(),f;"tile"===b?f=d.getTargetTile().getCommander():"context"===b?f=app.getTargetNode().getCommander():"app"===b?f=c:"chisel"===b&&(f=d.getCommander());return f[e](a.uno,a.dos)};
OhayoAppChisel.prototype._executeStumpCommandByStumpChild=function(a,b){b=this.getWillowProgram().findStumpByChild(b);return this._executeStumpCommand(b,b.getStumpAttr(a))};OhayoAppChisel.prototype._executeStumpCommandByStumpString=function(a,b){b=this.getWillowProgram().findStumpByChildString(b);return this._executeStumpCommand(b,b.getStumpAttr(a))};
OhayoAppChisel.prototype._setBodyShadowHandlers=function(){var a=this,b=this.getWillowProgram(),c=b.getBodyStump().getShadow(),d=function(c,d,g){c=b.getStumpFromElement(c);g.preventDefault();g.stopImmediatePropagation();a._executeStumpCommand(c,c.getStumpAttr(d));return!1};c.onShadowEvent(WillowShadowEvents.contextmenu,"[data-onContextMenuCommand]",function(b){if(b.ctrlKey)return!0;a.setMouseEvent(b);return d(this,"data-onContextMenuCommand",b)});c.onShadowEvent(WillowShadowEvents.change,"[data-onChangeCommand]",
function(a){return d(this,"data-onChangeCommand",a)});c.onShadowEvent(WillowShadowEvents.blur,"[data-onBlurCommand]",function(a){return d(this,"data-onBlurCommand",a)});c.onShadowEvent(WillowShadowEvents.click,"[data-onClickCommand]",function(a){return d(this,"data-onClickCommand",a)});c.onShadowEvent(WillowShadowEvents.dblclick,"[data-onDblClickCommand]",function(b){if(b.target!==b.currentTarget)return!0;a.setMouseEvent(b);return d(this,"data-onDblClickCommand",b)})};window.OhayoAppChisel=OhayoAppChisel;
var OhayoAppDrums="panel new createNewBlankProgramCommand ctrl+n New Flow Program\nmounted new cloneTabCommand ctrl+shift+n Clone program\npanel new createMiniMapCommand shift+m Mini Map\nmounted new createNewFlowVisProgramCommand shift+v Flow Code Editor\nmounted file saveTabAndNotifyCommand command+s Save Program\nmounted file showTabRenamePromptCommand ctrl+shift+r Rename File\nmounted file typeCheckProgramCommand shift+c Type Check Program\nmounted file showDeleteFileConfirmDialogCommand shift+backspace Delete Program\npanel file openDeleteAllTabsPromptCommand command+shift+d Delete all open programs\nmounted navigation closeMountedProgramCommand ctrl+w Close focused tab\npanel navigation closeAllTabsCommand ctrl+shift+w Close all tabs\nmounted navigation mountPreviousTabCommand shift+left Previous tab\nmounted navigation mountNextTabCommand shift+right Next tab\npanel navigation openUrlPromptCommand shift+o Open program from url\npanel navigation openManyPrompt command+shift+o Open multiple programs from regex\nmounted selection selectAllCommand command+a Select All\nmounted selection selectNextCommand shift+down Select next\nmounted selection selectPreviousCommand shift+up Select previous\nmounted selection deleteSelectionCommand backspace Delete Selection\nmounted selection duplicateSelectionCommand command+d Duplicate Selection\npanel window toggleThemeCommand shift+t Toggle Theme\npanel window toggleGutterCommand shift+u Toggle Source Editor Gutter\npanel window toggleFullScreenCommand shift+f Toggle Full Screen\npanel window toggleFocusedModeCommand command+shift+f Toggle Focused Mode\npanel window closeModalCommand escape Close any open modal\nmounted window clearTabMessagesCommand command+\\ Clear tab messages\npanel window toggleAutoSaveCommand shift+s Toggle autosave\nmounted window fetchAndReloadFocusedTabCommand shift+r Re-download and refresh tab\nmounted code saveCompiledCommand command+b Save compiled code\nmounted code executeProgramCommand shift+e Execute Code\nmounted edit toggleLayoutCommand shift+l Toggle layout\nmounted edit undoFocusedProgramCommand command+z Undo\nmounted edit redoFocusedProgramCommand command+shift+z Redo\npanel ohayo toggleHelpCommand ? Help\npanel test runSpeedTestCommand ctrl+shift+m";
window.OhayoAppDrums=OhayoAppDrums;var PanelChisel=function(a){return AbstractChisel.apply(this,arguments)||this};$jscomp.inherits(PanelChisel,AbstractChisel);PanelChisel._mountedChisels=AbstractChisel._mountedChisels;PanelChisel.prototype.getNodeTypes=function(a){return{tabs:TabsChisel,gutter:GutterChisel}};
PanelChisel.prototype.getHakon=function(){var a=this.getParent().getMenuChisel()?"30":"0";this.getTheme();return".PanelChisel\n left 0\n position relative\n right 0\n bottom 0\n height calc(100% - "+a+"px)"};PanelChisel.prototype.getGutterWidth=function(){var a=this.getChildrenByNodeType(GutterChisel)[0];return a?a.getGutterWidth():0};PanelChisel.prototype.mountTabByIndex=function(a){this.setMountedTab(this.getTabs()[a]);this.getApp().renderApp();return this};PanelChisel.prototype.getMountedTab=function(){return this._getMountedTab()};
PanelChisel.prototype._getMountedTab=function(){return this._focusedTab};PanelChisel.prototype.getOpenTabByUrl=function(a){return this.getTabs().find(function(b){return b.getUrl()===a})};PanelChisel.prototype.setMountedTab=function(a){var b=this._getMountedTab();if(b===a)return this;b&&this._getTabsNode().removeWall();this._focusedTab=a;this.setBeam(a.getUrl());this._getTabsNode().addWall(a.getWallType());this._updateLocationForRestoreOnRefresh();return this};PanelChisel.prototype._getTabsNode=function(){return this.getNode("tabs")};
PanelChisel.prototype.getTabOrOpenUrlInNewTab=function(a){var b=this,c=this.getOpenTabByUrl(a);return c?Promise.resolve(c):this._getTabsNode().addTab(a)._executeFetchTab().then(function(a){b.getApp().renderApp();return a})};PanelChisel.prototype.closeTabByIndex=function(a){return this.closeTab(this.getTabs()[a])};
PanelChisel.prototype.closeTab=function(a){if(a.isMounted()){var b=a.getNextOrPrevious(this.getTabs());this._getTabsNode().removeWall();a.unmountAndDestroy();delete this._focusedTab;b?this.setMountedTab(b):this.setBeam()}else a.destroy();this._updateLocationForRestoreOnRefresh()};PanelChisel.prototype._updateLocationForRestoreOnRefresh=function(){this.getApp().saveAppState()};PanelChisel.prototype.closeAllTabs=function(){var a=this;this._getTabsNode().getOpenTabs().forEach(function(b){a.closeTab(b)})};
PanelChisel.prototype.mountPreviousTab=function(){var a=this.getTabs(),b=this._getMountedTab();if(2>a.length||!b)return this;b=a.indexOf(b);return this.mountTabByIndex(0===b?a.length-1:b-1)};PanelChisel.prototype.mountNextTab=function(){var a=this.getTabs(),b=this._getMountedTab();if(2>a.length||!b)return this;b=a.indexOf(b);return this.mountTabByIndex(b===a.length-1?0:b+1)};PanelChisel.prototype.getTabs=function(){return this._getTabsNode().getOpenTabs()};window.PanelChisel=PanelChisel;
var TabChisel=function(a){return AbstractChisel.apply(this,arguments)||this};$jscomp.inherits(TabChisel,AbstractChisel);TabChisel._mountedChisels=AbstractChisel._mountedChisels;
TabChisel.prototype.getBray=function(a){var b=this.getUrl(),c=this.getParent().getParent().getBeam()===b;return"@a "+b+"\n data-onClickCommand app mountTabByIndexCommand\n collapseNode true\n value "+a+"\n class TabStub "+(c?"mountedTab":"")+"\n @span x\n  collapseNode true\n  data-onClickCommand app closeTabByIndexCommand\n  value "+a+"\n  class closeTabButton"};TabChisel.prototype.getWallType=function(){return this.getDictionary().getWallType()};TabChisel.prototype.getDependencyTimestamps=function(){return[this.getParent().getParent().getMTime()]};
TabChisel.prototype.getContextMenuCommandsBray=function(){return"@a Save Program\n data-onClickCommand app saveTabAndNotifyCommand\n@a Rename program\n data-onClickCommand app showTabRenamePromptCommand\n@a Delete program\n data-onClickCommand app showDeleteFileConfirmDialogCommand\n@a Log process stats\n data-onClickCommand app printProcessStatsCommand\n@a Save compiled '"+this.getDictionary().getTargetExtension()+"' file\n tabindex -1\n data-onClickCommand app saveCompiledCommand"};
TabChisel.prototype.getDictionary=function(){return this.getTabProgram().getDictionary()};TabChisel.prototype.autosaveAndRender=function(){var a=this.autosaveTab();this.getApp().renderApp();return a};
TabChisel.prototype.autosaveTab=function(){var a=this,b=this.getTabProcess().childrenToString(),c=this._getTopUndoVersion();if(b===c)return Promise.resolve();this._recordChange(b);var d=this.getApp();return d.isAutoSaveEnabled()?this.forceSaveToFile().then(function(){a.logMessageBray("@div Saved "+a.getUrl());var b=d.getNode("panel gutter console");b&&b.render()}):Promise.resolve()};
TabChisel.prototype.forceSaveToFile=function(){var a=this.getTabProcess().childrenToString();this._setDiskVersion(a);return this.getFolder().writeFile(this.getFileName(),a)};TabChisel.prototype.redo=function(){var a=this._getUndoStack(),b=this._getRedoStack();if(!b.length)return Promise.resolve();a.push(b.pop());return this._reloadFromUndoTop()};TabChisel.prototype.hasUnsavedChanges=function(){return this.getTabProcess().childrenToString()!==this._getDiskVersion()};
TabChisel.prototype.undo=function(){var a=this._getUndoStack(),b=this._getRedoStack();if(1===a.length)return Promise.resolve();b.push(a.pop());return this._reloadFromUndoTop()};TabChisel.prototype.getFolder=function(){return this.getApp().getFolder()};TabChisel.prototype.getUrl=function(){return this.getWord(1)};TabChisel.prototype.getFileName=function(){return Util.getFileName(this.getUrl())};TabChisel.prototype._getDiskVersion=function(){return this._diskVersion};
TabChisel.prototype._setDiskVersion=function(a){this._diskVersion=a;return this};TabChisel.prototype._clearRedoStack=function(){var a=this._getRedoStack();a.splice(0,a.length)};TabChisel.prototype._getUndoStack=function(){this._undoStack||(this._undoStack=[]);return this._undoStack};TabChisel.prototype._getRedoStack=function(){this._redoStack||(this._redoStack=[]);return this._redoStack};TabChisel.prototype._getTopUndoVersion=function(){var a=this._getUndoStack();return a[a.length-1]};
TabChisel.prototype._getProgramClass=function(){return this.getApp().getProgramClass(Util.getFileExtension(this.getUrl()))};TabChisel.prototype.getTabProcess=function(){return this._tileProcess};TabChisel.prototype.getTabProgram=function(){return this._program};TabChisel.prototype.getTabWall=function(){return this.getParent().getWall()};
TabChisel.prototype.appendFromPaste=function(a){var b=this,c=this.getTabProcess(),d=c.concat(a).filter(function(a){return a instanceof AbstractTileChisel});this.logMessageBray("@div Pasted "+d.length+" nodes");this.autosaveTab();c.clearSelection();this.getTabWall().unmount();return c.run().then(function(){b.getApp().renderApp();d.forEach(function(a){return a.selectTile()})})};
TabChisel.prototype._reloadFromUndoTop=function(){var a=this;this.getTabWall().unmount();var b=this.getTabProcess();b.setChildren(this._getTopUndoVersion());return b.run().then(function(){a.getApp().renderApp()})};TabChisel.prototype._recordChange=function(a){this._clearRedoStack();this._getUndoStack().push(a)};TabChisel.prototype._initProcess=function(a){var b=this;this._program=new (this._getProgramClass())(a);this._tileProcess=new TileProcess(a,void 0,this);return this._tileProcess.run().then(function(){return b})};
TabChisel.prototype.autosaveAndReloadWith=function(a){var b=this;this.getTabProcess().setChildren(a);this.autosaveTab();this.getTabWall().unmount();return this._initProcess(a).then(function(){b.getApp().renderApp()})};TabChisel.prototype.reloadFromDisk=function(){var a=this;return this.getFolder().readFile(this.getUrl()).then(function(b){return a.autosaveAndReloadWith(b)})};
TabChisel.prototype._executeFetchTab=function(){var a=this;return this.getFolder().readFile(this.getUrl()).then(function(b){a._setDiskVersion(b);a._getUndoStack().push(b);return a._initProcess(b)})};window.TabChisel=TabChisel;var TabsChisel=function(a){return AbstractChisel.apply(this,arguments)||this};$jscomp.inherits(TabsChisel,AbstractChisel);TabsChisel._mountedChisels=AbstractChisel._mountedChisels;TabsChisel.prototype.getNodeTypes=function(){return{tab:TabChisel,wall:WallChisel,flex:WallFlexChisel}};
TabsChisel.prototype.removeWall=function(){var a=this.getWall();a&&a.unmountAndDestroy()};TabsChisel.prototype.getOpenTabs=function(){return this.getChildrenByNodeType(TabChisel)};TabsChisel.prototype.getWall=function(){return this.getNode("wall")||this.getNode("flex")};TabsChisel.prototype.addWall=function(a){a=void 0===a?"wall":a;this.removeWall();return this.append(a)};TabsChisel.prototype.addTab=function(a){return this.getWall()?this.insert("tab "+a,void 0,-1):this.append("tab "+a)};
TabsChisel.prototype.getGutterWidth=function(){return this.getParent().getGutterWidth()};
TabsChisel.prototype.getHakon=function(){var a=this.getTheme();return".TabsChisel\n left "+this.getGutterWidth()+"px\n position absolute\n.TabStub\n background "+a.tabBackground+"\n height 30px\n display inline-block\n box-sizing border-box\n position relative\n font-size 14px\n padding 0 20px\n color "+a.foregroundColor+"\n line-height 30px\n border-right 1px solid "+a.borderColor+"\n border-bottom 1px solid "+a.borderColor+"\n span\n  position absolute\n  top 10px\n  right 5px\n  display block\n  font-size 12px\n  line-height 10px\n  text-align center\n  opacity .25\n  &:hover\n   opacity 1\n &.mountedTab\n  background "+
a.activeTabColor+"\n  border-bottom 0"};window.TabsChisel=TabsChisel;var ThemeChisel=function(a){return AbstractChisel.apply(this,arguments)||this};$jscomp.inherits(ThemeChisel,AbstractChisel);ThemeChisel._mountedChisels=AbstractChisel._mountedChisels;ThemeChisel.prototype.getBray=function(){var a=this.getTheme();return"@style "+CodeMirrorCss+" .CodeMirror{background: transparent; color: "+a.bodyColor+";} .CodeMirror-gutters { background: transparent;}"};
ThemeChisel.prototype.getHakon=function(){var a=this.getTheme();return"html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,audio,video\n margin 0\n padding 0\n border 0\n font-size 100%\n font inherit\n vertical-align baseline\narticle,aside,figcaption,figure,footer,header,hgroup,menu,nav,section\n display block\nbody\n line-height 1.3\nol,ul\n list-style none\ntable\n border-collapse collapse\n border-spacing 0\n\nhtml,body\n width 100%\n height 100%\n margin 0\n padding 0\n font-family "+
a.fonts+"\n color "+a.bodyColor+"\n\nhtml\n background "+a.bodyBackground+"\n\ntable\n padding 0\n margin 0\n border-collapse collapse\n border-spacing 0\n table-layout fixed\n tr,td\n  padding 0\n  margin 0\n\n.ThemeChisel\n display none\n\nh1\n font-size 200%\n\nh2\n font-size 166%\n\nh3\n font-size 133%\n\nh4\n font-size 120%\n\np\n margin 1em 0\n\na\n cursor pointer\n text-decoration none\n color "+a.linkColor+"\n\n::-webkit-scrollbar\n display none\n\n.ui-resizable-handle\n position absolute\n font-size 0.1px\n display block\n -ms-touch-action none\n touch-action none\n\n.ui-resizable-disabled\n .ui-resizable-handle\n  display none\n\n.ui-resizable-autohide\n .ui-resizable-handle\n  display none\n\n.leftButton,.rightButton\n background transparent\n border 0\n\n.TileTextArea\n padding 5px\n width 100%\n height 100%\n box-sizing border-box\n outline 0\n border 0\n font-size 14px\n font-family "+
a.fonts+"\n resize none\n\n.rightButton\n float right\n\n.largeInput\n display block\n width 100%\n height 34px\n padding 6px 12px\n font-size 14px\n line-height 1.428571429\n vertical-align middle\n border-radius 4px\n box-sizing border-box\n color "+a.mediumBlack+"\n background "+a.backgroundColor+"\n border 1px solid "+a.greyish+"\n box-shadow inset 0 1px 1px "+a.boxShadow+"\n\ntextarea.largeInput\n height auto\n\n.dragOver\n opacity 0.5\n\n#dragOverHelp\n position absolute\n font-size 36px\n width 100%\n height 100%\n z-index 300\n display flex\n align-items center\n justify-content center\n top 0\n left 0\n\n.noTransition\n transition none\n\n.SVGIcon\n fill "+
a.foregroundColor+"\n cursor pointer\n\n.buttonPrimary\n border-radius 2px\n cursor pointer\n border none\n padding 15px 32px\n text-align center\n text-decoration none\n font-size 16px\n color white\n background "+a.successColor+"\n\n.divider\n background "+a.lineColor+"\n height 1px\n margin 10px 0\n width 100%\n\ninput,textarea\n background transparent\n color "+a.foregroundColor+"\n\n.TileChisel\n position absolute\n box-shadow "+a.tileShadow+"\n opacity "+a.tileOpacity+"\n background "+a.tileBackgroundColor+
"\n border 1px solid "+a.borderColor+"\n z-index 1\n "+a.disableTextSelect(1)+"\n .TilePencilButton\n  svg\n   opacity 0\n .ui-resizable-se\n  cursor se-resize\n  width 36px\n  height 36px\n  box-sizing border-box\n  right 1px\n  bottom 1px\n  opacity 0\n  border-right 4px solid "+a.darkerBackground+"\n  border-bottom 4px solid "+a.darkerBackground+"\n  &:hover\n   opacity 1\n &:hover\n  background "+a.backgroundColor+"\n  z-index 2\n  .ui-resizable-se\n   opacity .5\n  .TilePencilButton\n   svg\n    opacity 1\n    cursor pointer\n    fill "+
a.greyish+"\n    &:hover\n     fill "+a.foregroundColor+"\n .TilePage\n  overflow hidden\n  width 100%\n  height 100%\n  position relative\n .TileHeader,.TileFooter\n  font-size 12px\n  height 30px\n  line-height 30px\n  padding-left 5px\n .TileBody\n  padding 5px\n  width 100%\n  height calc(100% - 80px)\n  box-sizing border-box\n  &.HeaderLess\n   height calc(100% - 50px)\n .TileGrabber\n  width 100%\n  height 10px\n  cursor move\n .TileHeader\n  text-transform uppercase\n  text-align center\n  border-bottom 1px solid "+
a.borderColor+"\n .TileFooter\n  border-top 1px solid "+a.borderColor+"\n iframe\n  width 100%\n  height 100%\n  border 0"};window.ThemeChisel=ThemeChisel;var TileToolbarChisel=function(a){return AbstractChisel.apply(this,arguments)||this};$jscomp.inherits(TileToolbarChisel,AbstractChisel);TileToolbarChisel._mountedChisels=AbstractChisel._mountedChisels;
TileToolbarChisel.prototype.getHakon=function(){var a=this.getTheme();return".TileToolbarChisel\n background "+a.contextMenuBackground+"\n border 1px solid "+a.lineColor+"\n font-size 12px\n position absolute\n padding 8px\n z-index 991\n min-width 300px\n top 100%\n left 0\n cursor pointer\n svg\n  fill "+a.greyish+"\n  padding 1px 3px 3px 3px\n  &:hover\n   fill "+a.foregroundColor};TileToolbarChisel.prototype.getTargetTile=function(){return this.getParent()};
TileToolbarChisel.prototype.getBray=function(){var a=this._getFormBray();return"@div\n class TileToolbarChisel\n @span "+Icons("copy",20)+"\n  data-onClickCommand tile cloneTileCommand\n @span "+Icons("trash",20)+"\n  data-onClickCommand tile destroyTileCommand\n @span "+Icons("inspector",20)+"\n  data-onClickCommand tile inspectTileCommand"+TreeProgram.nest(a,1)};
TileToolbarChisel.prototype._getTileTypeDropdownBray=function(){var a=this.getTargetTile(),b=this.getApp().getMountedTab().getTabProgram().getDictionary().getSnapNodeNames();b.sort();var c=a.getBase();return"@select\n data-onChangeCommand tile changeTileTypeCommand\n @option\n"+b.map(function(a){return" @option "+a+"\n  value "+a+"\n  "+(c===a?"selected":"notselected")}).join("\n")};
TileToolbarChisel.prototype._getParentDropdownBray=function(){var a=this.getTargetTile(),b=a.getPathVector().join(" ");return"@select\n data-onChangeCommand tile changeParentCommand\n @option\n"+a.getTileProcess().getProcessTiles().map(function(a){return{name:a.getBasePath(),value:a.getPathVector().join(" ")}}).map(function(a){return" @option "+a.name+"\n  value "+a.value+"\n  "+(b===a.value?"selected":"notselected")}).join("\n")};
TileToolbarChisel.prototype._getFormBray=function(){var a=this.getTargetTile(),b=a.getStruct(),c=a.getDefinition().getDetails().map(function(c){var d=c.getDetailName();return[d,c.toFormBray(b[d]||"",a)]});c.unshift(["parent",this._getParentDropdownBray()]);c.unshift(["type",this._getTileTypeDropdownBray()]);return"@form\n @table\n"+c.map(function(a){return"  @tr\n   @td "+a[0]+"\n   @td"+TreeProgram.nest(a[1],4)}).join("\n")};window.TileToolbarChisel=TileToolbarChisel;var Version="4.2.1";
"undefined"!==typeof exports&&(module.exports=Version);var WallChisel=function(a){return AbstractChisel.apply(this,arguments)||this};$jscomp.inherits(WallChisel,AbstractChisel);WallChisel._mountedChisels=AbstractChisel._mountedChisels;
WallChisel.prototype.getHakon=function(){var a=this.getTheme();return".WallChisel\n background "+a.wallBackground+"\n display block\n position relative\n\n.ui-selectable-helper\n position absolute\n z-index 100\n border-radius 2px\n background "+a.selectionBackground+"\n\n.ui-selecting,.ui-selected,.StaySelected\n outline 3px solid "+a.selectedOutline};WallChisel.prototype.getMorphBlock=function(a){};WallChisel.prototype.getCommander=function(){return new WallCommander(this)};
WallChisel.prototype.selectTilesByShadowClass=function(a){a=void 0===a?"ui-selected":a;this.getApp().getWillowProgram().findStumpsByShadowClass(a).forEach(function(a){return a.getStumpChisel().selectTile()})};WallChisel.prototype.getWallDimension=function(){var a=this.getApp().getWillowProgram().getBodyStump().getShadow();return{width:a.getShadowWidth()-this.getParent().getGutterWidth(),height:a.getShadowHeight()}};WallChisel.prototype.chiselDidUpdate=function(){this._fixLargeBug()};
WallChisel.prototype._fixLargeBug=function(){var a={"min-height":"","min-width":"",width:"",height:""},b=this.getApp(),c=this.getStump(),d=c.getParent(),e=b.getWillowProgram(),f=e.getHtmlStump(),b=(b=b.getMenuChisel())&&b.getStump();c.setStumpCss(a);d.setStumpCss(a);f.setStumpCss(a);e.forceRepaint();e=e.getDocumentSize();b&&b.setStumpCss(a);f.setStumpCss(a);a=e.width;e=e.height;b&&b.setStumpCss({width:a});f.setStumpCss({"min-height":"100%","min-width":"100%",width:a,height:e});f={"min-height":e-60+
"px","min-width":a+"px"};d.setStumpCss(f);c.setStumpCss(f)};WallChisel.prototype.chiselDidMount=function(){this._makeSelectable();this._fixLargeBug()};WallChisel.prototype.getBray=function(){return"@div\n class WallChisel\n data-onContextMenuCommand chisel openWallContextMenuCommand\n data-onDblClickCommand app insertMorphTileCommand"};WallChisel.prototype._getSelectedTileStumps=function(){return this.getApp().getWillowProgram().findStumpsWithClass("ui-selected")};
WallChisel.prototype._makeSelectable=function(){var a=this.getApp(),b=this.getStump().getShadow(),c=a.getWillowProgram();b.onShadowEvent(WillowShadowEvents.click,function(a){a.target===b.getShadowElement()&&c.blurFocusedInput()});b.makeSelectable({cancel:".TileChisel",distance:10,filter:".TileChisel",start:function(b){b.shiftKey?c.findStumpsWithClass("ui-selected").forEach(function(a){return a.addClassToStump("StaySelected")}):a.getCommander().clearSelectionCommand()},stop:function(){c.findStumpsWithClass("StaySelected").forEach(function(a){return a.addClassToStump("ui-selected").removeClassFromStump("StaySelected")});
a.getCommander().selectTilesByShadowClassCommand();return!0}})};WallChisel.prototype._getChildChisels=function(){var a=this.getApp().getMountedProcess();return a?a.getChildrenByNodeType(AbstractChisel):[]};window.WallChisel=WallChisel;var WallFlexChisel=function(a){return WallChisel.apply(this,arguments)||this};$jscomp.inherits(WallFlexChisel,WallChisel);WallFlexChisel._mountedChisels=WallChisel._mountedChisels;
WallFlexChisel.prototype._resizeTiles=function(a){var b=this,c=this._getSelectedTileStumps();1<c.length?c.forEach(function(a){return b._resizeStump(a)}):this._resizeStump(a);this.getCommander().setLayoutToCustomCommand()};WallFlexChisel.prototype.getCommander=function(){return new WallFlexCommander(this)};
WallFlexChisel.prototype._resizeStump=function(a){var b=a.getStumpChisel();a=a.getShadow();var c=this.getGridSize(),b=b.getCommander();a=a.getPositionAndDimensions(c);b.changeDetailCommand(TileConstants.width,a.width);b.changeDetailCommand(TileConstants.height,a.height)};WallFlexChisel.prototype.getMorphBlock=function(a){return TileConstants.left+" "+Math.floor((a.offsetX-0)/20)+"\n"+TileConstants.top+" "+Math.floor(a.offsetY/20)};
WallFlexChisel.prototype._moveStump=function(a){var b=a.getStumpChisel();a=a.getShadow();var c=this.getGridSize();a=a.getPositionAndDimensions(c);b.getCommander().changeDetailCommand(TileConstants.left,a.left);b.getCommander().changeDetailCommand(TileConstants.top,a.top)};WallFlexChisel.prototype.getGridSize=function(){return 20};WallFlexChisel.prototype.chiselDidMount=function(){this._makeTilesMoveableAndResizableAndEditable();WallChisel.prototype.chiselDidMount.call(this)};
WallFlexChisel.prototype._tileMouseOverHandler=function(a){var b=a.getShadow();b.isShadowResizable()||this._makeShadowResizable(b);b.isShadowDraggable()||this._makeGroupDraggable(a)};WallFlexChisel.prototype._makeShadowResizable=function(a){var b=this.getGridSize(),c=this,d=this.getApp().getWillowProgram();a.makeResizable({handles:"se",grid:b,resize:function(a){a.stopPropagation();a.preventDefault();return!1},stop:function(a){return c._resizeTiles(d.getStumpFromElement(a.target))}})};
WallFlexChisel.prototype._makeTilesMoveableAndResizableAndEditable=function(){var a=this.getApp(),b=this;this.getStump().getShadow().onShadowEvent(WillowShadowEvents.mouseover,".TileChisel",function(){var c=a.getWillowProgram().getStumpFromElement(this);b._tileMouseOverHandler(c)})};
WallFlexChisel.prototype._updateSelectedOnMove=function(a,b){this._getSelectedTileStumps().filter(function(b){return b!==a}).forEach(function(a){var c=parseFloat(a.getStumpCss("top")),e=parseFloat(a.getStumpCss("left"));a.setStumpCss({transform:"",top:c+b.top+"px",left:e+b.left+"px"})})};WallFlexChisel.prototype._getElementChangeInPixels=function(a,b){return{left:a.offset.left-b.left,top:a.offset.top-b.top}};
WallFlexChisel.prototype._makeGroupDraggable=function(a){var b=a.getShadow(),c,d=this,e=this.getApp(),f=this.getGridSize(),f={stop:function(f,h){b.removeClassFromShadow("noTransition");b.setShadowAttr("data-translate","undefined undefined");f=d._getElementChangeInPixels(h,c);d._updateSelectedOnMove(a,f);c=h;e.getCommander().moveTilesFromShadowsCommand()},grid:[f,f],handle:".TileGrabber",drag:function(e,f){if(b.shadowHasClass("ui-selected")){var g=d._getElementChangeInPixels(f,c);d._getSelectedTileStumps().filter(function(b){return b!==
a}).forEach(function(a){return a.setStumpCss({transform:"translate("+g.left+"px, "+g.top+"px)"})})}},start:function(a,d){c=d.offset;b.addClassToShadow("noTransition");if(a=b.getShadowAttr("data-translate"))parseInt(a.split(" ")[0]),parseInt(a.split(" ")[1])}};b.addClassToShadow("draggable").makeDraggable(f)};window.WallFlexChisel=WallFlexChisel;var CodeMirrorCss=".CodeMirror{font-family:monospace;height:300px;color:#000}.CodeMirror-lines{padding:4px 0}.CodeMirror pre{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:0;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-animate-fat-cursor{width:auto;border:0;-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;background-color:#7e7}@-moz-keyframes blink{50%{background-color:transparent}}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:-20px;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:blue}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta{color:#555}.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error{color:red}.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0f0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#f22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-30px;margin-right:-30px;padding-bottom:30px;height:100%;outline:none;position:relative}.CodeMirror-sizer{position:relative;border-right:30px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-30px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;overflow:auto}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line > span::selection,.CodeMirror-line > span > span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line > span::-moz-selection,.CodeMirror-line > span > span::-moz-selection{background:#d7d4f0}.cm-searching{background:#ffa;background:rgba(255,255,0,.4)}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:''}span.CodeMirror-selectedtext{background:none}.CodeMirror-hints{position:absolute;z-index:10;overflow:hidden;list-style:none;margin:0;padding:2px;-webkit-box-shadow:2px 3px 5px rgba(0,0,0,.2);-moz-box-shadow:2px 3px 5px rgba(0,0,0,.2);box-shadow:2px 3px 5px rgba(0,0,0,.2);border-radius:3px;border:1px solid silver;background:#fff;font-size:90%;font-family:monospace;max-height:20em;overflow-y:auto}.CodeMirror-hint{margin:0;padding:0 4px;border-radius:2px;white-space:pre;color:#000;cursor:pointer}li.CodeMirror-hint-active{background:#08f;color:#fff}";
window.CodeMirrorCss=CodeMirrorCss;var Column=function(a,b){this._obj=a=void 0===a?{}:a;this._rawVector=b;this._sampleSet=lodash.sampleSize(b,30)};Column.getColumnTypes=function(){this._colTypes||(this._colTypes=new ColumnTypes);return this._colTypes};Column.prototype.getColumnName=function(){return this._obj.name};Column.prototype.isInvalidValue=function(a){return this.getColumnTypeObj().isInvalidValue(a)};
Column.prototype._getSample=function(){if(void 0===this._sample){var a=this._getSampleSet();this._sample=a.length?a[0]:""}return this._sample};Column.prototype._getObject=function(){return this._obj};Column.prototype.getColumnTypeObj=function(){this._type||(this._type=this._inferType());return this._type};Column.prototype.isNumericMS=function(){return this.getColumnTypeObj().isNumericMS()};Column.prototype.isInt=function(){return this.getColumnTypeObj().isInt()};Column.prototype.isTemporal=function(){return this.getColumnTypeObj().isTemporal()};
Column.prototype.toDisplayString=function(a){return this.getColumnTypeObj().toDisplayString(a,this.getFormat())};Column.prototype.isString=function(){return this.getColumnTypeObj().isString()};Column.prototype.isHash=function(){return this.isString()&&!1};Column.prototype.getEntropy=function(){if(void 0!==this._entropy)return this._entropy;var a={},b=1;this.getColumnName();this._getSampleSet().forEach(function(c){a[c]||(b++,a[c]=!0)});return this._entropy=b};
Column.prototype.isLink=function(){if(void 0!==this._isLink)return this._isLink;var a=this._getSample();this.isString()&&a&&a.match?this._isLink=a.match(/^(http\:|\/)/)?1:0:this._isLink=!1;return this._isLink};Column.prototype._getBinder=function(){return this._binder};Column.prototype._getSampleSet=function(){return this._sampleSet};Column.prototype.isUnique=function(){return this.getEntropy()-1===this._getSampleSet().length};Column.prototype.setRank=function(a){this._rank=a};
Column.prototype.getRank=function(){return this._rank};Column.prototype.getTitlePotential=function(){if(this._obj.title)return 1;if(void 0!==this._titlePotential)return this._titlePotential;var a={title:.99,name:.98,label:.97,category:.96},b=this.getColumnName();a[b]?this._titlePotential=a[b]:150<this.getEstimatedTextLength()?this._titlePotential=.01:this.isString()&&!this.isLink()&&this.isUnique()&&!this.isHash()?this._titlePotential=.75:this._titlePotential=0;return this._titlePotential};
Column.prototype.getEstimatedTextLength=function(){if(!this.isString())return 0;if(void 0!==this._estimatedTextLength)return this._estimatedTextLength;this.getColumnName();var a=this._getSampleSet(),b=a.map(function(a){return a&&a.length}).reduce(function(a,b){return a+b},0);return this._estimatedTextLength=Math.floor(b/a.length)};Column.prototype.getFormat=function(){return this._obj.format?this._obj.format:this.getColumnTypeObj().getDefaultFormat(this.getColumnName(),this._getSample())};
Column.prototype.getBlankPercentage=function(){var a=0;this.getColumnName();var b=this._getSampleSet();b.forEach(function(b){void 0!==b&&""!==b||a++});return a/(b.length||1)};Column.prototype.getMap=function(){var a=this._map;return a?a:this._map=this._getVector().set};Column.prototype._getVector=function(){this._vector||(this._vector=this._createVector());return this._vector};
Column.prototype._createVector=function(){var a=this,b=[];this.getColumnName();var c={},d=0,e=0;this._rawVector.forEach(function(f){if(a.isInvalidValue(f))return d++,!0;c[f]?c[f].count++:(c[f]={count:0,index:0},e++);b.push(f)});return{set:c,values:b,incompleteCount:d,uniqueValues:e}};Column.prototype.getQuins=function(){var a=this.getReductions().deciles;return[20,40,60,80,100].map(function(b){return{value:a[b],percent:b/100}})};Column.prototype.getColumnTypeName=function(){return this.getColumnTypeObj().getColTypeName()};
Column.prototype.toObject=function(){return{name:this.getColumnName(),type:this.getColumnTypeName(),rank:this.getRank(),reduction:this._getObject().reduction,titlePotential:this.getTitlePotential(),isString:this.isString(),isTemporal:this.isTemporal(),isLink:this.isLink(),estimatedTextLength:this.getEstimatedTextLength()}};Column.prototype.getReductions=function(){this._reductions||(this._reductions=this._getReductionResult(this._getVector(),this));return this._reductions};
Column.prototype._getReductionResult=function(a,b){var c=a.values,d=c.length,e={};e.incompleteCount=a.incompleteCount;e.uniqueValues=a.uniqueValues;if(!d)return e;a=function(a,b){return a>b?1:a<b?-1:0};var f=c.slice();b.isString()?f.sort():f.sort(a);c=f[0];a=f[0];for(var g=0,h=void 0,k=0,l=void 0,n=0,p=0;p<d;p++){var m=f[p],g=g+m;m>a&&(a=m);m<c&&(c=m);m===l?n++:(l=m,n=1);n>k&&(k=n,h=l)}l=Math.floor(d/2);e.count=d;e.sum=g;e.median=f[l];e.average=g/d;e.min=c;e.max=a;e.range=a-c;e.mode=h;e.modeSize=
k;b.isString()?(e.sum=void 0,e.average=void 0):b.isTemporal()&&(e.sum=void 0);e.deciles={};[10,20,30,40,50,60,70,80,90,99,100].forEach(function(a){var b=Math.floor(a/100*d),b=b===d?b-1:b;e.deciles[a]=f[b]});return e};
Column.prototype._inferType=function(){var a=this._getObject(),b=this.getColumnName(),c=this._getSample();if(a&&a.type&&Column.getColumnTypes().getColType(a.type))return Column.getColumnTypes().getColType(a.type);var a={number:.5,date:.25,string:.75,feet:.01,object:.1,boolean:.02},d=!isNaN(parseFloat(c))||Column.getColumnTypes().getColType("usd").getProbForColumnSpecimen(c),e=Column.getColumnTypes().getColType("date").getProbForColumnSpecimen(c);"object"===typeof c&&(a.object=.9);if(!0===c||!1===
c)a.boolean=.96;b.match(/(team|name|link|image|description|permalink|title|label|status|thumb|ip|useragent)/i)&&(a.string=.95);b.match(/(gender|region|category|group|section|sector|field)/i)&&(a.string=.95);b.match(/(height|length)/i)&&c.toString().match(/[0-9]+(\'|\-)[0-9\.]+/)&&Column.getColumnTypes().getColType("feet").getProbForColumnSpecimen(c)&&(a.feet=.97);a.number=d?.8:.1;if(Column.getColumnTypes().getColType("usd").getProbForColumnSpecimen(c)||!isNaN(c)&&b.match(/^(price|income|cost|revenue|budget|profit|amount|balance)$/i))a.usd=
.99;d&&b.match(/(year|born)/i)&&4===c.length&&(a.year=.99);d&&b.match(/(time|second|created|edited)/i)&&10===c.length&&(a.second=.99);d&&b.match(/(time|second)/i)&&13===c.length&&(a.microsecond=.99);b.match(/(year|date|dob|birthday|day|month|time|birthdate)/i)&&e&&(a.date=.98);"string"===typeof c&&100<c.length&&(a.string=.98);var b=0,d=null,f;for(f in a)a[f]>b&&(b=a[f],d=f);"number"===d&&"string"===typeof c&&c.match(",")&&(d="numberString");"date"===d&&"string"===typeof c&&Column.getColumnTypes().getColType("day").getProbForColumnSpecimen(c)&&
(d="day");return Column.getColumnTypes().getColType(d)};window.Column=Column;var ColumnSpecimen=function(){};window.ColumnSpecimen=ColumnSpecimen;moment.createFromInputFallback=function(a){a._d=new Date(a._i)};var AbstractColType=function(a){this._name=a};AbstractColType.prototype.toDisplayString=function(a){return a};AbstractColType.prototype.fromStringToNumeric=function(a){return a};AbstractColType.prototype.getDefaultFormat=function(){};AbstractColType.prototype.isTemporal=function(){return!1};
AbstractColType.prototype.isString=function(){return!1};AbstractColType.prototype.isInt=function(){return!1};AbstractColType.prototype.getColTypeName=function(){return this._name};AbstractColType.prototype.isNumericMS=function(){return!1};AbstractColType.prototype.isInvalidValue=function(a){return void 0===a||""===a?!0:!1};var AbstractNumeric=function(a){AbstractColType.apply(this,arguments)};$jscomp.inherits(AbstractNumeric,AbstractColType);AbstractNumeric.prototype.fromStringToNumeric=function(a){return parseFloat(a)};
AbstractNumeric.prototype.isInvalidValue=function(a){return AbstractColType.prototype.isInvalidValue.call(this,a)||isNaN(a)};var AbstractCurrency=function(a){AbstractColType.apply(this,arguments)};$jscomp.inherits(AbstractCurrency,AbstractColType);var AbstractTemporal=function(a){AbstractColType.apply(this,arguments)};$jscomp.inherits(AbstractTemporal,AbstractColType);AbstractTemporal.prototype.fromStringToMoment=function(a){return moment(parseInt(a))};AbstractTemporal.prototype.isTemporal=function(){return!0};
var DateCol=function(a){AbstractTemporal.apply(this,arguments)};$jscomp.inherits(DateCol,AbstractTemporal);DateCol.prototype.toDisplayString=function(a,b){b||(b="MM/DD/YY");return"fromNow"===b?moment(parseFloat(a)).fromNow():moment(a).format(b)};DateCol.prototype.fromStringToNumeric=function(a){return 1E3*Metrics.getDate(a).unix()};DateCol.prototype.isNumericMS=function(){return!0};DateCol.prototype.fromStringToMoment=function(a){return Metrics.getDate(a)};
DateCol.prototype.getProbForColumnSpecimen=function(a){return Metrics.getDate(a).isValid()};var Day=function(a){AbstractTemporal.apply(this,arguments)};$jscomp.inherits(Day,AbstractTemporal);Day.prototype.toDisplayString=function(a,b){return moment(a).format(b||"MM/DD/YYYY")};Day.prototype.fromStringToNumeric=function(a){return 1E3*Metrics.getDate(a).startOf("day").unix()};Day.prototype.fromStringToMoment=function(a){return Metrics.getDate(a).startOf("day")};
Day.prototype.fromMomentToNumeric=function(a){return 1E3*a.startOf("day").unix()};Day.prototype.getProbForColumnSpecimen=function(a){a=moment.parseFormat?moment.parseFormat(a):parseFormat;return"MM/DD/YY"===a||"MM/DD/YYYY"===a||"M/D/YYYY"===a};var HourMinute=function(a){AbstractTemporal.apply(this,arguments)};$jscomp.inherits(HourMinute,AbstractTemporal);HourMinute.prototype.fromStringToNumeric=function(a){return parseFloat(Metrics.getDate(a).format("H.m"))};
var Minute=function(a){AbstractTemporal.apply(this,arguments)};$jscomp.inherits(Minute,AbstractTemporal);Minute.prototype.toDisplayString=function(a,b){return moment(a).format("m")};Minute.prototype.fromStringToNumeric=function(a){return 1E3*Metrics.getDate(a).startOf("minute").unix()};var AbstractInt=function(a){AbstractColType.apply(this,arguments)};$jscomp.inherits(AbstractInt,AbstractColType);AbstractInt.prototype.isInt=function(){return!0};AbstractInt.prototype.fromStringToNumeric=function(a){return parseInt(a)};
var Int=function(a){AbstractInt.apply(this,arguments)};$jscomp.inherits(Int,AbstractInt);var AbstractTemporalInt=function(a){AbstractInt.apply(this,arguments)};$jscomp.inherits(AbstractTemporalInt,AbstractInt);var AbstractMicrosecond=function(a){AbstractTemporalInt.apply(this,arguments)};$jscomp.inherits(AbstractMicrosecond,AbstractTemporalInt);AbstractMicrosecond.prototype.toDisplayString=function(a,b){return"fromNow"===b?moment(parseFloat(a)).fromNow():a};
AbstractMicrosecond.prototype.isNumericMS=function(){return!0};AbstractMicrosecond.prototype.getDefaultFormat=function(){return"fromNow"};var Week=function(a){AbstractTemporalInt.apply(this,arguments)};$jscomp.inherits(Week,AbstractTemporalInt);Week.prototype.toDisplayString=function(a,b){return moment(a).format("MM/DD/YYYY - WW")};Week.prototype.fromMomentToNumeric=function(a){return 1E3*a.startOf("week").unix()};Week.prototype.isNumericMS=function(){return!0};
var Month=function(a){AbstractTemporalInt.apply(this,arguments)};$jscomp.inherits(Month,AbstractTemporalInt);Month.prototype.toDisplayString=function(a,b){return moment(a).format(b||"MMMM")};Month.prototype.fromMomentToNumeric=function(a){return 1E3*a.startOf("month").unix()};Month.prototype.isNumericMS=function(){return!0};var Hour=function(a){AbstractTemporalInt.apply(this,arguments)};$jscomp.inherits(Hour,AbstractTemporalInt);Hour.prototype.fromMomentToNumeric=function(a){return parseInt(a.startOf("hour").format("H"))};
var Year=function(a){AbstractTemporalInt.apply(this,arguments)};$jscomp.inherits(Year,AbstractTemporalInt);Year.prototype.fromMomentToNumeric=function(a){return parseInt(a.format("YYYY"))};var Microsecond=function(a){AbstractMicrosecond.apply(this,arguments)};$jscomp.inherits(Microsecond,AbstractMicrosecond);var Second=function(a){AbstractMicrosecond.apply(this,arguments)};$jscomp.inherits(Second,AbstractMicrosecond);Second.prototype.fromStringToNumeric=function(a){return 1E3*parseInt(a)};
var Feet=function(a){AbstractNumeric.apply(this,arguments)};$jscomp.inherits(Feet,AbstractNumeric);Feet.prototype.getProbForColumnSpecimen=function(a){return!isNaN(Metrics.feetToInches(a))};Feet.prototype.fromStringToNumeric=function(a){return Metrics.feetToInches(a)};Feet.prototype.toDisplayString=function(a,b){a=parseFloat(a);return Math.floor(a/12)+"'"+Math.round(a%12)+'"'};var USD=function(a){AbstractCurrency.apply(this,arguments)};$jscomp.inherits(USD,AbstractCurrency);
USD.prototype.toDisplayString=function(a,b){return b?numeral(a).format(b):a};USD.prototype.fromStringToNumeric=function(a){return parseFloat(a.toString().replace(/[\$\, \%]/g,""))};USD.prototype.getProbForColumnSpecimen=function(a){return a&&a.match&&!!a.match(/^\$[0-9\.\,]+$/)};USD.prototype.getDefaultFormat=function(){return"$(0a)"};var NumberCol=function(a){AbstractNumeric.apply(this,arguments)};$jscomp.inherits(NumberCol,AbstractNumeric);
NumberCol.prototype.toDisplayString=function(a,b){return"percent"===b?numeral(parseFloat(a)).format("0.00")+"%":b&&!isNaN(a)&&Infinity!==a?numeral(a).format(b):a};NumberCol.prototype.getDefaultFormat=function(a,b){if(a.match(/^(mile|pound|inch|feet)s?$/i))return"0.0";if(a.match(/^(calorie|steps)s?$/i)||b&&!b.toString().includes("."))return"0,0"};var NumberString=function(a){AbstractNumeric.apply(this,arguments)};$jscomp.inherits(NumberString,AbstractNumeric);
NumberString.prototype.toDisplayString=function(a,b){return b?numeral(a).format(b):a};NumberString.prototype.getDefaultFormat=function(){return"0,0"};NumberString.prototype.fromStringToNumeric=function(a){return parseFloat(a.toString().replace(/[\$\, \%]/g,""))};var AbstractStringCol=function(a){AbstractColType.apply(this,arguments)};$jscomp.inherits(AbstractStringCol,AbstractColType);AbstractStringCol.prototype.isString=function(){return!0};
var StringCol=function(a){AbstractStringCol.apply(this,arguments)};$jscomp.inherits(StringCol,AbstractStringCol);var UrlCol=function(a){AbstractStringCol.apply(this,arguments)};$jscomp.inherits(UrlCol,AbstractStringCol);var TextCol=function(a){AbstractStringCol.apply(this,arguments)};$jscomp.inherits(TextCol,AbstractStringCol);var AbstractCodeCol=function(a){AbstractStringCol.apply(this,arguments)};$jscomp.inherits(AbstractCodeCol,AbstractStringCol);
var CodeCol=function(a){AbstractCodeCol.apply(this,arguments)};$jscomp.inherits(CodeCol,AbstractCodeCol);var HTMLCol=function(a){AbstractCodeCol.apply(this,arguments)};$jscomp.inherits(HTMLCol,AbstractCodeCol);var AbstractPathCol=function(a){AbstractStringCol.apply(this,arguments)};$jscomp.inherits(AbstractPathCol,AbstractStringCol);var PathCol=function(a){AbstractPathCol.apply(this,arguments)};$jscomp.inherits(PathCol,AbstractPathCol);var DirCol=function(a){AbstractPathCol.apply(this,arguments)};
$jscomp.inherits(DirCol,AbstractPathCol);var ObjectCol=function(a){AbstractColType.apply(this,arguments)};$jscomp.inherits(ObjectCol,AbstractColType);var BooleanCol=function(a){AbstractColType.apply(this,arguments)};$jscomp.inherits(BooleanCol,AbstractColType);BooleanCol.prototype.fromStringToNumeric=function(a){return"true"===a.toString()?1:0};
var ColumnTypes=function(){var a=this,b={microsecond:Microsecond,second:Second,date:DateCol,day:Day,week:Week,month:Month,hour:Hour,hourMinute:HourMinute,minute:Minute,year:Year,feet:Feet,usd:USD,number:NumberCol,numberString:NumberString,string:StringCol,text:TextCol,path:PathCol,dir:DirCol,code:CodeCol,html:HTMLCol,url:UrlCol,object:ObjectCol,boolean:BooleanCol,int:Int};this._types={};Object.keys(b).forEach(function(c){a._types[c]=new b[c](c)})};ColumnTypes.prototype.getColType=function(a){return this._types[a]};
window.ColumnTypes=ColumnTypes;moment.createFromInputFallback=function(a){a._d=new Date(a._i)};
var Metrics={feetToInches:function(a){var b=0,c=a.search(/[^0-9\.]/);if(1>c)return b=parseFloat(a.replace(/[^0-9\.]/g,"")),isNaN(b)?b:12*b;var d=parseFloat(a.substr(0,c).replace(/[^0-9\.]/g,""));a=parseFloat(a.substr(c).replace(/[^0-9\.]/g,""));isNaN(d)||(b+=12*d);isNaN(a)||(b+=a);return b},getDateAsUnixUtx:function(a){return Metrics.getDate(a,moment.utc).unix()},getDate:function(a,b){b=void 0===b?moment:b;var c=b(a);if(c.isValid())return c;if("string"===typeof a&&a.match(/^[0-9]{8}$/)){var c=parseInt(a.substr(0,
2)),d=parseInt(a.substr(2,2)),e=parseInt(a.substr(4,2)),f=parseInt(a.substr(6,2)),g=parseInt(a.substr(0,4)),h=parseInt(a.substr(4,4)),e=13>e,k=32>f,f=13>f,g=1E3<g&&2100>g;return c=13>c&&32>d&&1E3<h&&2100>h?b(a,"MMDDYYYY"):g&&e&&k?b(a,"YYYYMMDD"):g&&f?b(a,"YYYYDDMM"):b(a,"DDMMYYYY")}return"string"===typeof a&&a.match(/^[0-9]{2}\/[0-9]{4}$/)?b(a,"MM/YYYY"):!a.match||a.match(/[^0-9]/)||(d=parseFloat(a),isNaN(d))?c:10===a.length?b(1E3*d):b(d)}};window.Metrics=Metrics;
var AbstractCommander=function(a){this._target=a};AbstractCommander.prototype.getTarget=function(){return this._target};window.AbstractCommander=AbstractCommander;var AppCommander=function(a){AbstractCommander.apply(this,arguments)};$jscomp.inherits(AppCommander,AbstractCommander);AppCommander.prototype.playFirstVisitCommand=function(){var a=this;return this.openOhayoProgramCommand("readme.flow faq.flow releasenotes.flow helloWorld.fire").then(function(){return a.openOhayoProgramCommand("ohayo.flow")})};
AppCommander.prototype.moveTilesFromShadowsCommand=function(){return this.getTarget().getAppWall().getCommander().moveTilesFromShadowsCommand()};AppCommander.prototype.toggleLayoutCommand=function(){var a=this.getTarget().getAppWall();return a&&a.toggleLayoutCommand&&a.toggleLayoutCommand()||Promise.resolve()};
AppCommander.prototype.typeCheckProgramCommand=function(){var a=this.getTarget(),b=a.getMountedTab(),c=b.getTabProgram(),d=c.getTypeErrors(),c=c.getParameterErrors();b.logMessageBray("@strong "+d.length+" Type Errors\n@div - "+d.join("\n@div - ")+"\n@strong "+c.length+" Parameter Errors\n@div - "+c.join("\n@div - "));a.renderApp();return Promise.resolve()};
AppCommander.prototype.printProcessStatsCommand=function(){var a=this.getTarget(),b=a.getMountedTab(),c=(new TreeProgram(a.getMountedProcess().getProcessStats())).toString();b.logMessageText(c);a.renderApp();return Promise.resolve()};AppCommander.prototype.createProgramFromFileCommand=function(a,b){var c=this.getTarget(),d=Util.getFileExtension(a);if(c.getETNs()[d])return c._createAndOpen(b,a);b=(d=FlowTemplates[d])?d(a,b):">h1 No visualization templates for "+a;return c._createAndOpen(b,a+".flow")};
AppCommander.prototype.toggleShadowByIdCommand=function(a){this.getTarget().getWillowProgram().findStumpByChild("id "+a).getShadow().toggleShadow();return Promise.resolve()};
AppCommander.prototype.openDeleteAllTabsPromptCommand=function(){var a=this.getTarget(),b=a.getFocusedPanel().getTabs();return a.getWillowProgram().confirmThen("Are you sure you want to delete "+b.length+" open programs?").then(function(a){return a?Promise.all(b.map(function(a){return a.getFolder().unlinkFile(a.getFileName())})):Promise.resolve(!1)})};AppCommander.prototype.toggleAndRenderNewDropDownCommand=function(){this.getTarget().getNode("menu").toggleAndRender("newDropDownMenu");return Promise.resolve()};
AppCommander.prototype.closeAllDropDownMenusCommand=function(){this.getTarget().getTopDownArray().forEach(function(a){a.getLine().includes("DropDownMenu")&&a.unmountAndDestroy()});return Promise.resolve()};AppCommander.prototype.appendTileAndSelectCommand=function(a,b){var c=this.getTarget(),d=c._appendTiles(a,b);d.forEach(function(a){return a.runTile()});a=c.getMountedProcess();a.clearSelection();return a.getTab().autosaveAndRender().then(function(){d.forEach(function(a){return a.selectTile()})})};
AppCommander.prototype.insertMorphTileCommand=function(){return this.getTarget().getAppWall().getCommander().insertMorphTileCommand()};AppCommander.prototype.appendTileCommand=function(a,b){var c=this.getTarget();c._appendTiles(a,b).forEach(function(a){return a.runTile()});return c.getMountedTab().autosaveAndRender()};AppCommander.prototype.deleteAllCardsInTargetTileCommand=function(){var a=this.getTarget(),b=a.getTargetNode().getInputBinder();return Promise.all(b.getCards().map(function(a){return a.destroyCard()})).then(function(){a.renderApp()})};
AppCommander.prototype.openOhayoProgramCommand=function(a){var b=this.getTarget();return Promise.all(a.split(" ").map(function(a){return b._openOhayoProgram(a)}))};AppCommander.prototype.deleteFileCommand=function(a){return this.getTarget().getFolder().unlinkFile(a)};AppCommander.prototype.renameFileCommand=function(a,b){this.getTarget().getFolder().moveFile(a,b);return Promise.resolve(b)};
AppCommander.prototype.createNewBlankProgramCommand=function(a){a=void 0===a?"untitled.flow":a;return this.getTarget()._createAndOpen("",a).then(function(a){return a.logMessageBray("@div Created '"+a.getUrl()+"'")})};
AppCommander.prototype.openCreateNewProgramFromUrlDialogCommand=function(){var a=this.getTarget();return a.getWillowProgram().promptThen("Enter the url to download and create your program","").then(function(b){b&&a.getWillowProgram().get(b).then(function(b){return a._createAndOpen(b,"untitled.flow").then(function(a){return a.logMessageBray("@div Created '"+a.getUrl()+"'")})}).catch(function(b){a.logMessageBray("@div Error: "+b)})})};
AppCommander.prototype.openUrlPromptCommand=function(a){var b=this.getTarget();return b.getWillowProgram().promptThen("Enter a url to open",a).then(function(a){if(a)return b.openUrlInNewTabAndFocus(a)})};AppCommander.prototype.openManyCommand=function(a){var b=this.getTarget(),c=new RegExp(a,"i");return b.getFolder().readFiles().then(function(a){a=a.filter(function(a){return a.getFileLink().match(c)});return Promise.all(a.map(function(a){return b._openUrlInNewTab(a.getFileLink())}))})};
AppCommander.prototype.openUrlInNewTabCommand=function(a){return this.getTarget()._openUrlInNewTab(a)};AppCommander.prototype.mountTabByIndexCommand=function(a){this.getTarget().getFocusedPanel().mountTabByIndex(a);return Promise.resolve()};AppCommander.prototype.closeTabByIndexCommand=function(a){var b=this.getTarget();b.getFocusedPanel().closeTabByIndex(a);b.renderApp();return Promise.resolve()};
AppCommander.prototype.toggleAutoSaveCommand=function(){var a=this.getTarget(),b=!a.isAutoSaveEnabled();b?a.removeValue(StorageKeys.autoSave):a.storeValue(StorageKeys.autoSave,"false");a.logMessageBray("@div Autosave is "+b);return Promise.resolve()};
AppCommander.prototype.saveCompiledCommand=function(){var a=this.getTarget(),b=a.getMountedTab(),c=b.getDictionary().getTargetExtension(),d=Format.permalink(Util.removeFileExtension(b.getFileName()))+"."+c,b=b.compile();a.getWillowProgram().downloadFile(b,d,"text/"+c);return Promise.resolve()};AppCommander.prototype.executeProgramCommand=function(){var a=this.getTarget(),b=a.getMountedTab();return b.getTabProgram().execute().then(function(c){b.logMessageText(c.join("\n"));a.renderApp()})};
AppCommander.prototype.toggleThemeCommand=function(){return this.getTarget()._toggleTheme()};AppCommander.prototype.openUrlInNewTabAndFocusCommand=function(a){return this.getTarget().openUrlInNewTabAndFocus(a)};AppCommander.prototype.showTabRenamePromptCommand=function(a){var b=this.getTarget(),c=b.getMountedTab();return b.promptToRenameFile(c.getFileName(),a).then(function(a){return a?b.openUrlInNewTabAndFocus(""+a).then(function(a){b.getFocusedPanel().closeTab(c);return a}):!1})};
AppCommander.prototype.toggleHelpCommand=function(){return this.getTarget().toggleAndRender("helpModal")};AppCommander.prototype.closeMountedProgramCommand=function(){var a=this.getTarget();a.getFocusedPanel().closeTab(a.getMountedTab());a.renderApp();return Promise.resolve()};AppCommander.prototype.fetchAndReloadFocusedTabCommand=function(){return this.getTarget().getMountedTab().reloadFromDisk()};
AppCommander.prototype.selectAllCommand=function(){this.getTarget().getMountedProcess().selectAll();return Promise.resolve()};AppCommander.prototype.selectTilesByShadowClassCommand=function(a){var b=this.getTarget();b.addToCommandLog("app selectTilesByShadowClassCommand");b.getMountedTab().getTabWall().selectTilesByShadowClass(a);return Promise.resolve()};
AppCommander.prototype.clearSelectionCommand=function(){var a=this.getTarget();a.addToCommandLog("app clearSelectionCommand");a.getMountedProcess().clearSelection();return Promise.resolve()};AppCommander.prototype.deleteSelectionCommand=function(){return this.getTarget().getMountedProcess().deleteSelection()};AppCommander.prototype.duplicateSelectionCommand=function(){return this.getTarget().getMountedProcess().duplicateSelection()};
AppCommander.prototype.showDeleteFileConfirmDialogCommand=function(){var a=this,b=this.getTarget(),c=b.getMountedTab().getFileName();return b.getWillowProgram().confirmThen("Are you sure you want to delete "+c+"?").then(function(b){return b?a.deleteFocusedTabCommand():Promise.resolve()})};AppCommander.prototype.deleteFocusedTabCommand=function(){var a=this.getTarget(),b=a.getMountedTab(),c=b.getFileName();return b.getFolder().unlinkFile(c).then(function(){a.getFocusedPanel().closeTab(b);a.renderApp()})};
AppCommander.prototype.mountPreviousTabCommand=function(){this.getTarget().getFocusedPanel().mountPreviousTab();return Promise.resolve()};AppCommander.prototype.mountNextTabCommand=function(){this.getTarget().getFocusedPanel().mountNextTab();return Promise.resolve()};AppCommander.prototype.closeAllTabsCommand=function(){var a=this.getTarget();a.getFocusedPanel().closeAllTabs();a.renderApp();return Promise.resolve()};
AppCommander.prototype.toggleFullScreenCommand=function(){this.getTarget().getWillowProgram().toggleFullScreen();return Promise.resolve()};AppCommander.prototype.toggleFocusedModeCommand=function(){var a=this.getTarget();a.toggle("menu");a.getFocusedPanel();return this.toggleFullScreenCommand()};
AppCommander.prototype.toggleGutterCommand=function(){var a=this.getTarget();a.makeAllDirty();var b=a.getFocusedPanel(),c=b.getNode("gutter");c?c.unmountAndDestroy():(b=b.touchNode("gutter"),b.insert("terminal"),b.insert("console"));a.renderApp();return Promise.resolve()};AppCommander.prototype.selectNextCommand=function(){return this.getTarget().getMountedProcess().selectNext()};AppCommander.prototype.selectFirstTileCommand=function(){this.getTarget().getMountedProcess().selectFirstTile();return Promise.resolve()};
AppCommander.prototype.selectPreviousCommand=function(){return this.getTarget().getMountedProcess().selectPrevious()};AppCommander.prototype.createNewFlowVisProgramCommand=function(){var a=this.getTarget(),b=a.getMountedTab(),c=a.getMountedProcess().childrenToString();return a._createAndOpen(FlowCodeEditorTemplate(c,"fire"),b.getFileName()+".editor.flow").then(function(a){return a.logMessageBray("@div Created '"+a.getUrl()+"'")})};
AppCommander.prototype.createMiniMapCommand=function(){return this.getTarget()._createAndOpen(MiniTemplate,"myPrograms.flow").then(function(a){return a.logMessageBray("@div Created '"+a.getUrl()+"'")})};AppCommander.prototype.clearTabMessagesCommand=function(){var a=this.getTarget();return a.getMountedTab().getCommander().clearCommand().then(function(){a.renderApp()})};AppCommander.prototype.undoFocusedProgramCommand=function(){return this.getTarget().getMountedTab().undo()};
AppCommander.prototype.redoFocusedProgramCommand=function(){return this.getTarget().getMountedTab().redo()};AppCommander.prototype.closeModalCommand=function(){this.getTarget().closeModal();return Promise.resolve()};AppCommander.prototype.clearStoreCommand=function(){var a=this.getTarget();if(a.getStore().disabled)return Promise.resolve();a.getStore().clearAll();return Promise.resolve()};
AppCommander.prototype.copySelectionCommand=function(a){var b=this.getTarget().getMountedProcess();return b?b.copySelection(a):!0};AppCommander.prototype.cutSelectionCommand=function(a){return this.getTarget().getMountedProcess().cutSelection(a)};AppCommander.prototype.echoCommand=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.getTarget().logMessageBray("@div "+b.join(" "));return Promise.resolve()};
AppCommander.prototype.saveTabAndNotifyCommand=function(){var a=this.getTarget(),b=a.getMountedTab();return b.forceSaveToFile().then(function(){b.logMessageBray("@div Saved "+b.getUrl());a.renderApp()}).catch(function(a){console.error(a)})};AppCommander.prototype.cloneTabCommand=function(){var a=this.getTarget(),b=a.getMountedTab();return a._createAndOpen(b.getTabProcess().childrenToString(),b.getFileName())};
AppCommander.prototype.pasteCommand=function(a){var b=this.getTarget(),c=b.getMountedTab();return c?c.appendFromPaste(a):b._createProgramFromPaste(a)};AppCommander.prototype.executeStumpCommandByStumpIdCommand=function(a,b){return this.getTarget()._executeStumpCommandByStumpChild(a,"id "+b)};AppCommander.prototype.executeStumpCommandByStumpClassCommand=function(a,b){return this.getTarget()._executeStumpCommandByStumpChild(a,"class "+b)};
AppCommander.prototype.executeStumpCommandByStumpStringCommand=function(a,b){return this.getTarget()._executeStumpCommandByStumpString(a,b)};AppCommander.prototype.executeCommandOnFirstSelectedTileCommand=function(a,b,c){return this.getTarget().getMountedProcess().getFirstSelectedTile().getCommander()[a](b,c)};
AppCommander.prototype.runSpeedTestCommand=function(){var a=this,b=this.getTarget();return b.getFolder().readFiles().then(function(c){c=c.map(function(a){return a.getFileLink()});var d=Date.now(),e=Util.pLimit(7),f=b.getFocusedPanel();c=c.map(function(a){return e(function(){return b._openUrlInNewTab(a).then(function(a){var c=f.getMountedTab();f.setMountedTab(a);c&&f.closeTab(c);b.renderApp();return a.getTabProcess().getProcessStats()})})});return Promise.all(c).then(function(c){f.getMountedTab()&&
a.closeMountedProgramCommand();c=new TreeProgram(c);var e=Date.now()-d,e="Program Load Times "+moment().format("MM/DD/YYYY")+" version "+b.getVersion()+". Run time: "+e;return b._createAndOpen(SpeedTestTemplate(e,c.toCsv()),"program-load-times")})})};window.AppCommander=AppCommander;var ChiselCommander=function(a){AbstractCommander.apply(this,arguments)};$jscomp.inherits(ChiselCommander,AbstractCommander);ChiselCommander.prototype.stopPropagationCommand=function(){};
ChiselCommander.prototype.clearCommand=function(){delete this.getTarget()._messageBuffer;return Promise.resolve()};ChiselCommander.prototype.unmountAndDestroyCommand=function(){this.getTarget().unmountAndDestroy();return Promise.resolve()};window.ChiselCommander=ChiselCommander;var TerminalCommander=function(a){AbstractCommander.apply(this,arguments)};$jscomp.inherits(TerminalCommander,AbstractCommander);TerminalCommander.prototype.saveChangesCommand=function(){var a=this.getTarget();if(a.hasChanges())return a._getTab().autosaveAndReloadWith(a.getCode())};
TerminalCommander.prototype.executeLineCommand=function(a){var b=this.getTarget();return b._makeProgram(a).execute(b.getApp()).then(function(a){b._getTab().logMessageText(a.join("\n"));b._updateConsole()})};TerminalCommander.prototype.compileLineCommand=function(a){var b=this.getTarget();a=b._makeProgram(a).compile();b._getTab().logMessageText(a);b._updateConsole()};window.TerminalCommander=TerminalCommander;var TileCommander=function(a){AbstractCommander.apply(this,arguments)};
$jscomp.inherits(TileCommander,AbstractCommander);TileCommander.prototype.cloneTileCommand=function(){var a=this.getTarget();a.cloneAndOffset();return a.getTab().autosaveAndRender()};TileCommander.prototype.updateSlangCommand=function(a){var b=this.getTarget();a=Format.stripHtml(a.replace(/\<br\>/g,"\n").replace(/\<div\>/g,"\n"));b.setMonadOrChild("slang",a);b.autosaveTile();return b.runAndRender().then(function(){b.getApp().renderApp()})};
TileCommander.prototype.changeTileOrderByCommand=function(a){var b=this.getTarget();b.toggle("orderBy",[a,"-"+a,""]);b.autosaveTile();b.makeDirty();b.render();return Promise.resolve()};TileCommander.prototype.changeTileTypeCommand=function(a){var b=this.getTarget();b.setBase(a);var c=b.duplicate();b.unmountAndDestroy();a=c.getDefinition();var d=b.getApp();return b.getTileProcess().loadTileCodeOrGetLoadingPromise(d,a).then(function(){return b.getTileProcess().getTab().autosaveAndRender().then(function(){return c.runAndRender()})})};
TileCommander.prototype.changeParentCommand=function(a){var b=this.getTarget(),c=b.getTileProcess(),c=(a=a?a.split(" ").map(function(a){return parseInt(a)}):"")?b.getApp().nodeAt(a):c;b.copyTo(c);b.unmountAndDestroy();return b.getTileProcess().getTab().autosaveAndRender()};TileCommander.prototype.openTileContextMenuCommand=function(){var a=this.getTarget();return a.getApp().setTargetNode(a).toggleAndRender("tileContextMenu")};
TileCommander.prototype.destroyTileCommand=function(){var a=this.getTarget();a.unmountAndDestroy();return a.getTileProcess().getTab().autosaveAndRender()};TileCommander.prototype.getNewDataCommand=function(){};TileCommander.prototype.changeDetailAndRenderCommand=function(a,b){var c=this.getTarget();c.setMonadOrChild(b,a.toString());c._clearTileStruct();c.getApp().renderApp();return c.autosaveTile()};
TileCommander.prototype.changeDetailCommand=function(a,b){this.getTarget().touchNode(a).setBeam(b);return Promise.resolve()};TileCommander.prototype.changeWordCommand=function(a,b){var c=this.getTarget();c.setWord(b,a);c.render();return c.autosaveTile()};TileCommander.prototype.copyTileCommand=function(){var a=this.getTarget();a.getApp().getWillowProgram().copyTextToClipboard(a.getFirstAncestor().toString());return Promise.resolve()};
TileCommander.prototype.inspectTileCommand=function(){var a=this.getTarget(),b=a.getInspection();a.getTab().logMessageBray(b);a.getApp().renderApp();return Promise.resolve()};TileCommander.prototype.toggleToolbarCommand=function(){this.getTarget().toggleToolbar();return Promise.resolve()};TileCommander.prototype.createCardsFromTNCommand=function(a){return this.getTarget().createCards((new CardParser).parse(a,"tree"))};
TileCommander.prototype.copyDataCommand=function(a){var b=this.getTarget();b.getApp().getWillowProgram().copyTextToClipboard(b.getOutputBinder().toDelimited(a));return Promise.resolve()};TileCommander.prototype.exportTileDataCommand=function(){var a=this.getTarget();a.getApp().getWillowProgram().downloadFile(a.getOutputBinder().toDelimited(","),a.getBase()+".csv","text/csv");return Promise.resolve()};window.TileCommander=TileCommander;var WallCommander=function(a){AbstractCommander.apply(this,arguments)};
$jscomp.inherits(WallCommander,AbstractCommander);WallCommander.prototype.openWallContextMenuCommand=function(){return this.getTarget().getApp().toggleAndRender("tabContextMenu")};WallCommander.prototype.insertMorphTileCommand=function(){var a=this.getTarget(),b=a.getApp(),c=b.getMountedTab(),d=b.getMouseEvent(),e=a.getMorphBlock(d);b.getNodeCursors().forEach(function(a){return a.append(">morph",e)});return c.autosaveAndRender()};window.WallCommander=WallCommander;
var WallFlexCommander=function(a){WallCommander.apply(this,arguments)};$jscomp.inherits(WallFlexCommander,WallCommander);WallFlexCommander.prototype.setLayoutToCustomCommand=function(){var a=this.getTarget().getApp().getMountedTab();a.getTabProcess().touchNode(TileConstants.wall+" layout").setBeam("custom");return a.autosaveAndRender()};
WallFlexCommander.prototype.moveTilesFromShadowsCommand=function(){var a=this.getTarget();a.getApp().getWillowProgram().findStumpsWithClass("TileChisel").filter(function(a){return a.getStumpChisel().isVisible()}).forEach(function(b){return a._moveStump(b)});return this.setLayoutToCustomCommand()};
WallFlexCommander.prototype.toggleLayoutCommand=function(){var a=this.getTarget().getApp().getMountedProcess(),b=a.touchNode(TileConstants.wall+" layout"),c=b.getBeam()||"custom",c=Util.toggle(c,["custom","bin","tree"]);b.setBeam(c);a.getProcessTiles().forEach(function(a){return a.makeDirty()});var d=a.getTab();return d.autosaveAndRender().then(function(){return d.logMessageBray("@div Layout changed.")})};window.WallFlexCommander=WallFlexCommander;
var AbstractContextMenuChisel=function(a){return AbstractChisel.apply(this,arguments)||this};$jscomp.inherits(AbstractContextMenuChisel,AbstractChisel);AbstractContextMenuChisel._mountedChisels=AbstractChisel._mountedChisels;
AbstractContextMenuChisel.prototype.getHakon=function(){var a=this.getTheme();return".AbstractContextMenuChisel\n position fixed\n overflow scroll\n max-height 100%\n z-index 221\n background "+a.contextMenuBackground+"\n border 1px solid "+a.borderColor+"\n box-shadow 0 1px 3px 0 "+a.boxShadow+"\n font-size 14px\n a\n  display block\n  padding 3px\n  font-size 14px\n  text-decoration none\n  color "+a.darkBlack+"\n  &:hover\n   color "+a.white+"\n   background "+a.hoverBackground};
AbstractContextMenuChisel.prototype.getBray=function(){return"@div\n class AbstractContextMenuChisel "+this.constructor.name+TreeProgram.nest(this.getContextMenuBodyBray(),1)};
AbstractContextMenuChisel.prototype.chiselDidMount=function(){var a=this.getStump(),b=this.getApp(),c=b.getWillowProgram(),d=c.getBodyStump().getShadow(),e=function(){d.offShadowEvent(WillowShadowEvents.click,e);b.closeAllContextMenus()};setTimeout(function(){return d.onShadowEvent(WillowShadowEvents.click,e)},100);var f=b.getMouseEvent(),c=c.getWindowSize();a.setStumpCss(this._getContextMenuPosition(c.width,c.height,f.clientX,f.clientY,a.getShadow()))};
AbstractContextMenuChisel.prototype._getContextMenuPosition=function(a,b,c,d,e){var f=c,g=e.getShadowOuterWidth();b=e.getShadowOuterHeight()+d-b;0<b&&(d-=b);0<g+f-a&&(f=c-g-5);0>d&&(d=0);return{left:f,top:d}};window.AbstractContextMenuChisel=AbstractContextMenuChisel;var TabContextMenuChisel=function(a){return AbstractContextMenuChisel.apply(this,arguments)||this};$jscomp.inherits(TabContextMenuChisel,AbstractContextMenuChisel);TabContextMenuChisel._mountedChisels=AbstractContextMenuChisel._mountedChisels;
TabContextMenuChisel.prototype.getContextMenuBodyBray=function(){return this.getApp().getMountedTab().getContextMenuCommandsBray()};window.TabContextMenuChisel=TabContextMenuChisel;var TileContextMenuChisel=function(a){return AbstractContextMenuChisel.apply(this,arguments)||this};$jscomp.inherits(TileContextMenuChisel,AbstractContextMenuChisel);TileContextMenuChisel._mountedChisels=AbstractContextMenuChisel._mountedChisels;
TileContextMenuChisel.prototype.getContextMenuBodyBray=function(){return"@a Reload\n data-onClickCommand app fetchAndReloadFocusedTabCommand\n@a Copy tile with inputs\n tabindex -1\n data-onClickCommand context copyTileCommand\n@a Copy data as tsv\n data-onClickCommand context copyDataCommand\n value \t\n@a Export data to csv file\n data-onClickCommand context exportTileDataCommand\n"+this.getApp().getTargetNode().getContextMenuBray()};window.TileContextMenuChisel=TileContextMenuChisel;
var Definition=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(Definition,TreeProgram);
Definition.prototype.getNodeTypes=function(){var a={};[DictionaryConstants.frequency,DictionaryConstants.openChildren,DictionaryConstants.closeChildren,DictionaryConstants.childNodeTypes,DictionaryConstants.parameters,DictionaryConstants.svg,DictionaryConstants.tileSize,DictionaryConstants.compiled,DictionaryConstants.listDelimiter,DictionaryConstants.tileClass,DictionaryConstants.script,DictionaryConstants.cssScript].forEach(function(b){a[b]=TreeProgram});return a};
Definition.prototype.getDetailByName=function(a){return this.getNode(a)||new OtherDetail};Definition.prototype._getDetailNodeTypes=function(){return{boolean:BooleanDetail,int:IntDetail,prob:ProbDetail,format:FormatDetail,alphanumeric:AlphaNumericDetail,title:TitleDetail,quick:QuickDetail,slang:SlangDetail,markdown:SlangDetail,column:ColumnRunTimeDetail,enum:EnumDetail,javascript:SlangDetail}};
Definition.prototype.getDefaultNodeType=function(a){a=a.split(" ")[1];return this._getDetailNodeTypes()[a]||OtherDetail};Definition.prototype.getDoc=function(){return this.getBase()};Definition.prototype.getOpenChildrenString=function(){return this.findBeam(DictionaryConstants.openChildren)||""};Definition.prototype.getCloseChildrenString=function(){return this.findBeam(DictionaryConstants.closeChildren)||""};Definition.prototype.isMiddle=function(){return this.has(DictionaryConstants.childNodeTypes)};
Definition.prototype.getMonadName=function(){return this.getDetails().filter(function(a){return a.isMonad()}).map(function(a){return a.getDetailName()}).join("")};Definition.prototype.getBeamParameters=function(){var a=this.findBeam(DictionaryConstants.parameters);return a?a.split(" "):[]};Definition.prototype.getArity=function(){return this.getBeamParameters().length};Definition.prototype.getDescription=function(){return this.findBeam(DictionaryConstants.description)||""};
Definition.prototype.getSvg=function(){return this.findBeam(DictionaryConstants.svg)||"table"};Definition.prototype.getSuggestedSize=function(){var a=(this.findBeam(DictionaryConstants.tileSize)||"280 220").split(" ").map(function(a){return parseInt(a)});return{width:a[0],height:a[1]}};Definition.prototype.getDetails=function(){return this.getChildrenByNodeType(AbstractDetail)};
Definition.prototype.computeStruct=function(a){var b={};this.getDetails().forEach(function(c){var d=c.getDetailName();b[d]=c.getValueFromTile(a)});return b};Definition.prototype.getFrequency=function(){var a=this.findBeam(DictionaryConstants.frequency);return a?parseFloat(a):0};window.Definition=Definition;
var DictionaryConstants={preface:"@preface",frequency:"@frequency",targetExtension:"@targetExtension",shellCommand:"@shellCommand",fileExtension:"@fileExtension",openChildren:"@openChildren",closeChildren:"@closeChildren",childNodeTypes:"@childNodeTypes",parameters:"@parameters",description:"@description",svg:"@svg",tileSize:"@tileSize",compiled:"@compiled",wallType:"@wallType",listDelimiter:"@listDelimiter",tileClass:"@tileClass",primitives:"@primitives",script:"@script",cssScript:"@cssScript",monad:"@monad",
const:"@const",templateString:"@templateString",default:"@default",options:"@options",auto:"@auto"};window.DictionaryConstants=DictionaryConstants;var PrefaceNode=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(PrefaceNode,TreeProgram);var DictionaryProgram=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(DictionaryProgram,TreeProgram);
DictionaryProgram.prototype.parseNodeType=function(a){return a.startsWith(DictionaryConstants.preface)?PrefaceNode:Definition};DictionaryProgram.prototype.getWallType=function(){return this.getNode(DictionaryConstants.preface).findBeam(DictionaryConstants.wallType)||"wall"};DictionaryProgram.prototype.getTargetExtension=function(){return this.getNode(DictionaryConstants.preface).findBeam(DictionaryConstants.targetExtension)};DictionaryProgram.prototype.getShellCommand=function(){return this.getNode(DictionaryConstants.preface).findBeam(DictionaryConstants.shellCommand)};
DictionaryProgram.prototype.getExtensionName=function(){return this.getNode(DictionaryConstants.preface).findBeam(DictionaryConstants.fileExtension)};DictionaryProgram.prototype.getTopNodeTypes=function(){var a=this._getDefinitions();a.sort(Util.sortByAccessor(function(a){return a.getFrequency()}));a.reverse();return a.map(function(a){return a.getBase()})};DictionaryProgram.prototype.getRunTimeNodeTypes=function(){this._getDefinitionMap();return this._runTimeNodeTypes};
DictionaryProgram.prototype.getDocs=function(){return this.toString()};DictionaryProgram.prototype._getDefinitionMap=function(){if(this._definitionMap)return this._definitionMap;var a={},b={};this.getChildrenByNodeType(Definition).forEach(function(c){var d=c.getBase();a[d]=c;b[d]=SnapNode});this._definitionMap=a;this._runTimeNodeTypes=b;return this._definitionMap};DictionaryProgram.prototype._getDefinitions=function(){return Object.values(this._getDefinitionMap())};
DictionaryProgram.prototype.getDefaultDefinition=function(){return this.getChildrenByNodeType(Definition)[0]};DictionaryProgram.prototype.isDefined=function(a){return this._getDefinitionMap()[a.toLowerCase()]};DictionaryProgram.prototype.getDefinitionByName=function(a){return this._getDefinitionMap()[a.toLowerCase()]||this.getDefaultDefinition()};DictionaryProgram.prototype.getSnapNodeNames=function(){return Object.keys(this._getDefinitionMap())};DictionaryProgram.prototype.execute=function(a){return Util.compileProgramToJavascriptFile(a)};
window.DictionaryProgram=DictionaryProgram;var MockDictionary=">tile\n @tileClass AbstractFlowTile /aientist/client/flow/AbstractFlowTile.js\n @tileSize 200 100\n title string Default title\n  @frequency .20\n  @description About this detail\n orderBy orderByExpression\n  @frequency .5\n>subtile >tile\n @tileSize 200 100\n limit int 100\n  @frequency .10\n pretty boolean true\n  @frequency .20\n range prob .5\n  @frequency .20\n badHtml alphanumeric\n constOverwrite title Can't touch this\n  @frequency .20\n  @const\n badText title\n birthday column\n  @auto isTemporal=true\n column column\n  @auto\n value column\n  @auto isString=false\n size enum\n  @options optionA optionB\n region enum region\n  @options\n   country Country\n   continent Continent\n url url\n  @templateString\n message string\n  @monad\n caption string\n  @description Some caption.\n>subsubtile >subtile\n>provider >tile\n columns columnsObject\n  @frequency .5\n>data >provider\n slang slang\n  @frequency .9\n  @description The actual data.\n format format\n  @frequency .4\n  @description CSV, TSV, JSON, etc.\n @tileClass DataTile /aientist/client/flow/providers/DataTile.js\n @tileSize 100 100\n>didyoumean >tile";
window.MockDictionary=MockDictionary;var SnapAnnex=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(SnapAnnex,TreeProgram);SnapAnnex.prototype.getDetail=function(){var a=this.getBase();return this.getSnapNodeDefinition().getDetailByName(a)};SnapAnnex.prototype.getSnapNodeDefinition=function(){return this.getParent().getDefinition()};window.SnapAnnex=SnapAnnex;var AbstractWordType=function(){},IntSlotType=function(){};IntSlotType.prototype.isValid=function(a){return a.match(/^\-?[0-9]+$/)};
var BooleanSlotType=function(){};BooleanSlotType.prototype.isValid=function(a){return"false"===a||"true"===a};var SnapCell=function(a,b,c,d){this._word=a;this._type=b;this._line=c;this._index=d+1};SnapCell.prototype.getType=function(){return void 0!==this._type&&this._type.replace("*","")};SnapCell.prototype.getWord=function(){return this._word};
SnapCell.prototype.getErrorMessage=function(){var a=this._index;if(void 0===this._word)return'Unfilled "'+this._type+'" slot at line '+this._line+" slot "+a;if(void 0===this._type)return'Extra word "'+this._word+'" at line '+this._line+" slot "+a;var b={int:new IntSlotType,boolean:new BooleanSlotType}[this._type];return b?b.isValid(this._word)?"":"Invalid word at line "+this._line+" slot "+a+'. "'+this._word+'" does not fit in "'+this._type+'" slot.':""};window.SnapCell=SnapCell;
var SnapNode=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(SnapNode,TreeProgram);SnapNode.prototype.getNodeTypes=function(){return this.getProgram().getNodeTypes()};SnapNode.prototype.getDefaultNodeType=function(a){return this.getProgram().getDefaultNodeType()};SnapNode.prototype.getProgram=function(){return this.getParent().getProgram()};SnapNode.prototype.getDictionary=function(){return this.getProgram().getDictionary()};
SnapNode.prototype.getDefinition=function(){var a=this.getBase();return this.getDictionary().getDefinitionByName(a)};SnapNode.prototype.isProgram=function(){return!1};SnapNode.prototype.compile=function(){return this.getDefinition().isMiddle()?this._compileMiddle():this.getIndentation()+this.getCompiledLine()};
SnapNode.prototype._compileMiddle=function(){var a=this.getDefinition(),b=a.getOpenChildrenString(),a=a.getCloseChildrenString(),c=this.getCompiledLine(),d=this.getIndentation(),e=this.getChildrenByNodeType(SnapNode).map(function(a){return a.compile()}).join("\n");return""+d+c+b+"\n"+e+"\n"+d+a};SnapNode.prototype.getParameterErrors=function(){return this.getSnapCellArray().filter(function(a){return a.getErrorMessage()}).map(function(a){return a.getErrorMessage()})};
SnapNode.prototype.getSnapCellArray=function(){for(var a=this.getPoint(),b=this.getDefinition().getBeamParameters(),c=b.length,d=b[c-1],d=d&&d.endsWith("*")?d:void 0,e=this.getWords(1),f=Math.max(e.length,c),g=[],h=0;h<f;h++)g[h]=new SnapCell(e[h],h>=c?d:b[h],a.y,h);return g};SnapNode.prototype._getParameterMap=function(){var a={};this.getSnapCellArray().forEach(function(b){var c=b.getType();a[c]||(a[c]=[]);a[c].push(b.getWord())});return a};
SnapNode.prototype.formatStr=function(a,b,c){b=void 0===b?" ":b;return a.replace(/{([^\}]+)}/g,function(a,e){a=e.endsWith("*");e=e.replace("*","");return(e=c[e])?a?e.join(b):e.shift():""})};SnapNode.prototype.getCompiledLine=function(){var a=this.getDefinition(),b=a.findBeam(DictionaryConstants.listDelimiter),c=this._getParameterMap();return(a=a.findBeam(DictionaryConstants.compiled))?this.formatStr(a,b,c):""};
SnapNode.prototype.getTagLine=function(){var a=this.getSnapCellArray().map(function(a){return a.getType()});return[this.getBase()].concat(a).join(" ")};window.SnapNode=SnapNode;var UnknownSnapNode=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(UnknownSnapNode,TreeProgram);UnknownSnapNode.prototype.getTagLine=function(){return"unknownType ".repeat(this.length).trim()};var SnapProgram=function(a){return TreeProgram.apply(this,arguments)||this};
$jscomp.inherits(SnapProgram,TreeProgram);SnapProgram.prototype.getNodeTypes=function(){return this.getDictionary().getRunTimeNodeTypes()};SnapProgram.prototype.getDefaultNodeType=function(a){return UnknownSnapNode};SnapProgram.prototype.getTypeErrors=function(){return this.getTopDownArray().filter(function(a){return a instanceof UnknownSnapNode})};SnapProgram.prototype.getParameterErrors=function(){return lodash.flatten(this.getSnapNodes().map(function(a){return a.getParameterErrors()}))};
SnapProgram.prototype.getErrorCount=function(){var a=this.getDictionary();return{errorCount:this.getTypeErrors().length+this.getParameterErrors().length,name:a.getExtensionName()}};SnapProgram.prototype.isProgram=function(){return!0};SnapProgram.prototype.getProgram=function(){return this};SnapProgram.prototype.getSnapNodes=function(){return this.getTopDownArray().filter(function(a){return a instanceof SnapNode})};SnapProgram.prototype.run=function(){return Promise.resolve()};
SnapProgram.prototype.getAutocompleteWords=function(a){var b=this.getDictionary().getSnapNodeNames().join("\n")+"\n"+this.childrenToString();return Util.getUniqueWordsArray(b).filter(function(b){return b.word.includes(a)&&b.word!==a}).map(function(a){return a.word})};SnapProgram.prototype.compileFile=function(a){this.delete("#!");this.getDictionary();a=this.getCompiledFileName(a);require("fs").writeFileSync(a,this.compile(),"utf8")};
SnapProgram.prototype.getDictionary=function(){this._dictionary||(this._dictionary=new DictionaryProgram((new TreeProgram(this.getDictionaryString())).getExpanded()));return this._dictionary};SnapProgram.prototype.getProgramTagString=function(){return this.getTopDownArray().map(function(a){return a.getIndentation()+a.getTagLine()}).join("\n")};SnapProgram.prototype.getCompiledFileName=function(a){var b=this.getDictionary();return a.replace("."+b.getExtensionName(),"."+b.getTargetExtension())};
SnapProgram.prototype.executeCommand=function(a){var b=require("child_process").exec;return new Promise(function(c,d){b(a,{},function(a,b,g){if(a)return d(a);c(b)})})};SnapProgram.prototype.executeShell=function(a){var b=require("fs");a=this.getCompiledFileName(a);var c=this.getDictionary();b.writeFileSync(a,this.compile(),"utf8");b=c.getShellCommand()+" "+a;return this.executeCommand(b).then(function(a){return a})};window.SnapProgram=SnapProgram;
var SubDetail=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(SubDetail,TreeProgram);SubDetail.prototype.getDefaultNodeType=function(){return SubDetail};SubDetail.prototype.getParseErrorCount=function(){return 0};SubDetail.prototype.getTagLine=function(){return"subdetail ".repeat(this.length).trim()};var AbstractDetail=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(AbstractDetail,TreeProgram);AbstractDetail.prototype.getDefaultNodeType=function(){return SubDetail};
AbstractDetail.prototype.getDetailName=function(){return this.getBase()};AbstractDetail.prototype.isMonad=function(){return this.has(DictionaryConstants.monad)};AbstractDetail.prototype.getDetailFrequency=function(){var a=this.findBeam(DictionaryConstants.frequency);return a?parseFloat(a):.01};AbstractDetail.prototype.getTagLine=function(){return("detail "+"word ".repeat(this.length?this.length-1:0)).trim()};
AbstractDetail.prototype.getOptions=function(){var a=this.getNode(DictionaryConstants.options),b={};a.length?a.getChildren().forEach(function(a){b[a.getBase()]=a.getBeam()}):a.getBeam().split(" ").forEach(function(a){b[a]=a});return b};AbstractDetail.prototype.getAutoNode=function(){return this.getNode(DictionaryConstants.auto)};AbstractDetail.prototype.getDetailTypeName=function(){return this.getWord(1)};AbstractDetail.prototype.isTemplateString=function(){return this.has(DictionaryConstants.templateString)};
AbstractDetail.prototype.isConst=function(){return this.has(DictionaryConstants.const)};AbstractDetail.prototype.getDefaultValue=function(){var a=this.getWords(2),a=a.length?a.join(" "):"",b=this.getNode(DictionaryConstants.default);return b?b.childrenToString():a};AbstractDetail.prototype.getDescription=function(){return this.findBeam(DictionaryConstants.description)||""};
AbstractDetail.prototype.toFormBray=function(a){return"@input\n data-onChangeCommand tile changeDetailAndRenderCommand\n name "+this.getDetailName()+"\n value "+a};AbstractDetail.prototype._getTileCommandDropdownBray=function(a,b){a=a.map(function(a){return" @option "+a+"\n  value "+a+"\n  "+(b===a?"selected":"notselected")}).join("\n");return"@select\n data-onChangeCommand tile changeDetailAndRenderCommand\n name "+this.getDetailName()+"\n @option\n"+a};
AbstractDetail.prototype.getValueFromTile=function(a){var b=this._getUserValue(a);return this._parseValue(b,a)};AbstractDetail.prototype._parseValue=function(a){return a};AbstractDetail.prototype._getValueFromNode=function(a){return a.getBeam()};
AbstractDetail.prototype._getUserValue=function(a){var b=this.getDefaultValue();if(this.isConst())return b;var c=a.getNode(this.getDetailName()),d=this.isMonad()&&a.getBeam(),c=c&&this._getValueFromNode(c)||d||void 0;return void 0===c&&void 0!==b?b:c?this.isTemplateString()&&c.includes("{")?a.getTileProcess().format(c):c:c};window.AbstractDetail=AbstractDetail;var AlphaNumericDetail=function(a){return AbstractDetail.apply(this,arguments)||this};$jscomp.inherits(AlphaNumericDetail,AbstractDetail);
AlphaNumericDetail.prototype._parseValue=function(a){return(void 0===a?"":a).replace(/[^a-z0-9A-Z]/g,"")};window.AlphaNumericDetail=AlphaNumericDetail;var BooleanDetail=function(a){return AbstractDetail.apply(this,arguments)||this};$jscomp.inherits(BooleanDetail,AbstractDetail);BooleanDetail.prototype._parseValue=function(a){return"true"===a?!0:!1};
BooleanDetail.prototype.toFormBray=function(a){return"@input\n data-onChangeCommand tile changeDetailAndRenderCommand\n name "+this.getBase()+"\n type checkbox\n "+(!0===a?"checked":"unchecked")};window.BooleanDetail=BooleanDetail;var ColumnRunTimeDetail=function(a){return AbstractDetail.apply(this,arguments)||this};$jscomp.inherits(ColumnRunTimeDetail,AbstractDetail);
ColumnRunTimeDetail.prototype._parseValue=function(a,b){var c=b.getInputBinder();if(c.getColumnsMap()[a])return a;if(a=this.getAutoNode()){if(a=a.getBeam())return b.getInputBinder().getAutoColumn(a);b=c.getColumnsByImportance();if(b=b.length&&b[0].getColumnName())return b}};ColumnRunTimeDetail.prototype.toFormBray=function(a,b){return this._getTileCommandDropdownBray(b.getInputBinder().getColumnNames(),a)};window.ColumnRunTimeDetail=ColumnRunTimeDetail;
var EnumDetail=function(a){return AbstractDetail.apply(this,arguments)||this};$jscomp.inherits(EnumDetail,AbstractDetail);EnumDetail.prototype._parseValue=function(a){return this.getOptions()[a]?a:void 0};EnumDetail.prototype.toFormBray=function(a){var b=Object.keys(this.getOptions());return this._getTileCommandDropdownBray(b,a)};window.EnumDetail=EnumDetail;var FormatDetail=function(a){return AbstractDetail.apply(this,arguments)||this};$jscomp.inherits(FormatDetail,AbstractDetail);
FormatDetail.prototype.toFormBray=function(a){var b=(new CardParser).getEncodingNames();return this._getTileCommandDropdownBray(b,a)};window.FormatDetail=FormatDetail;var IntDetail=function(a){return AbstractDetail.apply(this,arguments)||this};$jscomp.inherits(IntDetail,AbstractDetail);IntDetail.prototype._parseValue=function(a){return parseInt(a)};
IntDetail.prototype.toFormBray=function(a){return"@input\n data-onChangeCommand tile changeDetailAndRenderCommand\n name "+this.getBase()+"\n type number\n value "+a};window.IntDetail=IntDetail;var OtherDetail=function(a){return AbstractDetail.apply(this,arguments)||this};$jscomp.inherits(OtherDetail,AbstractDetail);OtherDetail.prototype.getParseErrorCount=function(){return this.getTopDownArray().length};window.OtherDetail=OtherDetail;
var ProbDetail=function(a){return AbstractDetail.apply(this,arguments)||this};$jscomp.inherits(ProbDetail,AbstractDetail);ProbDetail.prototype._parseValue=function(a){return parseFloat(a)};window.ProbDetail=ProbDetail;var QuickDetail=function(a){return AbstractDetail.apply(this,arguments)||this};$jscomp.inherits(QuickDetail,AbstractDetail);QuickDetail.prototype._parseValue=function(a){return Format.linkify(Format.stripHtml(void 0===a?"":a))};window.QuickDetail=QuickDetail;
var SlangDetail=function(a){return AbstractDetail.apply(this,arguments)||this};$jscomp.inherits(SlangDetail,AbstractDetail);SlangDetail.prototype.toFormBray=function(a){return"@textarea\n data-onChangeCommand tile changeDetailAndRenderCommand\n name "+this.getBase()+"\n bern"+TreeProgram.nest(a,2)};SlangDetail.prototype._getValueFromNode=function(a){return a.childrenToString()};window.SlangDetail=SlangDetail;var TitleDetail=function(a){return AbstractDetail.apply(this,arguments)||this};
$jscomp.inherits(TitleDetail,AbstractDetail);TitleDetail.prototype._parseValue=function(a){return Format.stripHtml(void 0===a?"":a)};window.TitleDetail=TitleDetail;var GlobalShortcutNode=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(GlobalShortcutNode,TreeProgram);GlobalShortcutNode.prototype.getKeyCombo=function(){return this.getWord(3)};GlobalShortcutNode.prototype.getFn=function(){return this.getWord(2)};GlobalShortcutNode.prototype.getCategory=function(){return this.getWord(1)};
GlobalShortcutNode.prototype.getDescription=function(){return this.getWords(4).join(" ")};GlobalShortcutNode.prototype.isEnabled=function(){return!0};GlobalShortcutNode.prototype.execute=function(a){if(!this.isEnabled(a))return!1;var b=this.getFn();a.addToCommandLog("app "+b);a.getCommander()[b]()};var MountedShortcutNode=function(a){return GlobalShortcutNode.apply(this,arguments)||this};$jscomp.inherits(MountedShortcutNode,GlobalShortcutNode);MountedShortcutNode.prototype.isEnabled=function(a){return!!a.getMountedTab()};
var DrumsProgram=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(DrumsProgram,TreeProgram);DrumsProgram.prototype.getNodeTypes=function(){return{panel:GlobalShortcutNode,mounted:MountedShortcutNode}};DrumsProgram.prototype.execute=function(a){return Util.compileProgramToJavascriptFile(a)};window.DrumsProgram=DrumsProgram;var FireDictionary='@preface\n @fileExtension fire\n @targetExtension js\n @primitives\n  any\n  identifier any /a-z/i\n  int any /0-9+/\n  float any\n  word any\n  path word\n  boolean any /(true|false)/\n  functionIdentifier identifier\n  methodIdentifier identifier\njs\n @tileSize 100 100\n @tileClass BasicTile /aientist/client/base/tiles/BasicTile.js\nblock js\n @childNodeTypes js\nassignment js\n>tile\n>morph >tile\n @tileSize 420 200\n @tileClass MorphTile /aientist/client/base/tiles/MorphTile.js\nlog@ js\n @description Log variable(s) to console\n @parameters identifier*\n @compiled console.log({identifier*})\n @frequency .5\n @svg printer\n @listDelimiter , \nlog$ js\n @description Log string to console\n @parameters word*\n @compiled console.log("{word*}")\n @frequency .51\n @svg printer\nrequire js\n @description Require Something\n @svg import\n @parameters identifier path\n @compiled const {identifier} = require("{path}")\n @frequency .1\nexport js\n @description Export This\n @svg export\n @parameters identifier\n @compiled module.exports = {identifier}\n @frequency .1\nset# assignment\n @description Number Assignment\n @parameters identifier number\n @compiled const {identifier} = {number}\n @frequency .3\n @svg hashtag\nset? assignment\n @description Boolean Assignment\n @parameters identifier boolean\n @compiled const {identifier} = {boolean}\n @frequency .04\n @svg hashtag\nset$ assignment\n @description String Assignment\n @parameters identifier word*\n @compiled const {identifier} = "{word*}"\n @frequency .2\n @svg font-1\njoin assignment\n @description Join strings to form new string\n @parameters identifier word*\n @listDelimiter , \n @compiled const {identifier} = [{word*}].join("")\n @frequency .2\n @svg font-1\nset#+ assignment\n @description Add Numbers\n @parameters identifier number*\n @listDelimiter , \n @compiled const {identifier} = [{number*}].reduce((sum, num) => sum + num)\n @frequency .1\n @svg add\nset?< set?\n @description Less than test\n @parameters identifier number number\n @compiled const {identifier} = {number} < {number}\n @frequency .1\n @svg lt\nset?<= set?\n @description Less than or equal to test\n @parameters identifier number number\n @compiled const {identifier} = {number} <= {number}\n @frequency .1\n @svg lt-eq\nset?> set?\n @description Greater than test\n @parameters identifier number number\n @compiled const {identifier} = {number} > {number}\n @frequency .1\nset?>= set?\n @description Greater than or equal to test\n @parameters identifier number number\n @compiled const {identifier} = {number} >= {number}\n @frequency .1\nset## assignment\n @parameters identifier number*\n @compiled const {identifier} = {number*}\n @frequency .2\n @svg hashtag\nset#- set##\n @description Subtract Numbers\n @listDelimiter  - \n @svg minus\nset#/ set##\n @description Divide Numbers\n @listDelimiter  / \nset#% set##\n @description Modulo Numbers\n @listDelimiter %\nset#* set##\n @description Multiply Numbers\n @listDelimiter  * \n @svg multiply\nset#~ assignment\n @description Mutable Number Assignment\n @parameters identifier number\n @compiled let {identifier} = {number}\n-- js\n @description Decrement\n @parameters identifier\n @compiled {identifier}--\n @frequency .1\n++ js\n @description Increment\n @frequency .3\n @parameters identifier\n @compiled {identifier}++\nset#[] assignment\n @description Number Array Assignment\n @parameters identifier number*\n @frequency .4\n @compiled const {identifier} = [{number*}]\n @listDelimiter , \nset*>> assignment\n @description Function Call\n @frequency .5\n @svg call\n @parameters identifier functionIdentifier parameter*\n @compiled const {identifier} = {functionIdentifier}({parameter*})\n @listDelimiter , \n>> js\n @description Function call ignore result.\n @frequency .1\n @svg call\n @parameters functionIdentifier parameter*\n @compiled {functionIdentifier}({parameter*})\n @listDelimiter , \nset.>> assignment\n @description Method Call\n @frequency .5\n @parameters identifier instanceIdentifier methodName parameter*\n @compiled const {identifier} = {instanceIdentifier}.{methodName}({parameter*})\n @listDelimiter , \nreturn js\n @parameters identifier\n @compiled return {identifier}\n @frequency .1\n @svg nw\njsblock js\n @childNodeTypes js\n @openChildren  {\n @closeChildren }\nsetfn jsblock\n @description Function Assignment\n @parameters functionIdentifier parameter*\n @compiled const {functionIdentifier} = ({parameter*}) =>\n @frequency .1\n @svg function\n @listDelimiter , \nblock jsblock\n @description block of code\n @svg fork\n @frequency .2\n @compiled /* {identifier} */\nif jsblock\n @description If tile\n @svg fork\n @parameters identifier\n @frequency .2\n @compiled if ({identifier})\nwhile jsblock\n @description While tile\n @parameters identifier\n @frequency .1\n @compiled while ({identifier})';
window.FireDictionary=FireDictionary;var FireProgram=function(a){return SnapProgram.apply(this,arguments)||this};$jscomp.inherits(FireProgram,SnapProgram);FireProgram.prototype.getDictionaryString=function(){return FireDictionary};FireProgram.prototype.execute=function(){var a=[],b=console.log;console.log=function(b){for(var c=[],e=0;e<arguments.length;++e)c[e-0]=arguments[e];return a.push(c)};eval(this.compile());console.log=b;console.log(a.join("\n"));return Promise.resolve(a)};
window.FireProgram=FireProgram;var AbstractFlowTile=function(a){return AbstractTileChisel.apply(this,arguments)||this};$jscomp.inherits(AbstractFlowTile,AbstractTileChisel);AbstractFlowTile._mountedChisels=AbstractTileChisel._mountedChisels;AbstractFlowTile.loadCode=AbstractTileChisel.loadCode;AbstractFlowTile.prototype.getCardClass=function(){return ObjectBackedCard};
AbstractFlowTile.prototype.getPipishInput=function(){return this.getStruct().slang||this.getInputBinder().getFirstColumnAsString()||""};AbstractFlowTile.prototype.getRequiredTable=function(a){a=this.mapDetailNamesToColumnNames(a);var b=this.getOutputBinder();return a.map(function(a){return b.getBinderColumnByName(a)}).some(function(a){return!a})?[]:this.getCardsAsCsvArray(a)};
AbstractFlowTile.prototype.getCardsWithStructQuery=function(){var a=this.getLimit(),b=this.getStruct().orderBy;return this.getOutputBinder().getSortedCardsWithLimit(b,a)};AbstractFlowTile.prototype.getCardsAsCsvArray=function(a){var b=this.getCardsWithStructQuery().map(function(b){return b.getAsArray(a)});b.unshift(a);return b};
AbstractFlowTile.prototype.getRequiredTableWithDates=function(a){var b=this.getOutputBinder(),c=this.mapDetailNamesToColumnNames(a).map(function(a){return b.getBinderColumnByName(a)}),d=this.getRequiredTable(a);if(!d.length)return d;a=c.map(function(a,b){return a.isNumericMS()?b:-1}).filter(function(a){return-1<a});if(!a.length)return d;for(var c=d.length,e={dataIndex:1};e.dataIndex<c;e={dataIndex:e.dataIndex},e.dataIndex++)a.forEach(function(a){return function(b){d[a.dataIndex][b]=new Date(d[a.dataIndex][b])}}(e));
return d};AbstractFlowTile.prototype.createCards=function(a){return Promise.resolve()};AbstractFlowTile.prototype.fetchCards=function(){return Promise.resolve([])};AbstractFlowTile.prototype.getDependencyTimestamps=function(){return[this.getInputBinder().getCTime()]};
AbstractFlowTile.prototype.runTile=function(){var a=this,b=this._getNow();this._timeLastLoadStarted=b;var c=this.fetchCards();c instanceof Promise||console.error("promise error");return c.then(function(c){if(a._timeLastLoadStarted!==b)return Promise.resolve();var d=[].concat(a.getStructColumns()).concat(a.getTileClassColumns()),f=a.getCardClass();a._outputBinder=new Binder(a,c,d,f);a._ttl=a._getNow()-b;return Promise.all(a.getChildTiles().map(function(a){return a.runTile()})).then(function(b){return a})}).catch(function(b){a.handleTileError(b)})};
AbstractFlowTile.prototype.getInspection=function(){var a=this.getInputBinder(),b=this.getOutputBinder(),c=b.getColumnsArrayOfObjects(),d=a.getColumnsArrayOfObjects(),e=a.getCardCount(),f=b.getCardCount();return AbstractTileChisel.prototype.getInspection.call(this)+"\n@div Input cards: "+e+" Output cards: "+f+"\n@div Load time: "+this.getTTL()+" Render time: "+this.getNewestTimeToRender()+"\n@div Input Columns:\n@pre\n bern"+TreeProgram.nest((new TreeProgram(d)).toFixedWidthTable(),2)+"\n@div Output Columns\n@pre\n bern"+
TreeProgram.nest((new TreeProgram(c)).toFixedWidthTable(),2)+"\n@div Output Numeric Values:\n@pre\n bern"+TreeProgram.nest((new TreeProgram(b.getNumericValues())).toFixedWidthTable(),2)+"\n@div TypeScript Interface:\n@pre\n bern"+TreeProgram.nest(b.toTypeScriptInterface(),2)+"\n@div Input Numeric Values:\n@pre\n bern"+TreeProgram.nest((new TreeProgram(a.getNumericValues())).toFixedWidthTable(),2)};window.AbstractFlowTile=AbstractFlowTile;
var AbstractProviderTile=function(a){return AbstractFlowTile.apply(this,arguments)||this};$jscomp.inherits(AbstractProviderTile,AbstractFlowTile);AbstractProviderTile._mountedChisels=AbstractFlowTile._mountedChisels;AbstractProviderTile.loadCode=AbstractFlowTile.loadCode;AbstractProviderTile.prototype.getTileFooterBray=function(){var a=this.getOutputBinder().getCardCount(),b=lodash.round(this.getTTL()/1E3,1);return this.getTileToolbarButtonBray()+"\n@span Out: "+a+" Time: "+b+"s "};
AbstractProviderTile.prototype.isProvider=function(){return!0};AbstractProviderTile.prototype.isVisible=function(){return"false"!==this.findBeam("visible")};window.AbstractProviderTile=AbstractProviderTile;var AbstractTransformerTile=function(a){return AbstractProviderTile.apply(this,arguments)||this};$jscomp.inherits(AbstractTransformerTile,AbstractProviderTile);AbstractTransformerTile._mountedChisels=AbstractProviderTile._mountedChisels;AbstractTransformerTile.loadCode=AbstractProviderTile.loadCode;
AbstractTransformerTile.prototype.getTileFooterBray=function(){var a=this.getInputBinder().getCardCount(),b=this.getOutputBinder().getCardCount();return this.getTileToolbarButtonBray()+"\n@span In: "+a+" Out: "+b};AbstractTransformerTile.prototype.isVisible=function(){return"true"===this.findBeam("visible")};AbstractTransformerTile.prototype.fetchCards=function(){return Promise.resolve(this.transformCards())};window.AbstractTransformerTile=AbstractTransformerTile;var FlowDictionary="@preface\n @fileExtension flow\n @targetExtension html\n @wallType flex\n>tile\n @frequency 0\n limit int 10000\n  @frequency .5\n  @description Maximum number of cards to show.\n orderBy orderByExpression\n  @frequency .5\n left int\n  @frequency .2\n top int\n  @frequency .2\n width int\n  @frequency .2\n height int\n  @frequency .2\n visible boolean true\n  @frequency .1\n @tileClass AbstractFlowTile /aientist/client/flow/AbstractFlowTile.js\n>chart >tile\n>mini >chart\n title title\n @tileSize 1080 600\n @tileClass MiniTile /aientist/client/flow/charts/MiniTile.js\n>list >chart\n title title\n label column\n  @auto getTitlePotential\n @tileClass ListChart /aientist/client/flow/charts/List.js\n>kpi >chart\n @frequency .02\n @svg score\n column column\n  @frequency .90\n  @auto\n title title\n  @monad\n reduction enum count\n  @frequency .70\n  @options count sum average min max median\n @tileClass KpiChart /aientist/client/flow/charts/KpiChart.js\n @tileSize 140 120\n>html >chart\n slang html\n @script /lib/sanitize-html.min.js\n @tileClass HTMLTile /aientist/client/flow/charts/HTMLTile.js\n allowedTags string img\n  @const\n allowedAttributes string\n  @const\n  @default\n   a href name target\n   img src\n>heatcal >chart\n count column\n  @description Column which contains the day's measurement value.\n  @auto getColumnTypeName=number\n day column\n  @description Column which contains the day the measurement was taken.\n  @auto getColumnTypeName=day\n title title\n @tileSize 750 200\n @tileClass HeatCalendarChart /aientist/client/flow/charts/HeatCalendar.js\n>table >chart\n @frequency .2\n @tileSize 750 300\n @svg table\n pretty boolean\n  @frequency .30\n  @description Set to true to show formatted values in cell.\n showColumns columnNames\n  @frequency .20\n  @description Column names to show\n hideColumns columnNames\n  @frequency .20\n  @description Column names to hide\n title title\n limit int 100\n  @frequency .10\n columnOrder enum importance\n  @frequency .20\n  @options default importance alphabetical\n @tileClass TableTile /aientist/client/flow/charts/TableTile.js\n>element >chart\n style slang\n editable boolean true\n slang slang\n  @frequency .9\n  @description Text to show and/or emit.\n  @monad\n @tileClass BrayTile /aientist/client/flow/charts/BrayTile.js\n>title >element\n @frequency .1\n element htmlTag h1\n  @const\n @tileSize 250 90\n>dump >chart\n @tileClass DumpChart /aientist/client/flow/charts/DumpChart.js\n>header >element\n @tileSize 600 120\n>pre >element\n>h1 >header\n>h2 >header\n>labzero >element\n element htmlTag div\n  @const\n title title LabZero is a product development firm in San Francisco. LZ hosted the first ever ohayo and ETN demo on 6/16/2017.\n  @const\n>h3 >header\n>h4 >header\n>h5 >header\n>h6 >header\n>wordcloud >chart\n name column\n  @auto isString=true\n count column\n  @auto isString=false\n @script /lib/wordcloud2.js\n @tileClass WordCloudChart /aientist/client/flow/charts/WordCloud.js\n>google >chart\n limit int 10\n  @frequency .10\n title title\n @script https://www.gstatic.com/charts/loader.js\n @tileClass AbstractGoogleBase /aientist/client/flow/charts/google/AbstractGoogleBase.js\n>googleLabel >google\n label column\n  @description Column to use for the label\n  @auto isString=true\n value column\n  @description Column to use for the value\n  @auto isString=false\n>google.core >googleLabel\n legendPosition enum right\n  @frequency .5\n  @options bottom labeled left none right top\n @tileClass AbstractGoogleCore /aientist/client/flow/charts/google/AbstractGoogleCore.js\n>square >google.core\n @tileClass GoogleSquare /aientist/client/flow/charts/google/GoogleSquare.js\n>google.geo >google.core\n region region\n resolution enum countries\n  @frequency .30\n  @options countries provinces metros\n @tileClass GoogleGeo /aientist/client/flow/charts/google/GoogleGeo.js\n>google.pie >google.core\n is3D boolean false\n  @frequency .10\n pieHole prob\n pieStartAngle number\n sliceVisibilityThreshold prob\n googleClassName string PieChart\n  @const\n>pie >google.pie\n>google.histogram >google.core\n googleClassName string Histogram\n  @const\n>histogram >google.histogram\n>google.column >google.core\n x column\n y column\n  @auto isString=false\n series column\n  @auto isString=true\n row column\n  @auto isString=false\n cell column\n  @auto isString=false\n isStacked boolean true\n  @frequency .10\n @tileClass GoogleColumn /aientist/client/flow/charts/google/GoogleColumn.js\n>line >google.core\n x column\n y column\n  @auto isString=false\n @tileClass GoogleLine /aientist/client/flow/charts/google/GoogleLine.js\n>google.area >line\n @tileClass GoogleArea /aientist/client/flow/charts/google/GoogleArea.js\n>scatter >google.core\n @frequency .05\n x column\n  @auto isString=false\n y column\n  @auto isString=false\n trendlines object\n hMax number\n hMin number\n vMax number\n vMin number\n @tileClass GoogleScatter /aientist/client/flow/charts/google/GoogleScatter.js\n>google.gauge >googleLabel\n min int 0\n  @frequency .10\n max int 100\n  @frequency .10\n redFrom int 90\n  @frequency .10\n redFrom int 100\n  @frequency .10\n yellowFrom int 75\n  @frequency .10\n yellowTo int 90\n  @frequency .10\n minorTicks int 5\n  @frequency .10\n @tileClass GoogleGauge /aientist/client/flow/charts/google/GoogleGauge.js\n>google.timeline >google\n label column\n  @auto getTitlePotential\n @tileClass GoogleTimeline /aientist/client/flow/charts/google/GoogleTimeline.js\n>tree >google\n allowCollapse boolean false\n  @frequency .10\n size enum medium\n  @frequency .10\n  @options small medium large\n @tileClass GoogleOrg /aientist/client/flow/charts/google/GoogleOrg.js\n>bar >google\n limit int 10\n  @frequency .1\n x column\n  @auto\n y column\n  @auto isString=false\n @tileClass GoogleBar /aientist/client/flow/charts/google/GoogleBar.js\n>provider >tile\n @tileSize 140 120\n columns columnsObject\n  @frequency .5\n>data >provider\n @frequency .2\n @svg folder\n slang slang\n  @frequency .9\n  @description The actual data.\n format format\n  @frequency .40\n  @description CSV, TSV, JSON, etc.\n @tileSize 280 220\n @tileClass DataTile /aientist/client/flow/providers/DataTile.js\n>programs >provider\n @tileSize 140 120\n @tileClass ProgramsTile /aientist/client/flow/providers/ProgramsTile.js\n>url >provider\n @frequency .1\n @svg www\n @tileSize 140 120\n url url\n  @frequency .90\n  @templateString\n  @monad\n extract text\n  @frequency .5\n  @description If the url points to JSON, you can specify a field to extract\n format format\n  @frequency .10\n @tileClass AbstractUrlProvider /aientist/client/flow/providers/AbstractUrlProvider.js\n>hn >url\n @frequency .01\n url url https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty\n  @frequency .10\n>reddit >url\n @frequency .05\n @svg reddit\n subreddit text\n  @description Subreddit to download top stories for\n  @monad\n get enum .json\n  @frequency .10\n  @options\n   .json Homepage\n   reddits.json Top Subreddits\n @tileClass RedditTile /aientist/client/flow/providers/RedditTile.js\n>query >provider\n query sql\n  @frequency .99\n  @monad\n @tileClass QueryTile /aientist/client/flow/providers/QueryTile.js\n>presidents >url\n @frequency .01\n @svg whitehouse\n url url /samples/presidents.csv\n  @const\n>top >provider\n query string\n  @monad\n @tileClass TopTile /aientist/client/flow/providers/TopTile.js\n @tileSize 250 90\n>transformer >tile\n @tileSize 160 100\n>chronos >transformer\n column column\n  @auto isTemporal=true\n  @monad\n @tileClass Chronos /aientist/client/flow/transformers/Chronos.js\n>datefilter >transformer\n column column\n  @frequency .90\n  @auto isTemporal=true\n days enum\n  @options\n   0.0416 Last hour\n   1 Last 24 hours\n   3 Last 3 days\n   7 Last 7 days\n   30 Last 30 days\n   180 Last 6 months\n   365 Last 12 months\n @tileClass DateFilter /aientist/client/flow/transformers/DateFilter.js\n>extend >transformer\n @tileClass AbstractExtendTile /aientist/client/flow/transformers/AbstractExtendTile.js\n>filter >transformer\n @frequency .01\n @svg filter\n @tileSize 250 90\n filter text\n  @frequency .90\n  @description The filter string to search for\n  @monad\n @tileClass FilterTile /aientist/client/flow/transformers/FilterTile.js\n>morph >command\n @tileSize 420 200\n @tileClass MorphTile /aientist/client/base/tiles/MorphTile.js\n>didyoumean >command\n @tileClass DidYouMeanTile /aientist/client/base/tiles/DidYouMeanTile.js\n>group >transformer\n @frequency .01\n @svg tree\n by column\n  @frequency .90\n  @monad\n advanced columnNames\n  @frequency .10\n  @description If you want to group by multiple columns\n @tileClass GroupTile /aientist/client/flow/transformers/GroupTile.js\n>join >transformer\n on column\n  @monad\n @tileClass JoinTile /aientist/client/flow/transformers/JoinTile.js\n>convert >transformer\n to format\n  @frequency .99\n @tileClass ConvertTile /aientist/client/flow/transformers/ConvertTile.js\n>parse >transformer\n column column\n  @description Name of the column to parse data from.\n  @auto getColumnTypeName=text\n format format\n  @frequency .40\n  @description CSV, TSV, JSON, etc.\n @tileClass ParseTile /aientist/client/flow/transformers/ParseTile.js\n>tags >transformer\n etn etn\n  @frequency .40\n @tileClass TagsTile /aientist/client/flow/transformers/TagsTile.js\n>wordcount >transformer\n @tileClass WordCount /aientist/client/flow/transformers/WordCount.js\n>wc >wordcount\n>linecount >transformer\n @tileClass LineCount /aientist/client/flow/transformers/LineCount.js\n>lc >linecount\n>command >tile\n>replacer >transformer\n map map\n  @frequency .99\n  @description Words to replace with their replacements.\n @tileClass ReplacerTile /aientist/client/flow/transformers/ReplacerTile.js\n>commands >provider\n method string getCommandsBuffer\n  @const\n @tileClass AbstractRunTimeProvider /aientist/client/flow/providers/AbstractRunTimeProvider.js\n>grid >chart\n @tileClass GridTile /aientist/client/flow/charts/GridTile.js\n @script /node_modules/handsontable/dist/handsontable.full.js\n @cssScript /node_modules/handsontable/dist/handsontable.min.css\n>markdown >chart\n slang markdown\n @tileClass MarkdownChart /aientist/client/flow/charts/MarkdownChart.js\n @tileSize 700 600\n>iframe >element\n element element iframe\n  @const\n editable boolean false\n  @const\n src url\n>delays >iframe\n src url http://embed.flightaware.com/commercial/integrated/web/delay_map.rvt\n  @const\n>flights >iframe\n src url https://www.radarbox24.com/?widget=1&z=2&lat=-2.2616682704093005&lng=-1.004456906404374\n  @const\n>youtube >chart\n video alphanumeric\n  @monad\n @tileClass YouTubeTile /aientist/client/flow/charts/YouTubeTile.js\n @tileSize 800 500\n>outline >chart\n dots boolean\n  @description Whether to just show dots\n @tileClass TreeOutline /aientist/client/flow/charts/TreeOutline.js\n>3d >chart\n slang slang\n dotSize number 0.02\n @script /node_modules/vis/dist/vis.min.js\n @tileClass ThreeDChart /aientist/client/flow/charts/ThreeDChart.js\n @tileSize 800 500\n>fhtml >html\n allowedTags string img script\n  @const\n allowedAttributes string 0\n  @const\n  @default\n   a href name target\n   img src\n   script src\n>eval >transformer\n javascript javascript\n @tileClass EvalTile /aientist/client/flow/transformers/Eval.js\n>stats >transformer\n @tileClass StatsTile /aientist/client/flow/transformers/StatsTile.js";
window.FlowDictionary=FlowDictionary;var FlowProgram=function(a){return SnapProgram.apply(this,arguments)||this};$jscomp.inherits(FlowProgram,SnapProgram);FlowProgram.prototype.getDictionaryString=function(){return FlowDictionary};window.FlowProgram=FlowProgram;var AbstractChartTile=function(a){return AbstractFlowTile.apply(this,arguments)||this};$jscomp.inherits(AbstractChartTile,AbstractFlowTile);AbstractChartTile._mountedChisels=AbstractFlowTile._mountedChisels;AbstractChartTile.loadCode=AbstractFlowTile.loadCode;
AbstractChartTile.prototype.getTileHeaderBern=function(){return this.getStruct().title||""};AbstractChartTile.prototype.getTileFooterBray=function(){var a=this.getInputBinder().getCardCount();return this.getTileToolbarButtonBray()+"\n@span In: "+a};AbstractChartTile.prototype.toDisplayString=function(a,b){return void 0===a?"":this.getInputBinder().getBinderColumnByName(b).toDisplayString(a)};window.AbstractChartTile=AbstractChartTile;
var AbstractHeaderlessChartTile=function(a){return AbstractChartTile.apply(this,arguments)||this};$jscomp.inherits(AbstractHeaderlessChartTile,AbstractChartTile);AbstractHeaderlessChartTile._mountedChisels=AbstractChartTile._mountedChisels;AbstractHeaderlessChartTile.loadCode=AbstractChartTile.loadCode;
AbstractHeaderlessChartTile.prototype.getBray=function(){return"@div\n class TilePage TileChisel "+this.constructor.name+"\n id "+this.getId()+"\n data-onContextMenuCommand chisel openTileContextMenuCommand\n @div\n  class TileGrabber\n @div\n  class TileBody HeaderLess"+TreeProgram.nest(this.getTileBodyBray(),2)+"\n @div\n  class TileFooter"+TreeProgram.nest(this.getTileFooterBray(),2)+"\n @div\n  class TileGrabber"};AbstractHeaderlessChartTile.prototype.getHeaderHeight=function(){return 0};
window.AbstractHeaderlessChartTile=AbstractHeaderlessChartTile;var BrayTile=function(a){return AbstractHeaderlessChartTile.apply(this,arguments)||this};$jscomp.inherits(BrayTile,AbstractHeaderlessChartTile);BrayTile._mountedChisels=AbstractHeaderlessChartTile._mountedChisels;BrayTile.loadCode=AbstractHeaderlessChartTile.loadCode;BrayTile.prototype.getHakon=function(){return".BrayTile\n div\n  overflow scroll\n p\n  padding 5px\n  width 100%\n  height 100%\n  box-sizing border-box\n  white-space pre\n  outline 0"};
BrayTile.prototype.getTileFooterBray=function(){return this.getTileToolbarButtonBray()};BrayTile.prototype.fetchCards=function(){return Promise.resolve([{text:this.getStruct().slang}])};
BrayTile.prototype.getTileBodyBray=function(){var a=this.getStruct(),b=this.getPipishInput();return"@"+(a.element||this.getBase().substr(1))+"\n style "+a.style+TreeProgram.nest(a.src?"src "+a.src:"",1)+"\n data-onBlurCommand chisel updateSlangCommand\n contenteditable "+(a.editable?"true":"false")+"\n bern"+TreeProgram.nest(b,2)};window.BrayTile=BrayTile;var DumpChart=function(a){return AbstractHeaderlessChartTile.apply(this,arguments)||this};$jscomp.inherits(DumpChart,AbstractHeaderlessChartTile);
DumpChart._mountedChisels=AbstractHeaderlessChartTile._mountedChisels;DumpChart.loadCode=AbstractHeaderlessChartTile.loadCode;DumpChart.prototype.getTileBodyBray=function(){return"@div\n style overflow: scroll; width: 100%; height: 100%;\n bern"+TreeProgram.nest(this.getPipishInput(),2)};window.DumpChart=DumpChart;var GridTile=function(a){return AbstractHeaderlessChartTile.apply(this,arguments)||this};$jscomp.inherits(GridTile,AbstractHeaderlessChartTile);GridTile._mountedChisels=AbstractHeaderlessChartTile._mountedChisels;
GridTile.loadCode=AbstractHeaderlessChartTile.loadCode;GridTile.prototype.getTileBodyBray=function(){return"@div\n class hot"};GridTile.prototype.getHakon=function(){return".hot\n color black"};GridTile.prototype.transformCards=function(){};GridTile.prototype.chiselWillUnmount=function(){this._hot&&this._hot.destroy();delete this._hot};
GridTile.prototype.chiselDidUpdate=function(){AbstractHeaderlessChartTile.prototype.chiselDidUpdate.call(this);var a=this.getInputBinder().getColumnsByImportance().map(function(a){return a.getColumnName()}),a=this.getCardsAsCsvArray(a),b=this.getTileDimension(),c=b.width,b=b.height-30,d=this.getStump().findStumpByChild("class hot"),e=this.getApp();if(!this.isNodeJs())return this._hot=new Handsontable(d[0],{data:a,rowHeaders:!0,colHeaders:!0,stretchH:"all",width:c,minSpareCols:10,minSpareRows:30,afterSelection:function(){return e.pauseShortcutListener()},
afterDeselect:function(){return e.startShortcutListener()},height:b})};GridTile.prototype.chiselDidMount=function(){this.chiselDidUpdate()};window.GridTile=GridTile;var BaseBeamArray=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(BaseBeamArray,TreeProgram);BaseBeamArray.prototype.toArrayMap=function(){var a={};this.getChildren().forEach(function(b){a[b.getBase()]=b.getBeam().split(" ")});return a};
var HTMLTile=function(a){return AbstractHeaderlessChartTile.apply(this,arguments)||this};$jscomp.inherits(HTMLTile,AbstractHeaderlessChartTile);HTMLTile._mountedChisels=AbstractHeaderlessChartTile._mountedChisels;HTMLTile.loadCode=AbstractHeaderlessChartTile.loadCode;
HTMLTile.prototype.getTileBodyBray=function(){var a=this.getStruct(),b=a.slang||"",c=a.allowedTags.split(" "),a=(new BaseBeamArray(a.allowedAttributes)).toArrayMap(),b=sanitizeHtml(b,{allowedTags:sanitizeHtml.defaults.allowedTags.concat(c),allowedSchemes:["http","https","file","mailto"],allowedAttributes:a});return"@div\n bern"+TreeProgram.nest(b)};window.HTMLTile=HTMLTile;var HeatCalendarChart=function(a){return AbstractHeaderlessChartTile.apply(this,arguments)||this};
$jscomp.inherits(HeatCalendarChart,AbstractHeaderlessChartTile);HeatCalendarChart._mountedChisels=AbstractHeaderlessChartTile._mountedChisels;HeatCalendarChart.loadCode=AbstractHeaderlessChartTile.loadCode;
HeatCalendarChart.prototype._getLegend=function(a,b,c){var d=this.getTheme();a=a.map(function(a,f){f=c.left+b*f;return'<rect style="fill: '+d.getHeatColor(1-a.percent)+'" width="10" height="10" x="'+f+'" y="'+c.top+'"></rect>'}).join("");return'<g>\n<text x="'+(c.left-25)+'" y="'+(c.top+10)+'">Less</text>\n'+a+'\n<text x="'+(c.left+70)+'" y="'+(c.top+10)+'">More</text>\n</g>'};HeatCalendarChart.prototype.getHakon=function(){return".heatCal\n rect\n  fill "+this.getTheme().darkerBackground+"\n  shape-rendering crispedges\n text\n  font-size 10px\n  fill #ddd"};
HeatCalendarChart.prototype.getTileBodyBray=function(){return"@div\n class heatCal\n style padding: 30px 10px 10px;\n bern"+TreeProgram.nest(this.getSvg(),2)};HeatCalendarChart.prototype._getDayMap=function(a,b,c,d){var e={};b.forEach(function(b){var f=b.getCardNumeric(),h=moment(f[c]).format("MM/DD/YYYY");a:{for(var k=0;k<a.length;k++)if(f[d]<=a[k].value){f=a[k].percent;break a}f=void 0}e[h]={Quin:f,card:b}});return e};
HeatCalendarChart.prototype._getDaysArray=function(a,b){for(var c=[],d=parseInt(a.format("e")),e=0;e<=b;e++){var f=a.clone().add(e,"days");c.push({day:f,row:parseInt(f.format("e")),col:Math.floor((d+e)/7)})}return c};HeatCalendarChart.prototype._getDayNamesG=function(a){return"<g>"+[{day:"Mon",row:2},{day:"Wed",row:4},{day:"Fri",row:6}].map(function(b){return'<text x="0" y="'+(20+b.row*a-3)+'">'+b.day+"</text>"}).join("")+"</g>"};
HeatCalendarChart.prototype._getMonthNamesG=function(a,b){var c={};return"<g>"+a.map(function(a){var d=a.day.format("MMM"),f=a.day.format("MM/YYYY");if(c[f])return"";c[f]=!0;return'<text x="'+(40+a.col*b)+'" y="10">'+d+"</text>"}).join("")+"</g>"};
HeatCalendarChart.prototype._getDataSquaresG=function(a,b,c){var d=moment(Date.now()).format("MM/DD/YYYY"),e=this.getTheme();return"<g>"+a.map(function(a){var f=a.day.format("MM/DD/YYYY"),h=20+a.row*b;a=40+a.col*b;var k=c[f],l=k?'id="t'+k.card.getPuid()+'"':"",n=f===d?"stroke-width:2;stroke:rgb(0,0,0);":"";return'<rect style="'+((k?"fill: "+e.getHeatColor(1-k.Quin):"")+";"+n)+'" '+l+' data-day="'+f+'" width="10" height="10" x="'+a+'" y="'+h+'"></rect>'}).join("")+"</g>"};
HeatCalendarChart.prototype.getSvg=function(){var a=this.getInputBinder(),b=a.getCards();if(!b.length)return"";var c=this.getStruct(),d=c.day,e=c.count;if(!d||!e)return"";a.getBinderColumnByName(d);var c=a.getBinderColumnByName(e),f=moment(Date.now()).clone().subtract(365,"days"),a=365/6*12,c=c.getQuins(),e=this._getDayMap(c,b,d,e),f=this._getDaysArray(f,365),b=this._getDayNamesG(12),d=this._getMonthNamesG(f,12),e=this._getDataSquaresG(f,12,e),c=this._getLegend(c,12,{top:110,left:60});return'<svg width="'+
a+'" height="184">'+(b+e+d+c)+"</svg>"};window.HeatCalendarChart=HeatCalendarChart;var KpiChart=function(a){return AbstractHeaderlessChartTile.apply(this,arguments)||this};$jscomp.inherits(KpiChart,AbstractHeaderlessChartTile);KpiChart._mountedChisels=AbstractHeaderlessChartTile._mountedChisels;KpiChart.loadCode=AbstractHeaderlessChartTile.loadCode;
KpiChart.prototype.getTileBodyBray=function(){var a=this.getStruct(),b=a.column,c=a.reduction;if(!b)return"";c=this.getInputBinder().getBinderColumnByName(b).getReductions()[c];b=this.toDisplayString(c,b);return"@div\n style text-align: center;\n@h3 "+(a.title||"")+"\n@h3 "+b};window.KpiChart=KpiChart;var ListChart=function(a){return AbstractChartTile.apply(this,arguments)||this};$jscomp.inherits(ListChart,AbstractChartTile);ListChart._mountedChisels=AbstractChartTile._mountedChisels;
ListChart.loadCode=AbstractChartTile.loadCode;ListChart.prototype.getHakon=function(){return".ListChart\n ol\n  height 100%\n  width 100%\n  overflow scroll\n  box-sizing border-box\n  margin 0"};ListChart.prototype.getTileBodyBray=function(){var a=this.getStruct(),b=a.link,c=a.label;return"@ol\n"+this.getCardsWithStructQuery().map(function(a){var d=Format.stripHtml(a.getCardValue(c));a=b?"href "+Format.stripHtml(a.getCardValue(b)):"";return" @li\n  @a "+d+"\n   "+a}).join("\n")};
window.ListChart=ListChart;var MarkdownChart=function(a){return AbstractHeaderlessChartTile.apply(this,arguments)||this};$jscomp.inherits(MarkdownChart,AbstractHeaderlessChartTile);MarkdownChart._mountedChisels=AbstractHeaderlessChartTile._mountedChisels;MarkdownChart.loadCode=AbstractHeaderlessChartTile.loadCode;MarkdownChart.prototype.getHakon=function(){return".MarkdownChart\n div\n  overflow scroll"};
MarkdownChart.prototype.getTileBodyBray=function(){var a=this.getPipishInput(),a=marked(a);return"@div\n bern"+TreeProgram.nest(a,2)};window.MarkdownChart=MarkdownChart;var MiniTile=function(a){return AbstractChartTile.apply(this,arguments)||this};$jscomp.inherits(MiniTile,AbstractChartTile);MiniTile._mountedChisels=AbstractChartTile._mountedChisels;MiniTile.loadCode=AbstractChartTile.loadCode;
MiniTile.prototype.getHakon=function(){var a=this.getTheme();return".MiniTile\n .TileBody\n  overflow scroll\n .miniMap\n  background "+a.backgroundColor+"\n  width 120px\n  height 90px\n  margin 6px\n  position relative\n  overflow hidden\n  display inline-block\n  .miniFooter\n   font-size 12px\n   position absolute\n   bottom 0\n   width 100%\n   height 15px\n   line-height 15px\n   text-align center\n  .miniPreview\n   position absolute\n   width 100%\n   height calc(100% - 15px)\n   top 0\n   overflow hidden\n   div\n    position absolute\n    background "+
a.linkColor};MiniTile.prototype._getMiniBray=function(a,b,c,d){var e=a.getTileDimensionMap(void 0===c?120:c,void 0===d?75:d);a=a.getProcessTiles().filter(function(a){return a.isVisible()}).map(function(a){return"@div\n style "+e.get(a).getScaledCss(.1)}).join("\n");return"@a\n class miniMap\n data-onClickCommand app openUrlInNewTabAndFocusCommand\n value "+b+"\n href "+b+"\n @div\n  class miniPreview"+TreeProgram.nest(a,2)+"\n @div "+b+"\n  class miniFooter"};
MiniTile.prototype.getTileBodyBray=function(){var a=this;this.getStruct();this.getApp();var b=this.getCardsWithStructQuery().map(function(b){var c=b.getCardValue("bytes");b=b.getCardValue("link");c=new TileProcess(c,void 0,a.getTab());return a._getMiniBray(c,b)}).join("\n");return"@div\n class MiniTile"+TreeProgram.nest(b,1)};window.MiniTile=MiniTile;var TableTile=function(a){return AbstractChartTile.apply(this,arguments)||this};$jscomp.inherits(TableTile,AbstractChartTile);
TableTile._mountedChisels=AbstractChartTile._mountedChisels;TableTile.loadCode=AbstractChartTile.loadCode;
TableTile.prototype.getHakon=function(){var a=this.getTheme();return".TableChisel\n overflow scroll\n font-size 12px\n box-sizing border-box\n width 100%\n height 100%\n "+a.enableTextSelect(1)+"\n top 34px\n tr\n  white-space nowrap\n  padding 0\n td:first-child,th:first-child\n  padding-left 5px\n td,th\n  padding-right 30px\n  overflow hidden\n  text-overflow ellipsis\n  max-width 250px\n td:hover,th:hover\n  overflow visible\n th\n  cursor pointer\n input,textarea\n  border 0\n  font-size 14px\n  box-sizing border-box\n  padding 0\n  font-family "+a.fonts};
TableTile.prototype._getTrBray=function(a,b){return this.getCardsWithStructQuery().map(function(b,d){var c=b.getPuid();b.getCardNumeric();var f=a.map(function(a){var c=a.getColumnName(),c=b.getCardValue(c),d="";void 0!==c&&(d=Format.stripHtml(c).toString());return a.isLink()?"@td\n @a\n  href "+d+"\n  bern"+TreeProgram.nest(d,3):"@td\n bern"+TreeProgram.nest(d,2)}).join("\n");return"@tr\n class tableRow\n value "+c+"\n @td "+(d+1)+TreeProgram.nest(f,1)}).join("\n")};
TableTile.prototype.getContextMenuBray=function(){return"@a Delete all cards\n data-onClickCommand app deleteAllCardsInTargetTileCommand"};TableTile.prototype._getHeaderBray=function(a,b){return"@th\n"+a.map(function(a){return"@th\n style "+(b===a||b==="-"+a?"font-style: italic;":"")+"\n value "+a+"\n @span "+a+"\n  tabindex -1\n  data-onClickCommand chisel changeTileOrderByCommand\n  value "+a}).join("\n")};
TableTile.prototype.getTileBodyBray=function(){var a=this.getStruct(),b=this.getInputBinder(),b="importance"===a.columnOrder?b.getColumnsByImportance():b.getColumnsArray();if(a.showColumns)var c=a.showColumns.split(" "),b=b.filter(function(a){return c.includes(a.getColumnName())});else if(a.hideColumns)var d=a.hideColumns.split(" "),b=b.filter(function(a){return!d.includes(a.getColumnName())});var b=b.slice(0,50),e=b.map(function(a){return a.getColumnName()}),e=this._getHeaderBray(e,a.orderBy),a=
this._getTrBray(b,a.pretty);return"@div\n class TableChisel\n @table\n  @thead\n   @tr\n    title Click to sort."+TreeProgram.nest(e,4)+"\n  @tbody "+TreeProgram.nest(a,2)};window.TableTile=TableTile;var ThreeDChart=function(a){return AbstractHeaderlessChartTile.apply(this,arguments)||this};$jscomp.inherits(ThreeDChart,AbstractHeaderlessChartTile);ThreeDChart._mountedChisels=AbstractHeaderlessChartTile._mountedChisels;ThreeDChart.loadCode=AbstractHeaderlessChartTile.loadCode;
ThreeDChart.prototype.getTileBodyBray=function(){return"@div\n class visjs"};ThreeDChart.prototype.chiselDidMount=function(){AbstractHeaderlessChartTile.prototype.chiselDidMount.call(this);this.chiselDidUpdate()};ThreeDChart.prototype.chiselDidUpdate=function(){AbstractHeaderlessChartTile.prototype.chiselDidUpdate.call(this);if(!this.isNodeJs())try{this._tryVis()}catch(a){console.error(a)}};
ThreeDChart.prototype._tryVis=function(){var a=this.getStruct(),b=this.getPipishInput(),c=this.getApp(),d=c.getLanguageBestGuess(b),b=c.generateProgram(b,d),b=this._treeTo3D(b),e=new vis.DataSet;b.forEach(function(a){return e.add(a)});a=a.dotSize;b=this.getTileDimension();a={width:b.width+"px",height:b.height-80+"px",style:"dot-color",showPerspective:!1,showLegend:!1,showShadow:!1,keepAspectRatio:!0,xStep:1,yStep:1,zStep:1,zMax:5,showGrid:!0,showZAxis:!1,showXAxis:!1,showYAxis:!1,dotSizeRatio:a,dotSizeMinFraction:1,
cameraPosition:{horizontal:.1,vertical:1.5,distance:4},verticalRatio:1,tooltip:function(a){return a.data.line}};b=this.getStump().findStumpByChild("class visjs").getShadow().getShadowElement();new vis.Graph3d(b,e,a)};
ThreeDChart.prototype._treeTo3D=function(a){var b={},c=new TreeProgram(a.getProgramTagString()),d=Util.makeSemiRandomFn(),e=[];a.getTopDownArray().forEach(function(f,g){var h=f.getPoint(a);g=f.getPathVector(a);var k=c.nodeAt(g);f.getWords().forEach(function(a,c){var f=k.getWord(c);b[f]||(b[f]=d());c=h.x+c;e.push({x:c,y:-h.y,z:0,line:f+" | "+a+" | x "+c+" y "+h.y+" z 0",style:b[f]})})});return e};window.ThreeDChart=ThreeDChart;
var TreeOutline=function(a){return AbstractHeaderlessChartTile.apply(this,arguments)||this};$jscomp.inherits(TreeOutline,AbstractHeaderlessChartTile);TreeOutline._mountedChisels=AbstractHeaderlessChartTile._mountedChisels;TreeOutline.loadCode=AbstractHeaderlessChartTile.loadCode;
TreeOutline.prototype.getTileBodyBray=function(){var a=new TreeProgram(this.getPipishInput()),a=this.getStruct().dots?a.toOutline(function(a){return"o"+a.getLine().split(" ").map(function(a){return"\u00ba"}).join("")}):a.toOutline();return"@pre\n style overflow: scroll; width: 100%; height: 100%; margin: 0; box-sizing: border-box;\n bern"+TreeProgram.nest(a,2)};window.TreeOutline=TreeOutline;var WordCloudChart=function(a){return AbstractHeaderlessChartTile.apply(this,arguments)||this};
$jscomp.inherits(WordCloudChart,AbstractHeaderlessChartTile);WordCloudChart._mountedChisels=AbstractHeaderlessChartTile._mountedChisels;WordCloudChart.loadCode=AbstractHeaderlessChartTile.loadCode;WordCloudChart.prototype.getTileBodyBray=function(){return"@div\n class wordCloud\n style width: 100%; height: 100%;"};WordCloudChart.prototype._getWords=function(){return this.getRequiredTable(["name","count"])};WordCloudChart.prototype.chiselDidUpdate=function(){this._draw()};
WordCloudChart.prototype.chiselDidMount=function(){this._draw()};WordCloudChart.prototype._draw=function(){var a=this.getStruct(),b=this._getWords();b.length&&(b.shift(),b={list:b.map(function(a){return[a[0],a[1]]}),shuffle:!1,backgroundColor:"transparent",random:Util.makeSemiRandomFn(),wait:0},Object.assign(b,a),a=this.getStump().findStumpByChild("class wordCloud").getShadow().getShadowElement(),WordCloud(a,b))};window.WordCloudChart=WordCloudChart;
var YouTubeTile=function(a){return AbstractHeaderlessChartTile.apply(this,arguments)||this};$jscomp.inherits(YouTubeTile,AbstractHeaderlessChartTile);YouTubeTile._mountedChisels=AbstractHeaderlessChartTile._mountedChisels;YouTubeTile.loadCode=AbstractHeaderlessChartTile.loadCode;YouTubeTile.prototype.getTileBodyBray=function(){var a=this.getTileDimension().width,b=this.getStruct().video;return"@iframe\n width "+a+"\n height "+a+"\n src https://www.youtube.com/embed/"+b+"\n frameborder 0\n allowfullscreen"};
window.YouTubeTile=YouTubeTile;var MockGoogle=function(){this.visualization={}},AbstractGoogleBase=function(a){return AbstractHeaderlessChartTile.apply(this,arguments)||this};$jscomp.inherits(AbstractGoogleBase,AbstractHeaderlessChartTile);AbstractGoogleBase._mountedChisels=AbstractHeaderlessChartTile._mountedChisels;AbstractGoogleBase.loadCode=AbstractHeaderlessChartTile.loadCode;
AbstractGoogleBase.loadPackages=function(a){return"undefined"===typeof google?Promise.resolve():new Promise(function(b,c){return google.charts.load("current",{packages:a,callback:function(){return b()}})})};AbstractGoogleBase.prototype.getGoogle=function(){this._google||(this._google=this.isNodeJs()?new MockGoogle:google);return this._google};AbstractGoogleBase.prototype.getTileBodyBray=function(){return"@div\n class goog"};AbstractGoogleBase.prototype.getHakon=function(){return".goog\n .TilePage\n  overflow scroll"};
AbstractGoogleBase.prototype._getGoogElement=function(){return this.getStump().findStumpByChild("class goog").getShadow().getShadowElement()};AbstractGoogleBase.prototype._getGoogleOptions=function(){var a={},b=this.getStruct();Object.assign(a,b);b=this.getTileBodyDimension();a.width=b.width;a.height=b.height;a.backgroundColor=this.getTheme().tileBackgroundColor;return a};
AbstractGoogleBase.prototype._draw=function(){if(!this.getInputBinder().getCardCount())return"";if(!this.isNodeJs()){var a=this._getChartClass(),b=this._getGoogElement(),a=new a(b),b=this._getGoogleOptions(),c=this._getGoogleData();a.draw(c,b)}};AbstractGoogleBase.prototype.chiselDidUpdate=function(){this._draw()};AbstractGoogleBase.prototype.chiselDidMount=function(){this._draw()};AbstractGoogleBase.prototype.getLabelValue=function(){return this.getSomeData(["label","value"])};
AbstractGoogleBase.prototype.getSomeData=function(a){a=this.getRequiredTableWithDates(a);return this.getGoogle().visualization.arrayToDataTable(a)};AbstractGoogleBase.prototype.getGooglePivotTable=function(a,b,c){var d=this.getStruct(),e=Object.keys(b.getMap()),f=[];Object.keys(c.getMap()).forEach(function(b){var c=[b];e.forEach(function(b){var e=lodash.find(a,function(a){return a[d.series]===b&&a[d.card]===a});c.push(e?e[d.cell]:0)});f.push(c)});e.unshift(d.series);f.unshift(e);return f};
window.AbstractGoogleBase=AbstractGoogleBase;var AbstractGoogleCore=function(a){return AbstractGoogleBase.apply(this,arguments)||this};$jscomp.inherits(AbstractGoogleCore,AbstractGoogleBase);AbstractGoogleCore._mountedChisels=AbstractGoogleBase._mountedChisels;AbstractGoogleCore.loadPackages=AbstractGoogleBase.loadPackages;AbstractGoogleCore.loadCode=function(){return AbstractGoogleBase.loadPackages(["corechart"])};AbstractGoogleCore.prototype._getGoogleData=function(){return this.getLabelValue()};
AbstractGoogleCore.prototype._getGoogleOptions=function(){var a=AbstractGoogleBase.prototype._getGoogleOptions.call(this),b=this.getStruct();a.legend={};a.legend.position=b.legendPosition;return a};AbstractGoogleCore.prototype._getChartClass=function(){return this.getGoogle().visualization[this.getStruct().googleClassName]};window.AbstractGoogleCore=AbstractGoogleCore;var GoogleArea=function(a){return AbstractGoogleCore.apply(this,arguments)||this};$jscomp.inherits(GoogleArea,AbstractGoogleCore);
GoogleArea._mountedChisels=AbstractGoogleCore._mountedChisels;GoogleArea.loadPackages=AbstractGoogleCore.loadPackages;GoogleArea.loadCode=AbstractGoogleCore.loadCode;GoogleArea.prototype._getChartClass=function(){return this.getGoogle().visualization.AreaChart};GoogleArea.prototype._getGoogleData=function(){return this.getSomeData(["x","y"])};window.GoogleArea=GoogleArea;var GoogleBar=function(a){return AbstractGoogleCore.apply(this,arguments)||this};$jscomp.inherits(GoogleBar,AbstractGoogleCore);
GoogleBar._mountedChisels=AbstractGoogleCore._mountedChisels;GoogleBar.loadPackages=AbstractGoogleCore.loadPackages;GoogleBar.loadCode=AbstractGoogleCore.loadCode;GoogleBar.prototype._getChartClass=function(){return this.getGoogle().visualization.BarChart};GoogleBar.prototype._getGoogleData=function(){return this.getSomeData(["x","y"])};window.GoogleBar=GoogleBar;var GoogleColumn=function(a){return AbstractGoogleCore.apply(this,arguments)||this};$jscomp.inherits(GoogleColumn,AbstractGoogleCore);
GoogleColumn._mountedChisels=AbstractGoogleCore._mountedChisels;GoogleColumn.loadPackages=AbstractGoogleCore.loadPackages;GoogleColumn.loadCode=AbstractGoogleCore.loadCode;GoogleColumn.prototype._getChartClass=function(){return this.getGoogle().visualization.ColumnChart};
GoogleColumn.prototype._getGoogleData=function(){var a=this.getStruct(),b=this.getInputBinder(),c=b.getBinderColumnByName(a.series),a=b.getBinderColumnByName(a.card),b=b.getCards().map(function(a){return a.getCardNumeric()});return this.getGoogle().visualization.arrayToDataTable(this.getGooglePivotTable(b,c,a))};window.GoogleColumn=GoogleColumn;var GoogleGauge=function(a){return AbstractGoogleBase.apply(this,arguments)||this};$jscomp.inherits(GoogleGauge,AbstractGoogleBase);
GoogleGauge._mountedChisels=AbstractGoogleBase._mountedChisels;GoogleGauge.loadPackages=AbstractGoogleBase.loadPackages;GoogleGauge.loadCode=function(){return AbstractGoogleBase.loadPackages(["gauge"])};GoogleGauge.prototype._getChartClass=function(){return this.getGoogle().visualization.Gauge};GoogleGauge.prototype._getGoogleData=function(){return this.getLabelValue()};window.GoogleGauge=GoogleGauge;var GoogleGeo=function(a){return AbstractGoogleCore.apply(this,arguments)||this};
$jscomp.inherits(GoogleGeo,AbstractGoogleCore);GoogleGeo._mountedChisels=AbstractGoogleCore._mountedChisels;GoogleGeo.loadPackages=AbstractGoogleCore.loadPackages;GoogleGeo.loadCode=function(){return AbstractGoogleCore.loadPackages(["geochart"])};GoogleGeo.prototype._getChartClass=function(){return this.getGoogle().visualization.GeoChart};window.GoogleGeo=GoogleGeo;var GoogleLine=function(a){return AbstractGoogleCore.apply(this,arguments)||this};$jscomp.inherits(GoogleLine,AbstractGoogleCore);
GoogleLine._mountedChisels=AbstractGoogleCore._mountedChisels;GoogleLine.loadPackages=AbstractGoogleCore.loadPackages;GoogleLine.loadCode=AbstractGoogleCore.loadCode;GoogleLine.prototype._getChartClass=function(){return this.getGoogle().visualization.LineChart};GoogleLine.prototype._getGoogleData=function(){return this.getSomeData(["x","y"])};window.GoogleLine=GoogleLine;var GoogleOrg=function(a){return AbstractGoogleBase.apply(this,arguments)||this};$jscomp.inherits(GoogleOrg,AbstractGoogleBase);
GoogleOrg._mountedChisels=AbstractGoogleBase._mountedChisels;GoogleOrg.loadPackages=AbstractGoogleBase.loadPackages;GoogleOrg.loadCode=function(){return AbstractGoogleBase.loadPackages(["orgchart"])};GoogleOrg.prototype._getChartClass=function(){return this.getGoogle().visualization.OrgChart};
GoogleOrg.prototype._getGoogleData=function(){var a=this.getInputBinder().getCards()[0];if(!a)return this.getGoogle().visualization.arrayToDataTable([]);a=(new TreeProgram(a.getCardSource())).getTopDownArray().map(function(a){return[{v:a.getPathVector().join(" "),f:a.getLine()},a.getParent().getPathVector().join(" ")]});return this.getGoogle().visualization.arrayToDataTable(a)};window.GoogleOrg=GoogleOrg;var GoogleScatter=function(a){return AbstractGoogleCore.apply(this,arguments)||this};
$jscomp.inherits(GoogleScatter,AbstractGoogleCore);GoogleScatter._mountedChisels=AbstractGoogleCore._mountedChisels;GoogleScatter.loadPackages=AbstractGoogleCore.loadPackages;GoogleScatter.loadCode=AbstractGoogleCore.loadCode;GoogleScatter.prototype._getChartClass=function(){return this.getGoogle().visualization.ScatterChart};
GoogleScatter.prototype._getGoogleOptions=function(){var a=AbstractGoogleCore.prototype._getGoogleOptions.call(this),b=this.getStruct();a.hAxis={};a.hAxis.maxValue=b.hMax;a.hAxis.minValue=b.hMin;a.vAxis={};a.vAxis.maxValue=b.vMax;a.vAxis.minValue=b.vMin;return a};GoogleScatter.prototype._getGoogleData=function(){return this.getSomeData(["x","y"])};window.GoogleScatter=GoogleScatter;var GoogleSquare=function(a){return AbstractGoogleBase.apply(this,arguments)||this};$jscomp.inherits(GoogleSquare,AbstractGoogleBase);
GoogleSquare._mountedChisels=AbstractGoogleBase._mountedChisels;GoogleSquare.loadPackages=AbstractGoogleBase.loadPackages;GoogleSquare.loadCode=function(){return AbstractGoogleBase.loadPackages(["treemap"])};
GoogleSquare.prototype._getGoogleOptions=function(){var a=this.getTheme(),b=AbstractGoogleBase.prototype._getGoogleOptions.call(this);b.highlightOnMouseOver=!1;b.headerHeight=0;b.minColor=tinycolor(a.selectionColor).lighten(40).toHexString();b.midColor=tinycolor(a.selectionColor).toHexString();b.maxColor=tinycolor(a.selectionColor).darken(20).toHexString();return b};
GoogleSquare.prototype._getGoogleData=function(){var a=this.getRequiredTable(["label","value"]).map(function(a){return[a[0],"All",a[1]]}),b=a.shift();a.unshift(["All",null,0]);a.unshift(b);return this.getGoogle().visualization.arrayToDataTable(a)};GoogleSquare.prototype._getChartClass=function(){return this.getGoogle().visualization.TreeMap};window.GoogleSquare=GoogleSquare;var GoogleTimeline=function(a){return AbstractGoogleBase.apply(this,arguments)||this};$jscomp.inherits(GoogleTimeline,AbstractGoogleBase);
GoogleTimeline._mountedChisels=AbstractGoogleBase._mountedChisels;GoogleTimeline.loadPackages=AbstractGoogleBase.loadPackages;GoogleTimeline.loadCode=function(){return AbstractGoogleBase.loadPackages(["timeline"])};GoogleTimeline.prototype._getChartClass=function(){return this.getGoogle().visualization.Timeline};
GoogleTimeline.prototype._getGoogleData=function(){var a=(new this.getGoogle).visualization.DataTable();a.addColumn({type:"string",id:"Title"});a.addColumn({type:"date",id:"Start"});a.addColumn({type:"date",id:"End"});var b=this._getTimelineCards();a.addCards(b);return a};
GoogleTimeline.prototype._getTimelineCards=function(){var a=this.getInputBinder().getCards(),b=this.getStruct().label;return a.map(function(a){var c=a.getCardNumeric();a=a.getCardValue(b);var e=moment(c.start).toDate(),c=moment(c.end).toDate();return[a,e,c]})};window.GoogleTimeline=GoogleTimeline;var AbstractConnectorTile=function(a){return AbstractProviderTile.apply(this,arguments)||this};$jscomp.inherits(AbstractConnectorTile,AbstractProviderTile);AbstractConnectorTile._mountedChisels=AbstractProviderTile._mountedChisels;
AbstractConnectorTile.loadCode=AbstractProviderTile.loadCode;window.AbstractConnectorTile=AbstractConnectorTile;var AbstractRunTimeProvider=function(a){return AbstractProviderTile.apply(this,arguments)||this};$jscomp.inherits(AbstractRunTimeProvider,AbstractProviderTile);AbstractRunTimeProvider._mountedChisels=AbstractProviderTile._mountedChisels;AbstractRunTimeProvider.loadCode=AbstractProviderTile.loadCode;AbstractRunTimeProvider.prototype.fetchCards=function(){return Promise.resolve(this.getApp()[this.getStruct().method]())};
window.AbstractRunTimeProvider=AbstractRunTimeProvider;var AbstractSourceTile=function(a){return AbstractProviderTile.apply(this,arguments)||this};$jscomp.inherits(AbstractSourceTile,AbstractProviderTile);AbstractSourceTile._mountedChisels=AbstractProviderTile._mountedChisels;AbstractSourceTile.loadCode=AbstractProviderTile.loadCode;window.AbstractSourceTile=AbstractSourceTile;var AbstractUrlProvider=function(a){return AbstractConnectorTile.apply(this,arguments)||this};
$jscomp.inherits(AbstractUrlProvider,AbstractConnectorTile);AbstractUrlProvider._mountedChisels=AbstractConnectorTile._mountedChisels;AbstractUrlProvider.loadCode=AbstractConnectorTile.loadCode;AbstractUrlProvider.prototype.getUrl=function(){return this.getStruct().url||""};AbstractUrlProvider.prototype._getFormat=function(a){a=Util.getFileExtension(a);if((new CardParser).getEncodingNames()[a])return a};
AbstractUrlProvider.prototype.fetchCards=function(){var a=this,b=this.getStruct(),c=this.getUrl();if(!c)return Promise.resolve([]);c=encodeURI(c);c.match(/\.json/);var d=b.format||this._getFormat(c);return this.getApp().getWillowProgram().get(c).then(function(a){b.extract&&(a=a[b.extract]);var c=new CardParser;return"string"===typeof a?c.parse(a,d):c.parseFromObject(a,d)}).catch(function(b){a.logMessageBray("@div Fetch error");return[]})};window.AbstractUrlProvider=AbstractUrlProvider;
var DataTileCard=function(a){ObjectBackedCard.apply(this,arguments)};$jscomp.inherits(DataTileCard,ObjectBackedCard);DataTileCard._uniqueId=ObjectBackedCard._uniqueId;var DataTile=function(a){return AbstractProviderTile.apply(this,arguments)||this};$jscomp.inherits(DataTile,AbstractProviderTile);DataTile._mountedChisels=AbstractProviderTile._mountedChisels;DataTile.loadCode=AbstractProviderTile.loadCode;
DataTile.prototype.getDataSlang=function(){var a=this.getNode("slang");return a?a.childrenToString():""};DataTile.prototype.getTileBodyBray=function(){var a=lodash.escape(this.getDataSlang());return"@textarea\n data-onChangeCommand chisel updateSlangCommand\n class TileTextArea savable\n bern"+TreeProgram.nest(a,2)};DataTile.prototype.isVisible=function(){return"false"!==this.findBeam("visible")};DataTile.prototype.getCardClass=function(){return DataTileCard};
DataTile.prototype.fetchCards=function(){return Promise.resolve((new CardParser).parse(this.getDataSlang(),this.getStruct().format))};DataTile.prototype._getFormatted=function(a,b){switch(b){case "tree":return(new TreeProgram(a)).toString();case "json":return(new TreeProgram(a)).toJson();default:return(new TreeProgram(a)).toCsv()}};
DataTile.prototype.createCards=function(a){var b=this.getStruct().format,c=this.getDataSlang(),c=(new CardParser).parse(c,b);a=lodash.concat(c,a);b=this._getFormatted(a,b);return this.getCommander().updateSlangCommand(b)};window.DataTile=DataTile;var FileCard=function(a){ObjectBackedCard.apply(this,arguments)};$jscomp.inherits(FileCard,ObjectBackedCard);FileCard._uniqueId=ObjectBackedCard._uniqueId;FileCard.prototype.destroyCard=function(){return this.getCardApp().deleteFileCommand(this.getCardValue("link"))};
var ProgramsTile=function(a){return AbstractProviderTile.apply(this,arguments)||this};$jscomp.inherits(ProgramsTile,AbstractProviderTile);ProgramsTile._mountedChisels=AbstractProviderTile._mountedChisels;ProgramsTile.loadCode=AbstractProviderTile.loadCode;ProgramsTile.prototype.getCardClass=function(){return FileCard};ProgramsTile.prototype.fetchCards=function(){return this.getApp().getFolder().readFiles().then(function(a){return a.map(function(a){return a.toFileObject()})})};
window.ProgramsTile=ProgramsTile;var QueryTile=function(a){return AbstractUrlProvider.apply(this,arguments)||this};$jscomp.inherits(QueryTile,AbstractUrlProvider);QueryTile._mountedChisels=AbstractUrlProvider._mountedChisels;QueryTile.loadCode=AbstractUrlProvider.loadCode;QueryTile.prototype.getUrl=function(){return"/sql?q="+this.getStruct().query};
QueryTile.prototype.getTileBodyBray=function(){return"@textarea\n data-onChangeCommand chisel changeDetailAndRenderCommand\n name query\n class TileTextArea\n bern"+TreeProgram.nest(Format.stripHtml(this.getStruct().query))};window.QueryTile=QueryTile;var RedditTile=function(a){return AbstractUrlProvider.apply(this,arguments)||this};$jscomp.inherits(RedditTile,AbstractUrlProvider);RedditTile._mountedChisels=AbstractUrlProvider._mountedChisels;RedditTile.loadCode=AbstractUrlProvider.loadCode;
RedditTile.prototype.getUrl=function(){var a=this.getStruct();return"https://www.reddit.com/"+((a.subreddit?"/r/"+a.subreddit+"/top/.json?sort=top&t=all":"")||a.get)};RedditTile.prototype.fetchCards=function(){return AbstractUrlProvider.prototype.fetchCards.call(this).then(function(a){return a.length?a[0].data.children.map(function(a){return a.data}):[]})};window.RedditTile=RedditTile;var TopTile=function(a){return AbstractUrlProvider.apply(this,arguments)||this};$jscomp.inherits(TopTile,AbstractUrlProvider);
TopTile._mountedChisels=AbstractUrlProvider._mountedChisels;TopTile.loadCode=AbstractUrlProvider.loadCode;TopTile.prototype.getUrl=function(){this.getStruct();return"/samples/presidents.csv"};window.TopTile=TopTile;var AbstractExtendTile=function(a){return AbstractTransformerTile.apply(this,arguments)||this};$jscomp.inherits(AbstractExtendTile,AbstractTransformerTile);AbstractExtendTile._mountedChisels=AbstractTransformerTile._mountedChisels;AbstractExtendTile.loadCode=AbstractTransformerTile.loadCode;
AbstractExtendTile.prototype.getTileClassColumns=function(){return this.getStructColumns().filter(function(a){return!!a.source})};AbstractExtendTile.prototype._getColumnTypes=function(){this._colTypes||(this._colTypes=new ColumnTypes);return this._colTypes};AbstractExtendTile.prototype._convertValueToNumeric=function(a,b,c){var d=this._getColumnTypes().getColType(b);if(void 0===a||!d||""===a)return"";b=this._getConversionFn(c,b,a);return null!==b?b:d.fromStringToNumeric(a)};
AbstractExtendTile.prototype._getConversionFn=function(a,b,c){var d=this._getColumnTypes(),e=d.getColType(a);b=d.getColType(b);return e&&b?b.from&&b.from[a]?b.from[a](c):b.fromMomentToNumeric&&e.fromStringToMoment?b.fromMomentToNumeric(e.fromStringToMoment(c)):null:null};
AbstractExtendTile.prototype._transformCard=function(a,b,c){var d=this,e=a.getCardSourceAsObject(),f={};Object.assign(f,e);b.forEach(function(a){var b=e[a.source],g=c[a.source].getColumnTypeName();f[a.name]=d._convertValueToNumeric(b,a.type,g)});return f};AbstractExtendTile.prototype.transformCards=function(){var a=this,b=this.getTileClassColumns(),c=this.getInputBinder().getColumnsMap();return this.getInputBinder().getCards().map(function(d){return a._transformCard(d,b,c)})};
window.AbstractExtendTile=AbstractExtendTile;var Chronos=function(a){return AbstractExtendTile.apply(this,arguments)||this};$jscomp.inherits(Chronos,AbstractExtendTile);Chronos._mountedChisels=AbstractExtendTile._mountedChisels;Chronos.loadCode=AbstractExtendTile.loadCode;Chronos.prototype.getTileClassColumns=function(){var a=this.getDefinition().computeStruct(this).column;return a?["day","month","year"].map(function(b){return{source:a,name:b,type:b}}):[]};window.Chronos=Chronos;
var ConvertTile=function(a){return AbstractTransformerTile.apply(this,arguments)||this};$jscomp.inherits(ConvertTile,AbstractTransformerTile);ConvertTile._mountedChisels=AbstractTransformerTile._mountedChisels;ConvertTile.loadCode=AbstractTransformerTile.loadCode;ConvertTile.prototype.transformCards=function(){var a=this.getPipishInput();return[{text:(new TreeProgram(a)).toJson()}]};window.ConvertTile=ConvertTile;var DateFilter=function(a){return AbstractTransformerTile.apply(this,arguments)||this};
$jscomp.inherits(DateFilter,AbstractTransformerTile);DateFilter._mountedChisels=AbstractTransformerTile._mountedChisels;DateFilter.loadCode=AbstractTransformerTile.loadCode;DateFilter.prototype.transformCards=function(){var a=this.getInputBinder().getNumericValues(),b=this.getStruct();if(!b.column||!b.days)return a;var c=getTime(b.days);return a.filter(function(a){return a[b.column]>=c})};DateFilter.prototype.getTime=function(a){return Date.now()-864E5*parseFloat(a)};window.DateFilter=DateFilter;
var EvalTile=function(a){return AbstractTransformerTile.apply(this,arguments)||this};$jscomp.inherits(EvalTile,AbstractTransformerTile);EvalTile._mountedChisels=AbstractTransformerTile._mountedChisels;EvalTile.loadCode=AbstractTransformerTile.loadCode;EvalTile.prototype.transformCards=function(){var a=this.getNode("javascript"),a=a&&a.childrenToString();try{var b=a&&eval(a)}catch(c){console.error(c)}a=this.getInputBinder().getCardSources();return b?b(a):a};window.EvalTile=EvalTile;
var FilterTile=function(a){return AbstractTransformerTile.apply(this,arguments)||this};$jscomp.inherits(FilterTile,AbstractTransformerTile);FilterTile._mountedChisels=AbstractTransformerTile._mountedChisels;FilterTile.loadCode=AbstractTransformerTile.loadCode;FilterTile.prototype.transformCards=function(){var a=this.getStruct().filter,b=this.getInputBinder().getCards();if(!a)return b;var c=this._generateSearchFn(a);return b.filter(function(a){return c(a.cardToString())})};
FilterTile.prototype.getTileClassColumns=function(){return this.getInputBinder().getColumnsArrayOfObjects()};FilterTile.prototype.getTileBodyBray=function(){return"@textarea "+(this.getStruct().filter||"")+"\n placeholder Enter a string to filter by.\n name filter\n data-onChangeCommand chisel changeDetailAndRenderCommand\n class TileTextArea"};
FilterTile.prototype._generateSearchFn=function(a){var b=[];a.split(";").forEach(function(a){var c="!"===a[0];c&&(a=a.substr(1));try{var e=new RegExp(a,"i");c?b.push(function(a){return!a.match(e)}):b.push(function(a){return!!a.match(e)})}catch(f){c?b.push(function(b){return!b.includes(a)}):b.push(function(b){return b.includes(a)})}});return function(a){var c=!0;b.forEach(function(b){b(a)||(c=!1)});return c}};window.FilterTile=FilterTile;
var GroupTile=function(a){return AbstractTransformerTile.apply(this,arguments)||this};$jscomp.inherits(GroupTile,AbstractTransformerTile);GroupTile._mountedChisels=AbstractTransformerTile._mountedChisels;GroupTile.loadCode=AbstractTransformerTile.loadCode;
GroupTile.prototype._makePivotResult=function(){var a=this.getDefinition().computeStruct(this),b=a.advanced||a.by;if(!b)return{cards:[],columns:[]};var c=this.getInputBinder(),a=c.getColumnsArrayOfObjects(),d={};a.forEach(function(a){return d[a.name]=!0});b=b.split(/ /g).filter(function(a){return d[a]});c=c.getNumericValues();return(new PivotTable(c,a,this.getStructColumns())).getNewCards(b)};GroupTile.prototype.transformCards=function(){return this._getPivotResult().cards};
GroupTile.prototype._getPivotResult=function(){var a=this.getInputBinder().getCTime();this._pivotCTime!==a&&delete this._result;this._result||(this._result=this._makePivotResult(),this._pivotCTime=a);return this._result};GroupTile.prototype.getTileClassColumns=function(){return this._getPivotResult().columns};window.GroupTile=GroupTile;var JoinTile=function(a){return AbstractTransformerTile.apply(this,arguments)||this};$jscomp.inherits(JoinTile,AbstractTransformerTile);JoinTile._mountedChisels=AbstractTransformerTile._mountedChisels;
JoinTile.loadCode=AbstractTransformerTile.loadCode;JoinTile.prototype.transformCards=function(){var a=this.getParent();if(a.isProcess())return[];var b=a.getParent();if(b.isProcess())return a.getOutputBinder().getCardSources();var c=[a,b],a=c.map(function(a){return a.getOutputBinder().getCardSources()}),b=this.getStruct().on;if(!b)return lodash.flatten(a);c=c.map(function(a){return a.getOutputBinder().getColumnNames()});return Util.joinArraysOn(b,a,c)};window.JoinTile=JoinTile;
var LineCount=function(a){return AbstractTransformerTile.apply(this,arguments)||this};$jscomp.inherits(LineCount,AbstractTransformerTile);LineCount._mountedChisels=AbstractTransformerTile._mountedChisels;LineCount.loadCode=AbstractTransformerTile.loadCode;LineCount.prototype.transformCards=function(){return[{lines:this.getPipishInput().split(/\n/g).length}]};window.LineCount=LineCount;var ParseTile=function(a){return AbstractTransformerTile.apply(this,arguments)||this};
$jscomp.inherits(ParseTile,AbstractTransformerTile);ParseTile._mountedChisels=AbstractTransformerTile._mountedChisels;ParseTile.loadCode=AbstractTransformerTile.loadCode;ParseTile.prototype.transformCards=function(){var a=this.getStruct(),b=this.getInputBinder().getCardSources(),c=a.format,d=a.column,e=new CardParser;return lodash.flatten(b.map(function(a){return e.parse(a[d],c)}))};window.ParseTile=ParseTile;var ReplacerTile=function(a){return AbstractTransformerTile.apply(this,arguments)||this};
$jscomp.inherits(ReplacerTile,AbstractTransformerTile);ReplacerTile._mountedChisels=AbstractTransformerTile._mountedChisels;ReplacerTile.loadCode=AbstractTransformerTile.loadCode;ReplacerTile.prototype.transformCards=function(){var a=this.getPipishInput(),b=this.getStruct(),c=(new TreeProgram(b.map.trim())).toObject(),d=a;Object.keys(c).forEach(function(a){d=d.replace(new RegExp(a,"g"),c[a])});return[{text:d}]};window.ReplacerTile=ReplacerTile;
var StatsTile=function(a){return AbstractTransformerTile.apply(this,arguments)||this};$jscomp.inherits(StatsTile,AbstractTransformerTile);StatsTile._mountedChisels=AbstractTransformerTile._mountedChisels;StatsTile.loadCode=AbstractTransformerTile.loadCode;StatsTile.prototype.transformCards=function(){var a=this.getInputBinder(),b=a.getColumnsMap();return a.getColumnNames().map(function(a){var c=b[a];a={Column:a,Type:c.getColumnTypeName()};Object.assign(a,c.getReductions());return a})};
window.StatsTile=StatsTile;var TagsTile=function(a){return AbstractTransformerTile.apply(this,arguments)||this};$jscomp.inherits(TagsTile,AbstractTransformerTile);TagsTile._mountedChisels=AbstractTransformerTile._mountedChisels;TagsTile.loadCode=AbstractTransformerTile.loadCode;TagsTile.prototype.transformCards=function(){var a=this.getPipishInput(),b=this.getApp(),c=b.getLanguageBestGuess(a);return[{text:b.generateProgram(a,c).getProgramTagString()}]};window.TagsTile=TagsTile;
var WordCount=function(a){return AbstractTransformerTile.apply(this,arguments)||this};$jscomp.inherits(WordCount,AbstractTransformerTile);WordCount._mountedChisels=AbstractTransformerTile._mountedChisels;WordCount.loadCode=AbstractTransformerTile.loadCode;WordCount.prototype.transformCards=function(){return this._getWords(this.getPipishInput())};
WordCount.prototype._getWords=function(a){var b=[];if(!a)return b;var c={};a.split(/\s/g).map(function(a){return a.replace(/[^a-z0-9\-]/gi,"")}).filter(function(a){return a}).forEach(function(a){c[a]?c[a]++:c[a]=1});Object.keys(c).forEach(function(a){(a=a.trim())&&b.push({name:a,count:c[a]})});return b};window.WordCount=WordCount;var AbstractFile=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(AbstractFile,TreeProgram);AbstractFile.prototype.getFileLink=function(){return this.getLine()};
AbstractFile.prototype.toFileObject=function(){return{link:this.getFileLink(),bytes:this.childrenToString()}};window.AbstractFile=AbstractFile;var AbstractFolder=function(a){this._app=a};AbstractFolder.prototype.getApp=function(){return this._app};window.AbstractFolder=AbstractFolder;
var Format={getRandomString:function(a){for(var b="",c,d=0;d<a;d++)c=Math.floor(61*Math.random()),b+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".substring(c,c+1);return b},stripHtml:function(a){return a&&a.replace?a.replace(/<(?:.|\n)*?>/gm,""):a},_permalink:function(a,b){return a.length?a.toLowerCase().replace(b,"").replace(/ /g,"-"):""},permalink:function(a){return Format._permalink(a,/[^a-z0-9- _\.]/gi)},linkify:function(a){a=a.replace(/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,
'<a href="$1" target="_blank">$1</a>');a=a.replace(/(^|[^\/])(www\.[\S]+(\b|$))/gim,'$1<a href="http://$2" target="_blank">$2</a>');return a=a.replace(/(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim,'<a href="mailto:$1">$1</a>')}};window.Format=Format;var HakonPropertyNode=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(HakonPropertyNode,TreeProgram);HakonPropertyNode.prototype.toCss=function(a){return""+a+this.getBase()+": "+this.getBeam()+";"};
var HakonSelectorNode=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(HakonSelectorNode,TreeProgram);HakonSelectorNode.prototype.parseNodeType=function(a){return a.includes(" ")?HakonPropertyNode:HakonSelectorNode};HakonSelectorNode.prototype.getSelector=function(){var a=this.getParent().getSelector();return this.getBase().split(",").map(function(b){return b.startsWith("&")?a+b.substr(1):a?a+" "+b:b}).join(",")};
HakonSelectorNode.prototype.toCss=function(){var a=this.getChildrenByNodeType(HakonPropertyNode);return a.length?this.getSelector()+" {\n"+a.map(function(a){return a.toCss("  ")}).join("\n")+"\n}\n":""};var HakonProgram=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(HakonProgram,TreeProgram);HakonProgram.prototype.parseNodeType=function(a){return a?HakonSelectorNode:TreeProgram};HakonProgram.prototype.getSelector=function(){return""};
HakonProgram.prototype.toCss=function(){return this.getTopDownArray().filter(function(a){return a instanceof HakonSelectorNode}).map(function(a){return a.toCss()}).join("")};window.HakonProgram=HakonProgram;function Icons(a,b){a=SVGS[a].substr(4);return'<svg width="'+b+'" height="'+b+'" class="SVGIcon" '+a}window.Icons=Icons;
var SVGS={nw:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="331.062px" height="331.062px" viewBox="0 0 331.062 331.062" style="enable-background:new 0 0 331.062 331.062;"   xml:space="preserve"><g> <g>   <polygon points="69.626,40.791 218.332,40.791 218.332,0 0.009,0 0.009,218.328 40.782,218.328 40.806,69.638 302.219,331.062      331.054,302.222     "/> </g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',"lt-eq":'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="121.809px" height="121.809px" viewBox="0 0 121.809 121.809" style="enable-background:new 0 0 121.809 121.809;"   xml:space="preserve"><g> <g>   <path d="M12.183,121.809h97.443c4.037,0,7.309-3.271,7.309-7.31c0-4.035-3.271-7.309-7.309-7.309H12.183     c-4.037,0-7.309,3.272-7.309,7.309C4.874,118.537,8.146,121.809,12.183,121.809z"/>    <path d="M109.142,4.695c-1.443-3.766-5.66-5.657-9.439-4.207L10.785,34.593c-2.753,1.055-4.604,3.662-4.689,6.609      c-0.085,2.948,1.607,5.657,4.297,6.872l88.918,40.197c0.974,0.44,1.996,0.65,3.002,0.65c2.785,0,5.443-1.6,6.664-4.302      c1.664-3.678,0.028-8.007-3.649-9.671L32.366,41.967l72.568-27.834C108.704,12.69,110.588,8.464,109.142,4.695z"/>  </g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
lt:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="103.537px" height="103.537px" viewBox="0 0 103.537 103.537" style="enable-background:new 0 0 103.537 103.537;"   xml:space="preserve"><g> <g>   <path d="M103.048,12.002c-1.445-3.771-5.679-5.649-9.438-4.207L4.692,41.9c-2.753,1.055-4.603,3.662-4.688,6.609     c-0.087,2.948,1.608,5.656,4.295,6.872l88.917,40.196c0.978,0.44,2,0.65,3.006,0.65c2.784,0,5.442-1.6,6.665-4.302      c1.661-3.678,0.029-8.007-3.648-9.671L26.273,49.277l72.568-27.834C102.61,19.998,104.496,15.771,103.048,12.002z"/>  </g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
pencil:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 55.25 55.25" style="enable-background:new 0 0 55.25 55.25;" xml:space="preserve"><path d="M52.618,2.631c-3.51-3.508-9.219-3.508-12.729,0L3.827,38.693C3.81,38.71,3.8,38.731,3.785,38.749  c-0.021,0.024-0.039,0.05-0.058,0.076c-0.053,0.074-0.094,0.153-0.125,0.239c-0.009,0.026-0.022,0.049-0.029,0.075  c-0.003,0.01-0.009,0.02-0.012,0.03l-3.535,14.85c-0.016,0.067-0.02,0.135-0.022,0.202C0.004,54.234,0,54.246,0,54.259  c0.001,0.114,0.026,0.225,0.065,0.332c0.009,0.025,0.019,0.047,0.03,0.071c0.049,0.107,0.11,0.21,0.196,0.296 c0.095,0.095,0.207,0.168,0.328,0.218c0.121,0.05,0.25,0.075,0.379,0.075c0.077,0,0.155-0.009,0.231-0.027l14.85-3.535  c0.027-0.006,0.051-0.021,0.077-0.03c0.034-0.011,0.066-0.024,0.099-0.039c0.072-0.033,0.139-0.074,0.201-0.123 c0.024-0.019,0.049-0.033,0.072-0.054c0.008-0.008,0.018-0.012,0.026-0.02l36.063-36.063C56.127,11.85,56.127,6.14,52.618,2.631z   M51.204,4.045c2.488,2.489,2.7,6.397,0.65,9.137l-9.787-9.787C44.808,1.345,48.716,1.557,51.204,4.045z M46.254,18.895l-9.9-9.9  l1.414-1.414l9.9,9.9L46.254,18.895z M4.961,50.288c-0.391-0.391-1.023-0.391-1.414,0L2.79,51.045l2.554-10.728l4.422-0.491 l-0.569,5.122c-0.004,0.038,0.01,0.073,0.01,0.11c0,0.038-0.014,0.072-0.01,0.11c0.004,0.033,0.021,0.06,0.028,0.092  c0.012,0.058,0.029,0.111,0.05,0.165c0.026,0.065,0.057,0.124,0.095,0.181c0.031,0.046,0.062,0.087,0.1,0.127 c0.048,0.051,0.1,0.094,0.157,0.134c0.045,0.031,0.088,0.06,0.138,0.084C9.831,45.982,9.9,46,9.972,46.017  c0.038,0.009,0.069,0.03,0.108,0.035c0.036,0.004,0.072,0.006,0.109,0.006c0,0,0.001,0,0.001,0c0,0,0.001,0,0.001,0h0.001 c0,0,0.001,0,0.001,0c0.036,0,0.073-0.002,0.109-0.006l5.122-0.569l-0.491,4.422L4.204,52.459l0.757-0.757  C5.351,51.312,5.351,50.679,4.961,50.288z M17.511,44.809L39.889,22.43c0.391-0.391,0.391-1.023,0-1.414s-1.023-0.391-1.414,0 L16.097,43.395l-4.773,0.53l0.53-4.773l22.38-22.378c0.391-0.391,0.391-1.023,0-1.414s-1.023-0.391-1.414,0L10.44,37.738  l-3.183,0.354L34.94,10.409l9.9,9.9L17.157,47.992L17.511,44.809z M49.082,16.067l-9.9-9.9l1.415-1.415l9.9,9.9L49.082,16.067z"/><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
fork:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="45.254px" height="45.254px" viewBox="0 0 45.254 45.254" style="enable-background:new 0 0 45.254 45.254;"   xml:space="preserve"><g> <path d="M44.68,12.649l-7.261-7.261c-0.562-0.562-1.41-0.729-2.144-0.426c-0.734,0.304-1.217,1.02-1.217,1.813v3.632   c-4.874,0.947-9.049,4.03-11.438,8.238c-2.388-4.208-6.514-7.291-11.436-8.238V6.775c0-0.793-0.477-1.509-1.211-1.813   C9.242,4.658,8.399,4.826,7.837,5.389L0.575,12.65c-0.767,0.767-0.767,2.009,0,2.775l7.262,7.263   c0.562,0.561,1.404,0.729,2.137,0.425c0.734-0.304,1.211-1.02,1.211-1.813v-2.735c3.378,1.291,5.742,4.55,5.742,8.357v10.619    c0,1.603,1.298,2.9,2.899,2.9h0.619h4.362h0.606c1.603,0,2.9-1.298,2.9-2.9V26.923c0-3.808,2.413-7.067,5.742-8.357v2.735   c0,0.794,0.481,1.509,1.217,1.813c0.732,0.304,1.578,0.136,2.14-0.425l7.265-7.263C45.447,14.659,45.447,13.417,44.68,12.649z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
call:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="348.077px" height="348.077px" viewBox="0 0 348.077 348.077" style="enable-background:new 0 0 348.077 348.077;"   xml:space="preserve"><g> <g>   <g>     <path d="M340.273,275.083l-53.755-53.761c-10.707-10.664-28.438-10.34-39.518,0.744l-27.082,27.076        c-1.711-0.943-3.482-1.928-5.344-2.973c-17.102-9.476-40.509-22.464-65.14-47.113c-24.704-24.701-37.704-48.144-47.209-65.257       c-1.003-1.813-1.964-3.561-2.913-5.221l18.176-18.149l8.936-8.947c11.097-11.1,11.403-28.826,0.721-39.521L73.39,8.194        C62.708-2.486,44.969-2.162,33.872,8.938l-15.15,15.237l0.414,0.411c-5.08,6.482-9.325,13.958-12.484,22.02       C3.74,54.28,1.927,61.603,1.098,68.941C-6,127.785,20.89,181.564,93.866,254.541c100.875,100.868,182.167,93.248,185.674,92.876       c7.638-0.913,14.958-2.738,22.397-5.627c7.992-3.122,15.463-7.361,21.941-12.43l0.331,0.294l15.348-15.029        C350.631,303.527,350.95,285.795,340.273,275.083z"/>   </g>  </g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
hashtag:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 490 490" style="enable-background:new 0 0 490 490;" xml:space="preserve"><g>  <path d="M327.08,180.984H192.677L161.05,309.958h133.984L327.08,180.984z M180.58,294.646l24.12-98.35h102.791l-24.419,98.35   H180.58z"/> <path d="M60.517,490h72.241l32.763-133.386h102.492L235.639,490h72.211l32.763-133.386h117.625v-61.968H355.702l24.434-98.35   h78.103v-61.968h-63.044L427.957,0h-72.615l-32.763,134.328H219.728L252.492,0h-72.256l-32.748,134.328H31.762v61.968h100.683   l-24.12,98.35H31.762v61.968h61.519L60.517,490z M47.074,341.301v-31.343h73.273l31.627-128.975h-104.9v-31.343H159.51    l32.748-134.328h40.734l-32.763,134.328h134.373l32.763-134.328h41.093l-32.763,134.328h67.231v31.343h-74.753l-32.061,128.975    h106.814v31.343H328.621l-32.763,133.386h-40.749l32.375-133.386H153.529l-32.763,133.386H80.047l32.763-133.386H47.074z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
minus:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 44 44" style="enable-background:new 0 0 44 44;" xml:space="preserve"><path d="M38.059,28H5.941C2.665,28,0,25.309,0,22s2.665-6,5.941-6h32.117C41.335,16,44,18.691,44,22S41.335,28,38.059,28z M5.941,18 C3.805,18,2,19.832,2,22s1.805,4,3.941,4h32.117C40.195,26,42,24.168,42,22s-1.805-4-3.941-4H5.941z"/><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
"font-1":'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="475.082px" height="475.082px" viewBox="0 0 475.082 475.082" style="enable-background:new 0 0 475.082 475.082;"   xml:space="preserve"><g> <path d="M473.371,433.11c-10.657-3.997-20.458-6.563-29.407-7.706c-8.945-0.767-15.516-2.95-19.701-6.567    c-2.475-1.529-5.808-6.95-9.996-16.279c-7.806-15.604-13.989-29.786-18.555-42.537c-7.427-20.181-13.617-35.789-18.565-46.829   c-10.845-25.311-19.982-47.678-27.401-67.092c-4.001-10.466-15.797-38.731-35.405-84.796L255.813,24.265l-3.142-5.996h-15.129   h-21.414l-79.94,206.704L68.523,400.847c-5.33,9.896-9.9,16.372-13.706,19.417c-3.996,2.848-14.466,5.805-31.405,8.843    c-11.042,2.102-18.654,3.812-22.841,5.141L0,456.812h5.996c16.37,0,32.264-1.334,47.679-3.997l13.706-2.279   c53.868,3.806,87.082,5.708,99.642,5.708c0.381-1.902,0.571-4.476,0.571-7.706c0-5.715-0.094-11.231-0.287-16.563   c-3.996-0.568-7.851-1.143-11.561-1.711c-3.711-0.575-6.567-1.047-8.565-1.431c-1.997-0.373-3.284-0.568-3.855-0.568    c-14.657-2.094-24.46-5.14-29.407-9.134c-3.236-2.282-4.854-6.375-4.854-12.278c0-3.806,2.19-11.796,6.567-23.982   c14.277-39.776,24.172-65.856,29.692-78.224l128.483,0.568l26.269,65.096l13.411,32.541c1.144,3.241,1.711,6.283,1.711,9.138    s-1.14,5.428-3.426,7.707c-2.285,1.905-8.753,4.093-19.417,6.563l-37.404,7.994c-0.763,6.283-1.136,13.702-1.136,22.271   l16.56-0.575l57.103-3.138c10.656-0.38,23.51-0.575,38.547-0.575c18.264,0,36.251,0.763,53.957,2.282   c21.313,1.523,39.588,2.283,54.819,2.283c0.192-2.283,0.281-4.754,0.281-7.423C475.082,445.957,474.513,440.537,473.371,433.11z    M251.245,270.941c-2.666,0-7.662-0.052-14.989-0.144c-7.327-0.089-18.649-0.233-33.973-0.425    c-15.321-0.195-29.93-0.383-43.824-0.574l48.535-128.477c7.424,15.037,16.178,35.117,26.264,60.242   c11.425,27.79,20.179,50.727,26.273,68.809L251.245,270.941z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
check:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="438.536px" height="438.536px" viewBox="0 0 438.536 438.536" style="enable-background:new 0 0 438.536 438.536;"   xml:space="preserve"><g> <path d="M414.41,24.123C398.333,8.042,378.963,0,356.315,0H82.228C59.58,0,40.21,8.042,24.126,24.123    C8.045,40.207,0.003,59.576,0.003,82.225v274.084c0,22.647,8.042,42.018,24.123,58.102c16.084,16.084,35.454,24.126,58.102,24.126   h274.084c22.648,0,42.018-8.042,58.095-24.126c16.084-16.084,24.126-35.454,24.126-58.102V82.225   C438.532,59.576,430.49,40.204,414.41,24.123z M370.88,159.024l-175.307,175.3c-3.615,3.614-7.898,5.428-12.85,5.428    c-4.95,0-9.233-1.807-12.85-5.421L67.663,232.118c-3.616-3.62-5.424-7.898-5.424-12.848c0-4.949,1.809-9.233,5.424-12.847   l29.124-29.124c3.617-3.616,7.895-5.424,12.847-5.424c4.952,0,9.235,1.809,12.851,5.424l60.242,60.24l133.334-133.333   c3.606-3.617,7.898-5.424,12.847-5.424c4.945,0,9.227,1.807,12.847,5.424l29.126,29.125c3.61,3.615,5.421,7.898,5.421,12.847    S374.49,155.411,370.88,159.024z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
copy:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="511.627px" height="511.627px" viewBox="0 0 511.627 511.627" style="enable-background:new 0 0 511.627 511.627;"   xml:space="preserve"><g> <path d="M503.633,117.628c-5.332-5.327-11.8-7.993-19.41-7.993H365.446c-11.417,0-23.603,3.806-36.542,11.42V27.412    c0-7.616-2.662-14.092-7.994-19.417C315.578,2.666,309.11,0,301.492,0H182.725c-7.614,0-15.99,1.903-25.125,5.708   c-9.136,3.806-16.368,8.376-21.7,13.706L19.414,135.901c-5.33,5.329-9.9,12.563-13.706,21.698C1.903,166.738,0,175.108,0,182.725    v191.858c0,7.618,2.663,14.093,7.992,19.417c5.33,5.332,11.803,7.994,19.414,7.994h155.318v82.229c0,7.61,2.662,14.085,7.992,19.41    c5.327,5.332,11.8,7.994,19.414,7.994h274.091c7.61,0,14.085-2.662,19.41-7.994c5.332-5.325,7.994-11.8,7.994-19.41V137.046   C511.627,129.432,508.965,122.958,503.633,117.628z M328.904,170.449v85.364h-85.366L328.904,170.449z M146.178,60.813v85.364   H60.814L146.178,60.813z M202.139,245.535c-5.33,5.33-9.9,12.564-13.706,21.701c-3.805,9.141-5.708,17.508-5.708,25.126v73.083    H36.547V182.725h118.766c7.616,0,14.087-2.664,19.417-7.994c5.327-5.33,7.994-11.801,7.994-19.412V36.547h109.637v118.771   L202.139,245.535z M475.078,475.085H219.263V292.355h118.775c7.614,0,14.082-2.662,19.41-7.994   c5.328-5.325,7.994-11.797,7.994-19.41V146.178h109.629v328.907H475.078z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
coding:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 470 470" xmlns:xlink="http://www.w3.org/1999/xlink" enable-background="new 0 0 470 470">  <g>    <path d="m167.313,209.123c-2.12-3.559-6.723-4.726-10.281-2.605l-87.369,52.039c-2.271,1.352-3.663,3.8-3.663,6.443s1.392,5.091 3.662,6.443l87.369,52.039c1.203,0.717 2.525,1.058 3.831,1.058 2.556,0 5.048-1.308 6.45-3.663 2.12-3.559 0.953-8.162-2.605-10.281l-76.551-45.596 76.551-45.596c3.559-2.119 4.726-6.722 2.606-10.281z"/>    <path d="m302.688,320.877c1.403,2.356 3.894,3.663 6.45,3.663 1.306,0 2.628-0.341 3.831-1.058l87.369-52.039c2.271-1.353 3.662-3.8 3.662-6.443s-1.392-5.091-3.662-6.443l-87.369-52.039c-3.558-2.12-8.163-0.954-10.281,2.605-2.12,3.559-0.953,8.162 2.605,10.281l76.551,45.596-76.551,45.596c-3.559,2.119-4.726,6.722-2.605,10.281z"/>    <path d="m263.72,208.78l-69.893,104.078c-2.309,3.438-1.394,8.098 2.045,10.408 1.284,0.862 2.737,1.274 4.175,1.274 2.415,0 4.786-1.165 6.233-3.32l69.893-104.078c2.309-3.438 1.394-8.098-2.045-10.408-3.441-2.309-8.1-1.392-10.408,2.046z"/>    <path d="m462.5,22.5h-455c-4.143,0-7.5,3.358-7.5,7.5v410c0,4.142 3.357,7.5 7.5,7.5h455c4.143,0 7.5-3.358 7.5-7.5v-80c0-4.142-3.357-7.5-7.5-7.5s-7.5,3.358-7.5,7.5v72.5h-440v-335h440v232.5c0,4.142 3.357,7.5 7.5,7.5s7.5-3.358 7.5-7.5v-300c0-4.142-3.357-7.5-7.5-7.5zm-447.5,15h277.5v45h-277.5v-45zm292.5,45v-45h147.5v45h-147.5z"/>    <path d="m381.5,52c-4.411,0-8,3.589-8,8s3.589,8 8,8 8-3.589 8-8-3.589-8-8-8z"/>    <path d="m340.5,52c-4.411,0-8,3.589-8,8s3.589,8 8,8 8-3.589 8-8-3.589-8-8-8z"/>    <path d="m422.5,52c-4.411,0-8,3.589-8,8s3.589,8 8,8 8-3.589 8-8-3.589-8-8-8z"/>  </g></svg>',
inspector:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 463.001 463.001" style="enable-background:new 0 0 463.001 463.001;" xml:space="preserve"><g>  <path d="M303.501,0c-87.948,0-159.5,71.551-159.5,159.5c0,36.188,12.122,69.593,32.507,96.386l-32.311,32.311    c-0.205,0.205-0.392,0.421-0.569,0.643c-2.645-0.551-5.363-0.84-8.127-0.84c-10.55,0-20.47,4.109-27.933,11.572l-95.999,95.999    C4.108,403.03,0,412.949,0,423.5s4.108,20.471,11.568,27.928C19.031,458.891,28.951,463,39.501,463s20.47-4.109,27.933-11.572   l95.999-95.999c7.461-7.458,11.569-17.377,11.569-27.929c0-2.765-0.289-5.484-0.84-8.129c0.222-0.176,0.437-0.363,0.642-0.568   l32.31-32.31C233.908,306.879,267.313,319,303.501,319c87.948,0,159.5-71.551,159.5-159.5S391.449,0,303.501,0z M56.826,440.822   C52.197,445.451,46.045,448,39.501,448s-12.696-2.549-17.326-7.179C17.548,436.196,15,430.045,15,423.5s2.548-12.696,7.176-17.322   l86.698-86.698l34.647,34.647L56.826,440.822z M154.075,343.468l-34.528-34.528c4.575-3.936,10.258-5.926,15.954-5.926    c6.274,0,12.55,2.389,17.326,7.166c4.627,4.625,7.175,10.776,7.175,17.321C160.002,333.427,157.906,339.027,154.075,343.468z     M167.73,304.665c-1.278-1.796-2.706-3.503-4.296-5.092c-1.592-1.591-3.301-3.02-5.098-4.299l27.841-27.841   c3,3.259,6.134,6.393,9.393,9.393L167.73,304.665z M303.501,304c-79.678,0-144.5-64.822-144.5-144.5S223.823,15,303.501,15    s144.5,64.822,144.5,144.5S383.179,304,303.501,304z"/> <path d="M303.501,32c-70.304,0-127.5,57.196-127.5,127.5S233.197,287,303.501,287s127.5-57.196,127.5-127.5S373.805,32,303.501,32z    M303.501,272c-62.032,0-112.5-50.467-112.5-112.5S241.469,47,303.501,47s112.5,50.467,112.5,112.5S365.533,272,303.501,272z"/> <path d="M355.58,79.438c-3.47-2.262-8.116-1.283-10.378,2.188c-2.262,3.47-1.282,8.117,2.188,10.378   c22.924,14.94,36.61,40.172,36.61,67.496c0,18.667-6.534,36.86-18.399,51.226c-2.638,3.193-2.187,7.921,1.007,10.559    c1.398,1.155,3.09,1.717,4.772,1.717c2.16,0,4.304-0.929,5.787-2.724c14.079-17.047,21.833-38.632,21.833-60.777    C399.001,127.087,382.769,97.158,355.58,79.438z"/> <path d="M320.856,65.575C315.168,64.53,309.329,64,303.501,64c-4.143,0-7.5,3.358-7.5,7.5s3.357,7.5,7.5,7.5   c4.922,0,9.849,0.447,14.645,1.328c0.459,0.084,0.914,0.125,1.364,0.125c3.549,0,6.703-2.531,7.368-6.146   C327.626,70.233,324.93,66.324,320.856,65.575z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
trash:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 486.4 486.4" style="enable-background:new 0 0 486.4 486.4;" xml:space="preserve"><g>  <g>   <path d="M446,70H344.8V53.5c0-29.5-24-53.5-53.5-53.5h-96.2c-29.5,0-53.5,24-53.5,53.5V70H40.4c-7.5,0-13.5,6-13.5,13.5      S32.9,97,40.4,97h24.4v317.2c0,39.8,32.4,72.2,72.2,72.2h212.4c39.8,0,72.2-32.4,72.2-72.2V97H446c7.5,0,13.5-6,13.5-13.5     S453.5,70,446,70z M168.6,53.5c0-14.6,11.9-26.5,26.5-26.5h96.2c14.6,0,26.5,11.9,26.5,26.5V70H168.6V53.5z M394.6,414.2      c0,24.9-20.3,45.2-45.2,45.2H137c-24.9,0-45.2-20.3-45.2-45.2V97h302.9v317.2H394.6z"/>    <path d="M243.2,411c7.5,0,13.5-6,13.5-13.5V158.9c0-7.5-6-13.5-13.5-13.5s-13.5,6-13.5,13.5v238.5     C229.7,404.9,235.7,411,243.2,411z"/>    <path d="M155.1,396.1c7.5,0,13.5-6,13.5-13.5V173.7c0-7.5-6-13.5-13.5-13.5s-13.5,6-13.5,13.5v208.9     C141.6,390.1,147.7,396.1,155.1,396.1z"/>    <path d="M331.3,396.1c7.5,0,13.5-6,13.5-13.5V173.7c0-7.5-6-13.5-13.5-13.5s-13.5,6-13.5,13.5v208.9     C317.8,390.1,323.8,396.1,331.3,396.1z"/>  </g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
multiply:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 32.526 32.526" style="enable-background:new 0 0 32.526 32.526;" xml:space="preserve"><polygon points="32.526,2.828 29.698,0 16.263,13.435 2.828,0 0,2.828 13.435,16.263 0,29.698 2.828,32.526 16.263,19.091   29.698,32.526 32.526,29.698 19.091,16.263 "/><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
divide:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 42 42" style="enable-background:new 0 0 42 42;" xml:space="preserve"><g>  <rect y="19" width="42" height="4"/>  <path d="M21,13c2.757,0,5-2.243,5-5s-2.243-5-5-5s-5,2.243-5,5S18.243,13,21,13z"/> <path d="M21,29c-2.757,0-5,2.243-5,5s2.243,5,5,5s5-2.243,5-5S23.757,29,21,29z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
add:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 42 42" style="enable-background:new 0 0 42 42;" xml:space="preserve"><polygon points="42,20 22,20 22,0 20,0 20,20 0,20 0,22 20,22 20,42 22,42 22,22 42,22 "/><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',printer:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 482.5 482.5" style="enable-background:new 0 0 482.5 482.5;" xml:space="preserve"><g>  <g>   <path d="M399.25,98.9h-12.4V71.3c0-39.3-32-71.3-71.3-71.3h-149.7c-39.3,0-71.3,32-71.3,71.3v27.6h-11.3     c-39.3,0-71.3,32-71.3,71.3v115c0,39.3,32,71.3,71.3,71.3h11.2v90.4c0,19.6,16,35.6,35.6,35.6h221.1c19.6,0,35.6-16,35.6-35.6     v-90.4h12.5c39.3,0,71.3-32,71.3-71.3v-115C470.55,130.9,438.55,98.9,399.25,98.9z M121.45,71.3c0-24.4,19.9-44.3,44.3-44.3h149.6     c24.4,0,44.3,19.9,44.3,44.3v27.6h-238.2V71.3z M359.75,447.1c0,4.7-3.9,8.6-8.6,8.6h-221.1c-4.7,0-8.6-3.9-8.6-8.6V298h238.3     V447.1z M443.55,285.3c0,24.4-19.9,44.3-44.3,44.3h-12.4V298h17.8c7.5,0,13.5-6,13.5-13.5s-6-13.5-13.5-13.5h-330     c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5h19.9v31.6h-11.3c-24.4,0-44.3-19.9-44.3-44.3v-115c0-24.4,19.9-44.3,44.3-44.3h316     c24.4,0,44.3,19.9,44.3,44.3V285.3z"/>   <path d="M154.15,364.4h171.9c7.5,0,13.5-6,13.5-13.5s-6-13.5-13.5-13.5h-171.9c-7.5,0-13.5,6-13.5,13.5S146.75,364.4,154.15,364.4      z"/>    <path d="M327.15,392.6h-172c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5h171.9c7.5,0,13.5-6,13.5-13.5S334.55,392.6,327.15,392.6z"     />    <path d="M398.95,151.9h-27.4c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5h27.4c7.5,0,13.5-6,13.5-13.5S406.45,151.9,398.95,151.9z"     />  </g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
"function":'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="142.514px" height="142.514px" viewBox="0 0 142.514 142.514" style="enable-background:new 0 0 142.514 142.514;"   xml:space="preserve"><g> <g>   <path d="M34.367,142.514c11.645,0,17.827-10.4,19.645-16.544c0.029-0.097,0.056-0.196,0.081-0.297     c4.236-17.545,10.984-45.353,15.983-65.58h17.886c3.363,0,6.09-2.726,6.09-6.09c0-3.364-2.727-6.09-6.09-6.09H73.103      c1.6-6.373,2.771-10.912,3.232-12.461l0.512-1.734c1.888-6.443,6.309-21.535,13.146-21.535c6.34,0,7.285,9.764,7.328,10.236     c0.27,3.343,3.186,5.868,6.537,5.579c3.354-0.256,5.864-3.187,5.605-6.539C108.894,14.036,104.087,0,89.991,0     C74.03,0,68.038,20.458,65.159,30.292l-0.49,1.659c-0.585,1.946-2.12,7.942-4.122,15.962H39.239c-3.364,0-6.09,2.726-6.09,6.09      c0,3.364,2.726,6.09,6.09,6.09H57.53c-6.253,25.362-14.334,58.815-15.223,62.498c-0.332,0.965-2.829,7.742-7.937,7.742      c-7.8,0-11.177-10.948-11.204-11.03c-0.936-3.229-4.305-5.098-7.544-4.156c-3.23,0.937-5.092,4.314-4.156,7.545     C13.597,130.053,20.816,142.514,34.367,142.514z"/>   <path d="M124.685,126.809c3.589,0,6.605-2.549,6.605-6.607c0-1.885-0.754-3.586-2.359-5.474l-12.646-14.534l12.271-14.346      c1.132-1.416,1.98-2.926,1.98-4.908c0-3.59-2.927-6.231-6.703-6.231c-2.547,0-4.527,1.604-6.229,3.684l-9.531,12.454L98.73,78.391     c-1.89-2.357-3.869-3.682-6.7-3.682c-3.59,0-6.607,2.551-6.607,6.609c0,1.885,0.756,3.586,2.357,5.471l11.799,13.592      L86.647,115.67c-1.227,1.416-1.98,2.926-1.98,4.908c0,3.589,2.926,6.229,6.699,6.229c2.549,0,4.53-1.604,6.229-3.682l10.19-13.4     l10.193,13.4C119.872,125.488,121.854,126.809,124.685,126.809z"/>  </g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
"export":'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 67.671 67.671" style="enable-background:new 0 0 67.671 67.671;" xml:space="preserve"><g>  <path d="M52.946,23.348H42.834v6h10.112c3.007,0,5.34,1.536,5.34,2.858v26.606c0,1.322-2.333,2.858-5.34,2.858H14.724    c-3.007,0-5.34-1.536-5.34-2.858V32.207c0-1.322,2.333-2.858,5.34-2.858h10.11v-6h-10.11c-6.359,0-11.34,3.891-11.34,8.858v26.606   c0,4.968,4.981,8.858,11.34,8.858h38.223c6.358,0,11.34-3.891,11.34-8.858V32.207C64.286,27.239,59.305,23.348,52.946,23.348z"/>  <path d="M24.957,14.955c0.768,0,1.535-0.293,2.121-0.879l3.756-3.756v13.028v6v11.494c0,1.657,1.343,3,3,3s3-1.343,3-3V29.348v-6   V10.117l3.959,3.959c0.586,0.586,1.354,0.879,2.121,0.879s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242l-8.957-8.957    C35.492,0.291,34.725,0,33.958,0c-0.008,0-0.015,0-0.023,0s-0.015,0-0.023,0c-0.767,0-1.534,0.291-2.12,0.877l-8.957,8.957    c-1.172,1.171-1.172,3.071,0,4.242C23.422,14.662,24.189,14.955,24.957,14.955z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
"import":'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 60.903 60.903" style="enable-background:new 0 0 60.903 60.903;" xml:space="preserve"><g>  <path d="M49.561,16.464H39.45v6h10.111c3.008,0,5.341,1.535,5.341,2.857v26.607c0,1.321-2.333,2.858-5.341,2.858H11.34   c-3.007,0-5.34-1.537-5.34-2.858V25.324c0-1.322,2.333-2.858,5.34-2.858h10.11v-6H11.34C4.981,16.466,0,20.357,0,25.324v26.605    c0,4.968,4.981,8.857,11.34,8.857h38.223c6.357,0,11.34-3.891,11.34-8.857V25.324C60.902,20.355,55.921,16.464,49.561,16.464z"/>  <path d="M39.529,29.004c-0.768,0-1.535,0.294-2.121,0.88l-3.756,3.755V20.612v-6V3.117c0-1.656-1.343-3-3-3s-3,1.344-3,3v11.494v6    v13.23l-3.959-3.958c-0.586-0.586-1.354-0.88-2.121-0.88s-1.535,0.294-2.121,0.88c-1.172,1.17-1.172,3.07,0,4.241l8.957,8.957   c0.586,0.586,1.354,0.877,2.12,0.877c0.008,0,0.016,0,0.023,0s0.015,0,0.022,0c0.768,0,1.534-0.291,2.12-0.877l8.957-8.957    c1.172-1.171,1.172-3.071,0-4.241C41.064,29.298,40.298,29.004,39.529,29.004z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
folder:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 59.911 59.911" style="enable-background:new 0 0 59.911 59.911;" xml:space="preserve"><path d="M59.605,23.399c-0.241-0.281-0.593-0.443-0.965-0.443H56V8.723c0-0.975-0.793-1.768-1.768-1.768H23.566l-2.485-4.141  c-0.317-0.53-0.898-0.859-1.516-0.859H5.767C4.793,1.956,4,2.749,4,3.723v19.232H1.27c-0.37,0-0.721,0.161-0.962,0.441  c-0.242,0.28-0.35,0.651-0.294,1.02l4.917,32.454c0.091,0.618,0.631,1.085,1.257,1.085h47.534c0.626,0,1.166-0.467,1.256-1.081  l4.918-32.454C59.953,24.053,59.847,23.681,59.605,23.399z M6,3.956h13.434l2.485,4.141c0.317,0.53,0.898,0.859,1.516,0.859H54v14 h-1v-4h-1v-3h-1v-3H9v3H8v3H7v4H6V3.956z M9,20.956h42v2H9V20.956z M10,17.956h40v1H10V17.956z M49,15.956H11v-1h38V15.956z  M53.095,55.956H6.815l-4.696-31H4h3h46h3h1.792L53.095,55.956z"/><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
score:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 297 297" style="enable-background:new 0 0 297 297;" xml:space="preserve"><g>  <path d="M288.5,17.5H8.5C3.806,17.5,0,21.306,0,26v245c0,4.694,3.806,8.5,8.5,8.5h280c4.694,0,8.5-3.806,8.5-8.5V26    C297,21.306,293.194,17.5,288.5,17.5z M280,262.5H17v-228h263V262.5z"/> <path d="M61,157h35c4.694,0,8.5-3.806,8.5-8.5v-70c0-4.694-3.806-8.5-8.5-8.5H61c-4.694,0-8.5,3.806-8.5,8.5v70    C52.5,153.194,56.306,157,61,157z M69.5,87h18v53h-18V87z"/>  <path d="M131,157h35c4.694,0,8.5-3.806,8.5-8.5v-70c0-4.694-3.806-8.5-8.5-8.5h-35c-4.694,0-8.5,3.806-8.5,8.5v70    C122.5,153.194,126.306,157,131,157z M139.5,87h18v53h-18V87z"/>  <path d="M201,140c-4.694,0-8.5,3.806-8.5,8.5s3.806,8.5,8.5,8.5h35c4.694,0,8.5-3.806,8.5-8.5v-70c0-4.694-3.806-8.5-8.5-8.5h-35   c-4.694,0-8.5,3.806-8.5,8.5s3.806,8.5,8.5,8.5h26.5v18H201c-4.694,0-8.5,3.806-8.5,8.5s3.806,8.5,8.5,8.5h26.5v18H201z"/>  <path d="M70,209.75c0,19.161,15.589,34.75,34.75,34.75s34.75-15.589,34.75-34.75S123.911,175,104.75,175S70,190.589,70,209.75z    M104.75,192c9.787,0,17.75,7.963,17.75,17.75s-7.963,17.75-17.75,17.75S87,219.537,87,209.75S94.963,192,104.75,192z"/>  <path d="M157.5,209.75c0,19.161,15.589,34.75,34.75,34.75S227,228.911,227,209.75S211.411,175,192.25,175    S157.5,190.589,157.5,209.75z M192.25,192c9.787,0,17.75,7.963,17.75,17.75s-7.963,17.75-17.75,17.75s-17.75-7.963-17.75-17.75    S182.463,192,192.25,192z"/> <path d="M35.017,253.52c2.24,0,4.431-0.91,6.01-2.5c1.58-1.58,2.49-3.77,2.49-6c0-2.24-0.91-4.43-2.49-6.02    c-1.579-1.58-3.77-2.48-6.01-2.48s-4.43,0.9-6.01,2.48c-1.58,1.59-2.49,3.779-2.49,6.02c0,2.23,0.91,4.42,2.49,6    C30.587,252.609,32.776,253.52,35.017,253.52z"/> <path d="M35.017,60.49c2.24,0,4.42-0.91,6.01-2.49c1.58-1.59,2.49-3.78,2.49-6.021c0-2.229-0.91-4.42-2.49-6.01    c-1.579-1.58-3.77-2.49-6.01-2.49s-4.43,0.91-6.01,2.49c-1.58,1.59-2.49,3.78-2.49,6.01c0,2.24,0.91,4.431,2.49,6.021   C30.587,59.58,32.776,60.49,35.017,60.49z"/> <path d="M260.927,253.52c2.23,0,4.42-0.91,6.01-2.5c1.58-1.58,2.49-3.77,2.49-6c0-2.24-0.91-4.43-2.49-6.02    c-1.59-1.58-3.779-2.48-6.01-2.48c-2.24,0-4.43,0.9-6.01,2.48c-1.59,1.59-2.49,3.779-2.49,6.02c0,2.23,0.9,4.42,2.49,6    C256.497,252.609,258.687,253.52,260.927,253.52z"/>  <path d="M260.927,60.49c2.23,0,4.42-0.91,6.01-2.49c1.58-1.59,2.49-3.78,2.49-6.021c0-2.229-0.91-4.42-2.49-6.01   c-1.59-1.58-3.779-2.49-6.01-2.49c-2.24,0-4.43,0.91-6.01,2.49c-1.59,1.59-2.49,3.78-2.49,6.01c0,2.24,0.9,4.431,2.49,6.021   C256.497,59.58,258.687,60.49,260.927,60.49z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
tree:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 483.6 483.6" style="enable-background:new 0 0 483.6 483.6;" xml:space="preserve"><g>  <path d="M466.2,353.25H451v-30.2c0-9.9-5.6-17.1-13.4-17.1h-53.1v-36.4h15.2c9.5,0,17.2-7.7,17.2-17.2v-30   c0-9.5-7.7-17.2-17.2-17.2h-15.2v-30.3c0-9.4-7.7-17.1-17.1-17.1H251.2v-27.3h15.4c9.5,0,17.2-7.7,17.2-17.2v-30    c0-9.5-7.7-17.2-17.2-17.2h-49.9c-9.5,0-17.2,7.7-17.2,17.2v30c0,9.5,7.7,17.2,17.2,17.2h15.1v27.3H116.1   c-9.4,0-17.1,7.7-17.1,17.1v30.2H83.7c-9.5,0-17.2,7.7-17.2,17.2v30c0,9.5,7.7,17.2,17.2,17.2h15.2v36.4h-53    c-7.8,0-13.4,7.2-13.4,17.1v30.2H17.2c-9.5,0-17.2,7.7-17.2,17.2v30c0,9.5,7.7,17.2,17.2,17.2h49.9c9.5,0,17.2-7.7,17.2-17.2v-30    c0-9.5-7.7-17.2-17.2-17.2H51.9v-27.9h113.6v27.9h-15.2c-9.5,0-17.2,7.7-17.2,17.2v30c0,9.5,7.7,17.2,17.2,17.2h49.9    c9.5,0,17.2-7.7,17.2-17.2v-30c0-9.5-7.7-17.2-17.2-17.2H185v-30.2c0-9.9-5.6-17.1-13.4-17.1h-53.1v-36.4h15.2    c9.5,0,17.2-7.7,17.2-17.2v-30c0-9.5-7.7-17.2-17.2-17.2h-15.2v-27.9h113.4v27.9h-15.1c-9.5,0-17.2,7.7-17.2,17.2v30    c0,9.5,7.7,17.2,17.2,17.2h49.9c9.5,0,17.2-7.7,17.2-17.2v-30c0-9.5-7.7-17.2-17.2-17.2h-15.4v-27.9h113.8v27.9h-15.2   c-9.5,0-17.2,7.7-17.2,17.2v30c0,9.5,7.7,17.2,17.2,17.2h15.2v36.4H312c-7.8,0-13.4,7.2-13.4,17.1v30.2h-15.2   c-9.5,0-17.2,7.7-17.2,17.2v30c0,9.5,7.7,17.2,17.2,17.2h49.9c9.5,0,17.2-7.7,17.2-17.2v-30c0-9.5-7.7-17.2-17.2-17.2h-15.2v-27.9   h113.6v27.9h-15.2c-9.5,0-17.2,7.7-17.2,17.2v30c0,9.5,7.7,17.2,17.2,17.2h49.9c9.5,0,17.2-7.7,17.2-17.2v-30   C483.3,360.95,475.7,353.25,466.2,353.25z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
www:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"   viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"><g>  <g>   <g>     <path d="M446.147,117.431h-14.817h-41.561c-6.552-21.836-18.444-41.844-35.017-58.419C328.374,32.636,293.304,18.111,256,18.111        c-62.986,0-116.359,41.919-133.707,99.32H0v80.668h122.294c16.666,55.135,66.569,95.984,126.307,99.123v20.355l-24.699,0.005        l-0.005,176.307h64.2l0.005-176.32l-24.683,0.005v-20.352c59.728-3.14,109.624-43.989,126.287-99.123h41.623h14.817H512v-80.668       H446.147z M238.719,362.615h34.565l-0.003,86.228h-34.565L238.719,362.615z M238.715,479.075l0.001-15.414h34.565l-0.001,15.414       H238.715z M273.285,347.8h-34.565l0.001-15.409h34.565L273.285,347.8z M256,32.925c33.347,0,64.694,12.984,88.274,36.562        c6.155,6.155,11.581,12.844,16.249,19.955H151.571C173.895,55.433,212.365,32.925,256,32.925z M14.817,183.284v-51.036h103.874        c-1.534,8.276-2.344,16.802-2.344,25.516c0,8.715,0.81,17.243,2.345,25.521H14.817z M256.008,282.602       c-43.632-0.005-82.099-22.508-104.427-56.509h208.842C338.099,260.098,299.636,282.602,256.008,282.602z M368.77,211.276H143.232        c-7.733-16.228-12.068-34.374-12.068-53.514c0-19.136,4.333-37.277,12.061-53.501h225.637        c7.839,16.507,11.974,34.687,11.974,53.501C380.836,176.902,376.501,195.047,368.77,211.276z M431.329,183.284h-38.021        c1.535-8.277,2.345-16.806,2.345-25.521c0.001-8.653-0.791-17.183-2.32-25.516h37.997V183.284z M497.183,183.284h-51.036v-51.036        h51.036V183.284z"/>     <path d="M199.201,159.725l-4.938,7.409l-4.938-7.409v-24.686h-14.817v24.686l-4.938,7.409l-4.938-7.409v-24.686h-14.817v26.924       c0,1.462,0.435,2.89,1.244,4.109l12.347,18.522c1.375,2.063,3.689,3.3,6.164,3.3s4.79-1.236,6.164-3.297l6.183-9.276l6.182,9.273        c1.372,2.063,3.689,3.3,6.164,3.3c2.478,0,4.792-1.236,6.164-3.297l12.347-18.522c0.812-1.219,1.244-2.647,1.244-4.109v-26.926        h-14.817V159.725z"/>      <path d="M273.288,159.725l-4.938,7.409l-4.941-7.409v-24.686h0h-14.817v24.686l-4.938,7.409l-4.938-7.409v-24.686h-14.817v26.924       c0,1.462,0.435,2.89,1.244,4.109l12.347,18.522c1.372,2.063,3.689,3.3,6.164,3.3c2.475,0,4.79-1.236,6.164-3.297l6.184-9.275        l6.181,9.272c1.375,2.063,3.689,3.3,6.164,3.3s4.79-1.236,6.167-3.297l12.347-18.522c0.812-1.219,1.244-2.647,1.244-4.109       v-26.926h-14.817V159.725z"/>      <path d="M347.374,135.039v24.686l-4.941,7.409l-4.938-7.409v-24.686h-14.817h0v24.686l-4.938,7.409l-4.941-7.409v-24.686h-14.817       v26.924c0,1.462,0.435,2.89,1.244,4.109l12.347,18.522c1.372,2.063,3.686,3.3,6.164,3.3c2.476,0,4.79-1.236,6.167-3.297       l6.183-9.276l6.182,9.273c1.372,2.063,3.686,3.3,6.162,3.3s4.792-1.236,6.17-3.297l12.347-18.522       c0.809-1.219,1.244-2.647,1.244-4.109v-26.926H347.374z"/>    </g>  </g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
font:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"   viewBox="0 0 340.111 340.111" style="enable-background:new 0 0 340.111 340.111;" xml:space="preserve"><g>  <polygon style="fill:#333E48;" points="340.111,76.316 340.111,65.175 292.206,65.175 292.206,76.316 310.588,76.316     310.588,263.794 292.206,263.794 292.206,274.935 340.111,274.935 340.111,263.794 321.729,263.794 321.729,76.316  "/> <g>   <path style="fill:#1E252B;" d="M2.067,229.59l56.068-126.615c3.909-8.731,11.03-14.018,20.684-14.018h2.068      c9.648,0,16.544,5.286,20.449,14.018l56.07,126.615c1.149,2.528,1.84,4.825,1.84,7.124c0,9.421-7.354,17.004-16.776,17.004      c-8.272,0-13.788-4.825-17.004-12.18l-10.799-25.275H43.891l-11.26,26.426c-2.988,6.893-8.961,11.029-16.315,11.029     C7.121,253.718,0,246.365,0,237.173C0,234.645,0.918,232.118,2.067,229.59z M101.568,185.011l-22.291-53.082l-22.289,53.082     H101.568z"/>    <path style="fill:#1E252B;" d="M176.011,216.951v-0.46c0-26.885,20.452-39.294,49.635-39.294c12.41,0,21.373,2.068,30.105,5.056      v-2.068c0-14.478-8.963-22.519-26.427-22.519c-9.651,0-17.464,1.378-24.128,3.447c-2.067,0.689-3.447,0.918-5.058,0.918     c-8.04,0-14.474-6.204-14.474-14.246c0-6.205,3.905-11.49,9.419-13.559c11.03-4.136,22.981-6.434,39.296-6.434      c19.071,0,32.86,5.055,41.593,13.787c9.191,9.191,13.327,22.75,13.327,39.295v56.068c0,9.423-7.583,16.775-17.005,16.775      c-10.111,0-16.774-7.123-16.774-14.477v-0.23c-8.502,9.421-20.224,15.625-37.226,15.625      C195.083,254.637,176.011,241.311,176.011,216.951z M256.208,208.908v-6.204c-5.974-2.757-13.787-4.596-22.289-4.596      c-14.938,0-24.128,5.975-24.128,17.004v0.46c0,9.422,7.813,14.936,19.072,14.936C245.178,230.509,256.208,221.548,256.208,208.908     z"/>  </g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
text:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 22.916 22.916" style="enable-background:new 0 0 22.916 22.916;" xml:space="preserve"><g>  <path d="M11.458,22.828H0.5c-0.276,0-0.5-0.224-0.5-0.5s0.224-0.5,0.5-0.5h10.958c0.276,0,0.5,0.224,0.5,0.5   S11.734,22.828,11.458,22.828z"/>  <path d="M22.416,15.582H0.5c-0.276,0-0.5-0.224-0.5-0.5s0.224-0.5,0.5-0.5h21.916c0.276,0,0.5,0.224,0.5,0.5   S22.692,15.582,22.416,15.582z"/>  <path d="M22.416,8.335H0.5c-0.276,0-0.5-0.224-0.5-0.5s0.224-0.5,0.5-0.5h21.916c0.276,0,0.5,0.224,0.5,0.5    S22.692,8.335,22.416,8.335z"/>  <path d="M22.416,1.088H0.5c-0.276,0-0.5-0.224-0.5-0.5s0.224-0.5,0.5-0.5h21.916c0.276,0,0.5,0.224,0.5,0.5    S22.692,1.088,22.416,1.088z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
table:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="475.082px" height="475.081px" viewBox="0 0 475.082 475.081" style="enable-background:new 0 0 475.082 475.081;"   xml:space="preserve"><g> <path d="M461.667,49.963c-8.949-8.947-19.698-13.418-32.265-13.418H45.682c-12.562,0-23.317,4.471-32.264,13.418   C4.473,58.912,0,69.663,0,82.228V392.86c0,12.566,4.473,23.309,13.418,32.261c8.947,8.949,19.701,13.415,32.264,13.415h383.72   c12.566,0,23.315-4.466,32.265-13.415c8.945-8.952,13.415-19.701,13.415-32.261V82.228   C475.082,69.663,470.612,58.909,461.667,49.963z M146.183,392.85c0,2.673-0.859,4.856-2.574,6.571    c-1.712,1.711-3.899,2.562-6.567,2.562h-91.36c-2.662,0-4.853-0.852-6.567-2.562c-1.713-1.715-2.568-3.898-2.568-6.571V338.03   c0-2.669,0.855-4.853,2.568-6.56c1.714-1.719,3.905-2.574,6.567-2.574h91.363c2.667,0,4.858,0.855,6.567,2.574    c1.711,1.707,2.57,3.891,2.57,6.56V392.85z M146.183,283.221c0,2.663-0.859,4.854-2.574,6.564    c-1.712,1.714-3.899,2.569-6.567,2.569h-91.36c-2.662,0-4.853-0.855-6.567-2.569c-1.713-1.711-2.568-3.901-2.568-6.564v-54.819    c0-2.664,0.855-4.854,2.568-6.567c1.714-1.709,3.905-2.565,6.567-2.565h91.363c2.667,0,4.854,0.855,6.567,2.565   c1.711,1.713,2.57,3.903,2.57,6.567V283.221z M146.183,173.587c0,2.666-0.859,4.853-2.574,6.567    c-1.712,1.709-3.899,2.568-6.567,2.568h-91.36c-2.662,0-4.853-0.859-6.567-2.568c-1.713-1.715-2.568-3.901-2.568-6.567V118.77   c0-2.666,0.855-4.856,2.568-6.567c1.714-1.713,3.905-2.568,6.567-2.568h91.363c2.667,0,4.854,0.855,6.567,2.568   c1.711,1.711,2.57,3.901,2.57,6.567V173.587z M292.362,392.85c0,2.673-0.855,4.856-2.563,6.571c-1.711,1.711-3.9,2.562-6.57,2.562   H191.86c-2.663,0-4.853-0.852-6.567-2.562c-1.713-1.715-2.568-3.898-2.568-6.571V338.03c0-2.669,0.855-4.853,2.568-6.56   c1.714-1.719,3.904-2.574,6.567-2.574h91.365c2.669,0,4.859,0.855,6.57,2.574c1.704,1.707,2.56,3.891,2.56,6.56v54.819H292.362z    M292.362,283.221c0,2.663-0.855,4.854-2.563,6.564c-1.711,1.714-3.9,2.569-6.57,2.569H191.86c-2.663,0-4.853-0.855-6.567-2.569   c-1.713-1.711-2.568-3.901-2.568-6.564v-54.819c0-2.664,0.855-4.854,2.568-6.567c1.714-1.709,3.904-2.565,6.567-2.565h91.365    c2.669,0,4.859,0.855,6.57,2.565c1.704,1.713,2.56,3.903,2.56,6.567v54.819H292.362z M292.362,173.587    c0,2.666-0.855,4.853-2.563,6.567c-1.711,1.709-3.9,2.568-6.57,2.568H191.86c-2.663,0-4.853-0.859-6.567-2.568    c-1.713-1.715-2.568-3.901-2.568-6.567V118.77c0-2.666,0.855-4.856,2.568-6.567c1.714-1.713,3.904-2.568,6.567-2.568h91.365   c2.669,0,4.859,0.855,6.57,2.568c1.704,1.711,2.56,3.901,2.56,6.567v54.817H292.362z M438.536,392.85   c0,2.673-0.855,4.856-2.562,6.571c-1.718,1.711-3.908,2.562-6.571,2.562h-91.354c-2.673,0-4.862-0.852-6.57-2.562   c-1.711-1.715-2.56-3.898-2.56-6.571V338.03c0-2.669,0.849-4.853,2.56-6.56c1.708-1.719,3.897-2.574,6.57-2.574h91.354    c2.663,0,4.854,0.855,6.571,2.574c1.707,1.707,2.562,3.891,2.562,6.56V392.85z M438.536,283.221c0,2.663-0.855,4.854-2.562,6.564    c-1.718,1.714-3.908,2.569-6.571,2.569h-91.354c-2.673,0-4.862-0.855-6.57-2.569c-1.711-1.711-2.56-3.901-2.56-6.564v-54.819    c0-2.664,0.849-4.854,2.56-6.567c1.708-1.709,3.897-2.565,6.57-2.565h91.354c2.663,0,4.854,0.855,6.571,2.565   c1.707,1.713,2.562,3.903,2.562,6.567V283.221z M438.536,173.587c0,2.666-0.855,4.853-2.562,6.567    c-1.718,1.709-3.908,2.568-6.571,2.568h-91.354c-2.673,0-4.862-0.859-6.57-2.568c-1.711-1.715-2.56-3.901-2.56-6.567V118.77   c0-2.666,0.849-4.856,2.56-6.567c1.708-1.713,3.897-2.568,6.57-2.568h91.354c2.663,0,4.854,0.855,6.571,2.568   c1.707,1.711,2.562,3.901,2.562,6.567V173.587z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
filter:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 247.46 247.46" style="enable-background:new 0 0 247.46 247.46;" xml:space="preserve"><path d="M246.744,13.984c-1.238-2.626-3.881-4.301-6.784-4.301H7.5c-2.903,0-5.545,1.675-6.784,4.301 c-1.238,2.626-0.85,5.73,0.997,7.97l89.361,108.384v99.94c0,2.595,1.341,5.005,3.545,6.373c1.208,0.749,2.579,1.127,3.955,1.127 c1.137,0,2.278-0.259,3.33-0.78l50.208-24.885c2.551-1.264,4.165-3.863,4.169-6.71l0.098-75.062l89.366-108.388 C247.593,19.714,247.982,16.609,246.744,13.984z M143.097,122.873c-1.105,1.34-1.711,3.023-1.713,4.761l-0.096,73.103 l-35.213,17.453v-90.546c0-1.741-0.605-3.428-1.713-4.771L23.404,24.682h200.651L143.097,122.873z"/><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
reddit:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="430.117px" height="430.117px" viewBox="0 0 430.117 430.117" style="enable-background:new 0 0 430.117 430.117;"   xml:space="preserve"><g> <path id="reddit" d="M307.523,231.062c1.11,2.838,1.614,5.769,1.614,8.681c0,5.862-2.025,11.556-5.423,16.204    c-3.36,4.593-8.121,8.158-13.722,9.727h0.01c-0.047,0.019-0.094,0.019-0.117,0.037c-0.023,0-0.061,0.019-0.079,0.019    c-2.623,0.896-5.312,1.316-7.98,1.316c-6.254,0-12.396-2.254-17.306-6.096c-4.872-3.826-8.56-9.324-9.717-15.845h-0.01    c0-0.019,0-0.042-0.009-0.069c0-0.019,0-0.038-0.019-0.065h0.019c-0.364-1.681-0.551-3.36-0.551-5.021    c0-5.647,1.923-11.07,5.097-15.551c3.164-4.453,7.626-7.99,12.848-9.811c0.019,0,0.038-0.01,0.038-0.01   c0.027,0,0.027-0.027,0.051-0.027c2.954-1.092,6.072-1.639,9.157-1.639c5.619,0,11.154,1.704,15.821,4.821    c4.611,3.066,8.354,7.561,10.23,13.143c0.019,0.037,0.019,0.07,0.037,0.103c0,0.037,0.019,0.057,0.037,0.084H307.523z    M290.329,300.349c-2.202-1.428-4.751-2.291-7.448-2.291c-2.175,0-4.434,0.621-6.445,1.955l0,0   c-19.004,11.342-41.355,17.558-63.547,17.558c-16.65,0-33.199-3.514-48.192-10.879l-0.077-0.037l-0.075-0.028   c-2.261-0.924-4.837-2.889-7.647-4.76c-1.428-0.925-2.919-1.844-4.574-2.521c-1.633-0.695-3.447-1.181-5.386-1.181    c-1.605,0-3.292,0.359-4.957,1.115c-0.086,0.033-0.168,0.065-0.252,0.098h0.009c-2.616,0.999-4.66,2.829-5.974,4.994    c-1.372,2.23-2.046,4.826-2.046,7.411c0,2.334,0.551,4.667,1.691,6.786c1.085,2.007,2.754,3.762,4.938,4.938    c21.429,14.454,46.662,21.002,71.992,20.979c22.838,0,45.814-5.287,66.27-14.911l0.107-0.065l0.103-0.056   c2.697-1.597,6.282-3.029,9.661-5.115c1.671-1.064,3.304-2.296,4.704-3.897c1.4-1.591,2.525-3.551,3.16-5.875v-0.01   c0.266-1.026,0.392-2.025,0.392-3.024c0-1.899-0.467-3.701-1.241-5.32C294.361,303.775,292.504,301.778,290.329,300.349z     M139.875,265.589c0.037,0,0.086,0.014,0.128,0.037c2.735,0.999,5.554,1.493,8.345,1.493c6.963,0,13.73-2.852,18.853-7.5    c5.115-4.662,8.618-11.257,8.618-18.775c0-0.196,0-0.392-0.009-0.625c0.019-0.336,0.028-0.705,0.028-1.083    c0-7.458-3.456-14.08-8.522-18.762c-5.085-4.686-11.836-7.551-18.825-7.551c-1.867,0-3.769,0.219-5.628,0.653   c-0.028,0-0.049,0.009-0.077,0.009c0,0-0.019,0-0.028,0c-9.252,1.937-17.373,8.803-20.37,18.248l0,0v0.01   c0,0.019-0.009,0.037-0.009,0.037c-0.861,2.586-1.262,5.255-1.262,7.896c0,5.787,1.913,11.426,5.211,16.064   c3.269,4.56,7.894,8.145,13.448,9.819C139.816,265.561,139.835,265.571,139.875,265.589z M430.033,198.094v0.038    c0.066,0.94,0.084,1.878,0.084,2.81c0,10.447-3.351,20.493-8.941,29.016c-5.218,7.976-12.414,14.649-20.703,19.177    c0.532,4.158,0.84,8.349,0.84,12.526c-0.01,22.495-7.766,44.607-21.272,62.329v0.009h-0.028    c-24.969,33.216-63.313,52.804-102.031,62.684h-0.01l-0.027,0.023c-20.647,5.013-41.938,7.574-63.223,7.574   c-31.729,0-63.433-5.722-93.018-17.585l-0.009-0.028h-0.028c-30.672-12.643-59.897-32.739-77.819-62.184    c-9.642-15.71-14.935-34.141-14.935-52.659c0-4.19,0.283-8.387,0.843-12.536c-8.072-4.545-15.063-10.99-20.255-18.687   c-5.542-8.266-9.056-17.95-9.5-28.187v-0.04v-0.037v-0.082c0.009-14.337,6.237-27.918,15.915-37.932    c9.677-10.011,22.896-16.554,37.075-16.554c0.196,0,0.392,0,0.588,0c1.487-0.101,2.987-0.159,4.488-0.159   c7.122,0,14.26,1.153,21.039,3.752l0.037,0.028l0.038,0.012c5.787,2.437,11.537,5.377,16.662,9.449   c1.661-0.871,3.472-1.851,5.504-2.625c31.064-18.395,67.171-25.491,102.358-27.538c0.306-17.431,2.448-35.68,10.949-51.65   c7.08-13.269,19.369-23.599,34-27.179l0.061-0.03l0.079-0.009c5.573-1.078,11.192-1.575,16.774-1.575   c14.869,0,29.561,3.521,43.31,9.017c6.086-9.185,14.776-16.354,24.97-20.375l0.098-0.056l0.098-0.037   c5.983-1.864,12.303-2.954,18.646-2.954c6.692,0,13.437,1.223,19.756,4.046v-0.023c0.009,0.023,0.019,0.023,0.019,0.023   c0.047,0.016,0.084,0.044,0.116,0.044c9.059,3.489,16.727,9.937,22.164,17.95c5.442,8.048,8.644,17.688,8.644,27.599    c0,1.827-0.103,3.657-0.317,5.489l-0.019,0.037c0,0.028,0,0.068-0.01,0.096c-1.063,12.809-7.551,24.047-16.736,32.063   c-9.24,8.048-21.207,12.909-33.49,12.909c-1.97,0-3.958-0.11-5.937-0.374c-12.182-0.931-23.541-6.826-31.886-15.595   c-8.373-8.755-13.768-20.453-13.768-33.08c0-0.611,0.056-1.237,0.074-1.843c-11.435-5.092-23.578-9.316-35.646-9.306    c-1.746,0-3.491,0.096-5.237,0.273h-0.019c-9.035,0.871-17.436,6.566-21.506,14.757v0.009v0.028    c-6.179,12.034-7.411,26.101-7.598,40.064c34.639,2.259,69.483,10.571,100.043,28.138h0.047l0.438,0.259    c0.579,0.343,1.652,0.931,2.623,1.449c2.101-1.704,4.322-3.456,6.856-4.966c9.264-6.17,20.241-9.238,31.223-9.238   c4.872,0,9.749,0.621,14.481,1.834h0.019l0.196,0.058c0.07,0.01,0.121,0.033,0.178,0.033v0.009   c11.183,2.845,21.3,9.267,28.917,17.927c7.612,8.674,12.731,19.648,13.73,31.561v0.025H430.033z M328.002,84.733    c0,0.469,0.01,0.95,0.057,1.44v0.028v0.056c0.224,6.018,3.065,11.619,7.383,15.756c4.34,4.14,10.1,6.702,15.942,6.725h0.08h0.079    c0.42,0.033,0.85,0.033,1.26,0.033c5.899,0.009,11.752-2.532,16.148-6.655c4.405-4.144,7.309-9.78,7.542-15.849l0.009-0.028v-0.037    c0.038-0.464,0.057-0.903,0.057-1.377c0-6.247-2.922-12.202-7.496-16.612c-4.555-4.406-10.688-7.136-16.735-7.12    c-1.951,0-3.884,0.266-5.778,0.854l-0.065,0.005l-0.056,0.023c-4.984,1.295-9.656,4.368-13.012,8.449   C330.046,74.486,328.002,79.508,328.002,84.733z M72.312,177.578c-4.63-2.156-9.418-3.696-14.15-3.676    c-0.794,0-1.597,0.047-2.39,0.133h-0.11l-0.11,0.014c-6.795,0.187-13.653,3.15-18.801,7.899    c-5.152,4.732-8.559,11.122-8.821,18.167v0.065l-0.012,0.058c-0.046,0.57-0.065,1.137-0.065,1.683    c0,4.345,1.333,8.545,3.593,12.368c1.673,2.847,3.867,5.441,6.348,7.701C45.735,204.602,58.142,189.845,72.312,177.578z    M374.066,262.635c0-15.5-5.592-31.069-14.646-43.604c-18.053-25.119-46.055-41.502-75.187-50.636l-0.205-0.072   c-5.592-1.715-11.238-3.234-16.933-4.534c-17.025-3.876-34.48-5.806-51.917-5.806c-23.414,0-46.827,3.465-69.245,10.379   c-29.125,9.243-57.221,25.51-75.233,50.71v0.019c-9.129,12.587-14.475,28.208-14.475,43.763c0,5.727,0.716,11.453,2.23,17.025   l0.019,0.01c3.278,12.508,9.689,23.671,17.989,33.393c8.295,9.745,18.472,18.058,29.176,24.839c2.371,1.47,4.751,2.87,7.187,4.237   c31.094,17.356,66.898,24.964,102.445,24.964c6.012,0,12.06-0.214,18.033-0.644c35.797-2.959,71.742-13.525,100.8-35.115    l0.01-0.023c9.25-6.837,17.818-15.112,24.595-24.525c6.805-9.418,11.789-19.947,14.002-31.382V275.6l0.009-0.01   C373.627,271.32,374.066,266.985,374.066,262.635z M402.32,200.95c-0.009-3.762-0.868-7.507-2.753-11l-0.047-0.044l-0.019-0.056   c-2.521-5.19-6.479-9.11-11.248-11.782c-4.77-2.69-10.352-4.056-15.952-4.056c-5.063,0-10.1,1.132-14.57,3.379    c14.216,12.344,26.687,27.179,34.746,44.636c2.595-2.259,4.808-5.018,6.464-8.084C401.098,209.92,402.32,205.405,402.32,200.95z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
whitehouse:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="529.234px" height="529.234px" viewBox="0 0 529.234 529.234" style="enable-background:new 0 0 529.234 529.234;"   xml:space="preserve"><g> <g>   <path d="M478.319,297.626h17.188c1.295,0,2.345-1.049,2.345-2.344v-30.86c0-1.294-1.05-2.344-2.345-2.344h-17.188      c-1.295,0-2.344,1.049-2.344,2.344v30.86C475.977,296.577,477.024,297.626,478.319,297.626z M480.663,266.766h12.5v26.172h-12.5     V266.766z"/>    <path d="M33.724,297.626h17.188c1.294,0,2.344-1.049,2.344-2.344v-30.86c0-1.294-1.05-2.344-2.344-2.344H33.724      c-1.294,0-2.344,1.049-2.344,2.344v30.86C31.38,296.577,32.429,297.626,33.724,297.626z M36.067,266.766h12.5v26.172h-12.5      V266.766z"/>    <path d="M74.088,297.626h17.188c1.294,0,2.344-1.049,2.344-2.344v-30.86c0-1.294-1.05-2.344-2.344-2.344H74.088      c-1.294,0-2.344,1.049-2.344,2.344v30.86C71.745,296.577,72.794,297.626,74.088,297.626z M76.432,266.766h12.5v26.172h-12.5     V266.766z"/>    <path d="M114.454,297.626h17.188c1.294,0,2.344-1.049,2.344-2.344v-30.86c0-1.294-1.05-2.344-2.344-2.344h-17.188      c-1.295,0-2.344,1.049-2.344,2.344v30.86C112.11,296.577,113.159,297.626,114.454,297.626z M116.797,266.766h12.5v26.172h-12.5      V266.766z"/>    <path d="M154.818,297.626h17.188c1.294,0,2.344-1.049,2.344-2.344v-30.86c0-1.294-1.05-2.344-2.344-2.344h-17.188      c-1.295,0-2.344,1.049-2.344,2.344v30.86C152.475,296.577,153.523,297.626,154.818,297.626z M157.162,266.766h12.5v26.172h-12.5     V266.766z"/>    <path d="M33.724,358.954h17.188c1.294,0,2.344-1.049,2.344-2.344v-30.859c0-1.295-1.05-2.344-2.344-2.344H33.724     c-1.294,0-2.344,1.049-2.344,2.344v30.859C31.38,357.905,32.429,358.954,33.724,358.954z M36.067,328.095h12.5v26.172h-12.5     V328.095z"/>    <path d="M74.088,358.954h17.188c1.294,0,2.344-1.049,2.344-2.344v-30.859c0-1.295-1.05-2.344-2.344-2.344H74.088     c-1.294,0-2.344,1.049-2.344,2.344v30.859C71.745,357.905,72.794,358.954,74.088,358.954z M76.432,328.095h12.5v26.172h-12.5      V328.095z"/>    <path d="M114.454,358.954h17.188c1.294,0,2.344-1.049,2.344-2.344v-30.859c0-1.295-1.05-2.344-2.344-2.344h-17.188     c-1.295,0-2.344,1.049-2.344,2.344v30.859C112.11,357.905,113.159,358.954,114.454,358.954z M116.797,328.095h12.5v26.172h-12.5     V328.095z"/>    <path d="M154.818,358.954h17.188c1.294,0,2.344-1.049,2.344-2.344v-30.859c0-1.295-1.05-2.344-2.344-2.344h-17.188     c-1.295,0-2.344,1.049-2.344,2.344v30.859C152.475,357.905,153.523,358.954,154.818,358.954z M157.162,328.095h12.5v26.172h-12.5      V328.095z"/>    <path d="M526.887,231.024h-9.113v-15.885c0-1.294-1.049-2.344-2.344-2.344H379.751V184.93c0-1.294-1.049-2.344-2.344-2.344h-9.114      V172.43c0-1.294-1.05-2.344-2.344-2.344c-1.295,0-2.344,1.049-2.344,2.344v10.156h-9.114c-1.295,0-2.344,1.049-2.344,2.344v27.865     h-12.5V197.43c0-1.294-1.049-2.344-2.345-2.344h-70.345v-37.632l12.399-6.377c0.009-0.005,0.017-0.012,0.024-0.017      c0.084-0.045,0.162-0.102,0.241-0.157c0.049-0.034,0.102-0.062,0.146-0.1c0.059-0.048,0.109-0.107,0.165-0.162      c0.055-0.055,0.112-0.105,0.161-0.165c0.036-0.045,0.065-0.098,0.101-0.146c0.055-0.079,0.111-0.156,0.156-0.241      c0.005-0.009,0.012-0.016,0.017-0.025c0.024-0.049,0.038-0.101,0.061-0.151c0.033-0.082,0.07-0.163,0.098-0.248     c0.021-0.073,0.032-0.146,0.048-0.22c0.015-0.075,0.032-0.149,0.039-0.225s0.005-0.151,0.005-0.228s0.002-0.151-0.005-0.228     s-0.024-0.15-0.039-0.226c-0.016-0.073-0.027-0.147-0.048-0.22c-0.026-0.085-0.063-0.166-0.098-0.248     c-0.021-0.05-0.035-0.102-0.061-0.151c-0.005-0.009-0.012-0.016-0.017-0.025c-0.046-0.086-0.104-0.165-0.158-0.244      c-0.034-0.047-0.062-0.099-0.098-0.143c-0.052-0.062-0.111-0.115-0.17-0.172c-0.053-0.052-0.101-0.108-0.157-0.155      c-0.047-0.039-0.104-0.07-0.154-0.106c-0.076-0.053-0.151-0.107-0.232-0.15c-0.01-0.005-0.017-0.012-0.025-0.017l-13.671-7.031      c-0.728-0.374-1.596-0.342-2.293,0.083c-0.697,0.425-1.123,1.184-1.123,2.001v53.125h-70.345c-1.294,0-2.344,1.049-2.344,2.344      v15.365h-12.5v-27.865c0-1.294-1.049-2.344-2.344-2.344h-9.114v-10.156c0-1.294-1.05-2.344-2.344-2.344     c-1.295,0-2.344,1.049-2.344,2.344v10.156h-9.115c-1.294,0-2.344,1.049-2.344,2.344v27.865H13.802      c-1.294,0-2.344,1.05-2.344,2.344v15.885H2.344c-1.295,0-2.344,1.049-2.344,2.344v9.375c0,1.294,1.049,2.344,2.344,2.344h9.114      v142.189c0,1.295,1.05,2.344,2.344,2.344h178.125h16.146H234.8h16.146h27.341h16.146h26.728h16.146h178.125     c1.295,0,2.344-1.049,2.344-2.344V245.086h9.114c1.295,0,2.344-1.049,2.344-2.344v-9.375     C529.23,232.073,528.183,231.024,526.887,231.024z M266.959,145.803l6.203,3.19l-6.203,3.19V145.803z M154.167,187.274h18.229     v25.521h-18.229V187.274z M189.583,384.931H16.146V245.086h173.438L189.583,384.931L189.583,384.931z M189.583,240.399H13.802     H4.688v-4.688h9.114h175.781V240.399z M189.583,231.024H16.146v-13.542h135.678h22.916h14.844L189.583,231.024L189.583,231.024z      M264.615,201.811l61.474,26.87H203.142L264.615,201.811z M194.271,215.139v-15.365h63.301l-63.301,27.668V215.139z      M205.729,384.931h-11.458V245.086h11.458L205.729,384.931L205.729,384.931z M232.455,384.931h-22.039V245.086h22.039V384.931z       M248.601,384.931h-11.458V245.086h11.458V384.931z M275.941,384.931h-22.653V245.086h22.653V384.931z M292.087,384.931h-11.458     V245.086h11.458V384.931z M318.814,384.931h-22.04V245.086h22.04V384.931z M334.96,384.931h-11.458V245.086h11.458V384.931z      M334.96,240.399h-13.802h-26.728h-16.146h-27.341h-16.146h-26.727h-13.802v-7.031h140.689v7.031H334.96z M334.96,215.139v12.303      l-63.302-27.668h63.302V215.139z M356.835,187.274h18.229v25.521h-18.229V187.274z M339.647,217.482h14.844h22.916h135.678v13.542     H339.662c0-0.065-0.01-0.127-0.015-0.191V217.482L339.647,217.482z M513.085,384.931H339.647V245.086h173.438V384.931z       M524.543,240.399h-9.113H339.647v-4.688h175.78h9.114L524.543,240.399L524.543,240.399z"/>    <path d="M437.955,297.626h17.188c1.295,0,2.344-1.049,2.344-2.344v-30.86c0-1.294-1.049-2.344-2.344-2.344h-17.188     c-1.295,0-2.344,1.049-2.344,2.344v30.86C435.611,296.577,436.66,297.626,437.955,297.626z M440.299,266.766h12.5v26.172h-12.5      V266.766z"/>    <path d="M397.59,297.626h17.188c1.294,0,2.344-1.049,2.344-2.344v-30.86c0-1.294-1.05-2.344-2.344-2.344H397.59      c-1.295,0-2.344,1.049-2.344,2.344v30.86C395.246,296.577,396.295,297.626,397.59,297.626z M399.935,266.766h12.5v26.172h-12.5      V266.766z"/>    <path d="M357.227,297.626h17.188c1.295,0,2.344-1.049,2.344-2.344v-30.86c0-1.294-1.049-2.344-2.344-2.344h-17.188     c-1.295,0-2.345,1.049-2.345,2.344v30.86C354.882,296.577,355.932,297.626,357.227,297.626z M359.569,266.766h12.5v26.172h-12.5     V266.766z"/>    <path d="M478.319,358.954h17.188c1.295,0,2.345-1.049,2.345-2.344v-30.859c0-1.295-1.05-2.344-2.345-2.344h-17.188     c-1.295,0-2.344,1.049-2.344,2.344v30.859C475.977,357.905,477.024,358.954,478.319,358.954z M480.663,328.095h12.5v26.172h-12.5      V328.095z"/>    <path d="M437.955,358.954h17.188c1.295,0,2.344-1.049,2.344-2.344v-30.859c0-1.295-1.049-2.344-2.344-2.344h-17.188      c-1.295,0-2.344,1.049-2.344,2.344v30.859C435.611,357.905,436.66,358.954,437.955,358.954z M440.299,328.095h12.5v26.172h-12.5     V328.095z"/>    <path d="M397.59,358.954h17.188c1.294,0,2.344-1.049,2.344-2.344v-30.859c0-1.295-1.05-2.344-2.344-2.344H397.59     c-1.295,0-2.344,1.049-2.344,2.344v30.859C395.246,357.905,396.295,358.954,397.59,358.954z M399.935,328.095h12.5v26.172h-12.5     V328.095z"/>    <path d="M357.227,358.954h17.188c1.295,0,2.344-1.049,2.344-2.344v-30.859c0-1.295-1.049-2.344-2.344-2.344h-17.188      c-1.295,0-2.345,1.049-2.345,2.344v30.859C354.882,357.905,355.932,358.954,357.227,358.954z M359.569,328.095h12.5v26.172h-12.5      V328.095z"/>  </g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>'};
window.SVGS=SVGS;var LocalStorageFile=function(a){return AbstractFile.apply(this,arguments)||this};$jscomp.inherits(LocalStorageFile,AbstractFile);window.LocalStorageFile=LocalStorageFile;var LocalStorageFolder=function(a){AbstractFolder.apply(this,arguments)};$jscomp.inherits(LocalStorageFolder,AbstractFolder);LocalStorageFolder.prototype.readFiles=function(){return Promise.resolve(this.readFilesSync())};
LocalStorageFolder.prototype.readFilesSync=function(){var a=this.getApp();return a.getStoreKeys().filter(function(a){return!StorageKeys.isKey(a)}).map(function(b){return new LocalStorageFile(a.getFromStore(b),b)})};LocalStorageFolder.prototype.unlinkFile=function(a){this.getApp().removeValue(a);return Promise.resolve()};LocalStorageFolder.prototype.getAvailablePermalink=function(a){var b=this.getApp();return Promise.resolve(Util.getAvailablePermalink(a,function(a){return void 0!==b.getFromStore(a)}))};
LocalStorageFolder.prototype.moveFile=function(a,b){var c=this.getApp();c.storeValue(b,c.getFromStore(a)||"");c.removeValue(a);return Promise.resolve()};LocalStorageFolder.prototype.exists=function(a){var b=this.getApp();return Promise.resolve(void 0!==b.getFromStore(a))};LocalStorageFolder.prototype.writeFile=function(a,b){this.getApp().storeValue(a,b);return Promise.resolve()};LocalStorageFolder.prototype.readFile=function(a){return Promise.resolve(this.getApp().getFromStore(a))};
window.LocalStorageFolder=LocalStorageFolder;var StorageKeys={autoSave:"__autoSave",appState:"__appState",visitCount:"__visitCount"},_storageKeysmap={};Object.values(StorageKeys).forEach(function(a){_storageKeysmap[a]=!0});StorageKeys.isKey=function(a){return _storageKeysmap[a]};window.StorageKeys=StorageKeys;var MashProgram=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(MashProgram,TreeProgram);MashProgram.prototype.parseNodeType=function(a){return MashCommandNode};
var MashArgNode=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(MashArgNode,TreeProgram);var MashCommandNode=function(a){return MashProgram.apply(this,arguments)||this};$jscomp.inherits(MashCommandNode,MashProgram);MashCommandNode.prototype.getNodeTypeByBase=function(a){return{"%%":MashArgNode}[a]||MashCommandNode};MashCommandNode.prototype.parseNodeType=function(a){};
MashCommandNode.prototype._getArgs=function(){var a=this.getChildrenByNodeType(MashArgNode).map(function(a){return a.childrenToString()});a.length&&a.unshift(this.getWord(0));return a.length?a:this.getWords(0)};MashCommandNode.prototype.execute=function(a){var b=this;this.getPoint();return a.app.executeCommandLine(this._getArgs()).then(function(){return MashProgram.prototype.execute.call(b,a)})};window.MashProgram=MashProgram;
var AbstractModalChisel=function(a){return AbstractChisel.apply(this,arguments)||this};$jscomp.inherits(AbstractModalChisel,AbstractChisel);AbstractModalChisel._mountedChisels=AbstractChisel._mountedChisels;
AbstractModalChisel.prototype.getHakon=function(){var a=this.getTheme();return AbstractChisel.prototype.getHakon.call(this)+"\n.monospaceModal\n font-family Courier, monospace\n white-space pre\n "+a.enableTextSelect(2)+"\n >div\n  max-height 600px\n  overflow scroll\n input\n  display block\n  width 100%\n textarea\n  width 100%\n  display block\n  min-height 200px\n  font-size 14px\n  font-family Courier, monospace\n\n.modalBackground\n position fixed\n top 0\n left 0\n width 100%\n height 100%\n z-index 1000\n display flex\n padding-top 50px\n align-items baseline\n justify-content center\n box-sizing border-box\n background "+a.modalDimmerBackground+
"\n\n.modalContent\n background "+a.contextMenuBackground+"\n color "+a.foregroundColor+"\n box-shadow 0px 0px 2px "+a.boxShadow+"\n padding 20px\n position relative\n min-width 600px\n max-width 800px\n max-height 90%\n white-space nowrap\n text-overflow ellipsis\n overflow-x hidden\n overflow-y scroll\n textarea\n  margin-bottom 10px\n  white-space pre\n pre\n  "+a.enableTextSelect(1)+"\n\n.modalClose\n position absolute\n top 10px\n right 10px\n cursor pointer"};
AbstractModalChisel.prototype.getBray=function(){return"@section\n data-onClickCommand chisel unmountAndDestroyCommand\n class modalBackground\n @section\n  data-onClickCommand chisel stopPropagationCommand\n  class modalContent\n  @a X\n   id closeModalX\n   data-onClickCommand chisel unmountAndDestroyCommand\n   class modalClose"+TreeProgram.nest(this.getModalBray(),2)};window.AbstractModalChisel=AbstractModalChisel;var HelpModal=function(a){return AbstractModalChisel.apply(this,arguments)||this};
$jscomp.inherits(HelpModal,AbstractModalChisel);HelpModal._mountedChisels=AbstractModalChisel._mountedChisels;
HelpModal.prototype.getMomentHelp=function(){return"Char;Example;Description{YYYY;2014;4 or 2 digit year{YY;14;2 digit year{Y;-25;Year with any number of digits and sign{Q;1..4;Quarter of year. Sets month to first month in quarter.{M MM;1..12;Month number{MMM MMMM;Jan..December;Month name in locale set by moment.locale(){D DD;1..31;Day of month{Do;1st..31st;Day of month with ordinal{DDD DDDD;1..365;Day of year{X;1410715640.579;Unix timestamp{x;1410715640579;Unix ms timestamp{H HH;0..23;24 hour time{h hh;1..12;12 hour time used with a A.{a/p A/P;am pm;Post or ante meridiem{m mm;0..59;Minutes{s ss;0..59;Seconds{S SS SSS;0..999;Fractional seconds{Z ZZ;+12:00;Offset from UTC as +-HH:mm, +-HHmm, or Z{w ww;1..53;Locale week of year{e;0..6;Locale day of week{ddd dddd;Mon...Sunday;Day name in locale set by moment.locale(){E;1..7;ISO day of week".split("{").map(function(a){a=a.split(";");
return"<tr><td>"+a[0]+"</td><td>"+a[1]+"</td><td>"+a[2]+"</td></tr>"}).join("")};HelpModal.prototype.getHakon=function(){return AbstractModalChisel.prototype.getHakon.call(this)+"\np\n width 100%\n white-space normal\n.helpToggle\n display block\n.helpSection\n display none\n#shortcutsHelp td\n padding-right 10px"};
HelpModal.prototype._getShortcutsHelpBray=function(){var a="",b=this.getApp();return"@table\n id shortcutsHelp\n class helpSection\n"+b.getKeyboardShortcuts().getChildren().map(function(c){var d=c.getCategory(),e="";d!==a&&(e=" @tr\n  @td <br>"+d+"\n  @td\n",a=d);d=c.getDescription();return e+" @tr\n  style "+(d?"":"display: none;")+"\n  @td "+c.getKeyCombo()+"\n  @td "+d+"\n   @"+(c.isEnabled(b)?"a":"span")+"\n    data-onClickCommand app "+c.getFn()}).join("\n")};
HelpModal.prototype.getModalBray=function(){var a=this.getApp(),b=Object.values(a.getETNs()).map(function(a){return new a}),c=b.map(function(a){return a.getDictionary()}),d=c.map(function(a){return a.getDocs()}).join("<br><br>"),c=c.map(function(a){return a.getLine()}).join(", ");a.getMountedTab();return"@h4 About ohayo\n@p ohayo will be the fastest programming tool in the solar system.\n@p\n @a Welcome Page\n  data-onClickCommand app openOhayoProgramCommand\n  value ohayo.flow\n @span |\n @a Read Me\n  data-onClickCommand app openOhayoProgramCommand\n  value readme.flow\n @span |\n @a FAQ\n  data-onClickCommand app openOhayoProgramCommand\n  value faq.flow\n @span |\n @a Release Notes\n  id releaseNotesButton\n  data-onClickCommand app openOhayoProgramCommand\n  value releasenotes.flow\n @span |\n @a Fire Hello World\n  data-onClickCommand app openOhayoProgramCommand\n  value helloWorld.fire\n @span |\n @a Fire Fibonacci\n  data-onClickCommand app openOhayoProgramCommand\n  value fib.fire\n@a Keyboard Shortcuts\n class helpToggle\n data-onClickCommand app toggleShadowByIdCommand\n value shortcutsHelp\n"+
this._getShortcutsHelpBray()+"\n@a ETN help\n class helpToggle\n data-onClickCommand app toggleShadowByIdCommand\n value etnHelpSection\n@div\n class helpSection\n id etnHelpSection\n @p ohayo currently supports "+b.length+" ETNs ("+c+"). Here are the available tiles.\n @pre\n  bern"+TreeProgram.nest(d,3)+"\n@p Version "+a.getVersion()+" "+a.constructor.name};window.HelpModal=HelpModal;var GrayDictionary='@preface\n @fileExtension gray\n @targetExtension rust\n @shellCommand rustc\n @primitives\n  any\n  word\n  int\nrust\n @tileSize 100 100\nblock rust\n @childNodeTypes rust\nfn block\n @parameters word words*\n @compiled fn {word} ({word*})\n @openChildren {\n @closeChildren }\nmain fn\n @parameters\n @compiled fn main ()\nprint rust\n @parameters words*\n @compiled println!("{words*}")\n// rust\n @description Comment\n @parameters words*\n @compiled // {words*}';
window.GrayDictionary=GrayDictionary;var RustyDictionary='@preface\n @fileExtension rusty\n @targetExtension rust\n @shellCommand rustc\n @primitives\n  any\n  word\n  int\nrust\n @tileSize 100 100\n @tileClass BasicTile /aientist/client/base/tiles/BasicTile.js\nblock rust\n @childNodeTypes rust\n @openChildren {\n @closeChildren }\nfn block\n @parameters word words*\n @compiled fn {word} ({word*})\nmain fn\n @parameters\n @compiled fn main ()\nprint rust\n @parameters words*\n @compiled println!("{words*}");\n// rust\n @description Comment\n @parameters words*\n @compiled // {words*}\nlet rust\n @parameters word = something\n @compiled let {word} = {something};\nif block\n @parameters something comparison something\n @compiled if {something} {comparison} {something}\nelse block\n @compiled else\nelseif block\n @parameters something comparison something\n @compiled else if {something} {comparison} {something}';
window.RustyDictionary=RustyDictionary;var RustyProgram=function(a){return SnapProgram.apply(this,arguments)||this};$jscomp.inherits(RustyProgram,SnapProgram);RustyProgram.prototype.getDictionaryString=function(){return RustyDictionary};RustyProgram.prototype.execute=function(a){var b=this;return this.executeShell(a).then(function(c){c=Util.removeFileExtension(a);return b.executeCommand(c).then(function(a){console.log(a)})})};window.RustyProgram=RustyProgram;
var ServerStorageFile=function(a){return AbstractFile.apply(this,arguments)||this};$jscomp.inherits(ServerStorageFile,AbstractFile);window.ServerStorageFile=ServerStorageFile;var ServerStorageFolder=function(a){AbstractFolder.apply(this,arguments)};$jscomp.inherits(ServerStorageFolder,AbstractFolder);ServerStorageFolder.prototype.readFiles=function(){return this._getWillow().get("/serverStorage.list").then(function(a){return a.map(function(a){return new ServerStorageFile(a.data,a.name)})})};
ServerStorageFolder.prototype._getWillow=function(){return this.getApp().getWillowProgram()};ServerStorageFolder.prototype.getAvailablePermalink=function(a){return this._getWillow().post("/serverStorage.getAvailablePermalink",{permalink:a})};ServerStorageFolder.prototype.unlinkFile=function(a){return this._getWillow().post("/serverStorage.delete",{filename:a})};ServerStorageFolder.prototype.moveFile=function(a,b){return this._getWillow().post("/serverStorage.move",{oldName:a,newName:b})};
ServerStorageFolder.prototype.writeFile=function(a,b){return this._getWillow().post("/serverStorage.write",{filename:a,newVersion:b})};ServerStorageFolder.prototype.exists=function(a){return this._getWillow().post("/serverStorage.exists",{filename:a}).then(function(a){return"true"===a.toString()})};ServerStorageFolder.prototype.readFile=function(a){return this._getWillow().post("/serverStorage.read",{filename:a})};window.ServerStorageFolder=ServerStorageFolder;
var StumpBernNode=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(StumpBernNode,TreeProgram);StumpBernNode.prototype._toHtml=function(){return this.childrenToString()};var StumpAttributeNode=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(StumpAttributeNode,TreeProgram);StumpAttributeNode.prototype._toHtml=function(){return""};StumpAttributeNode.prototype.getAttribute=function(){return" "+this.getBase()+'="'+this.getBeam()+'"'};
var StumpProgram=function(a){return TreeProgram.apply(this,arguments)||this};$jscomp.inherits(StumpProgram,TreeProgram);StumpProgram.prototype.getTag=function(){return this.getWord(0).substr(1)};StumpProgram.prototype.parseNodeType=function(a){if(a.startsWith("@"))return StumpProgram;if(a.startsWith("@ "))throw Error(a);return a.startsWith("bern ")||"bern"===a?StumpBernNode:StumpAttributeNode};StumpProgram.prototype._childrenToHtml=function(a){return this.getChildren().map(function(b){return b._toHtml(a)}).join("")};
StumpProgram.prototype.toHtml=function(){return this.isRoot()?TreeProgram.prototype.toHtml.call(this):this._toHtml()};StumpProgram.prototype.toHtmlWithSuids=function(){return this.isRoot()?TreeProgram.prototype.toHtml.call(this):this._toHtml(void 0,!0)};StumpProgram.prototype._getOneLiner=function(){var a=this.getWords(1);return a.length?a.join(" "):""};StumpProgram.prototype.shouldCollapse=function(){return"true"===this.findBeam("collapseNode")};
StumpProgram.prototype._toHtml=function(a,b){var c=this.getTag(),d=this.getChildren().map(function(c){return c._toHtml(a+1,b)}).join(""),e=this.getChildrenByNodeType(StumpAttributeNode).map(function(a){return a.getAttribute()}).join(""),f=" ".repeat(a),g=this.shouldCollapse(),h=!g&&0<this.getChildrenByNodeType(StumpProgram).length,k=b?' data-suid="'+this._getUid()+'"':"",l=this._getOneLiner();return(g?"":f)+"<"+c+e+k+">"+l+(h?"\n":"")+d+"</"+c+">"+(g?"":"\n")};
StumpProgram.prototype.removeStump=function(){this.getShadow().removeShadow();return this.destroy()};StumpProgram.prototype.getNodeByGuid=function(a){return this.getTopDownArray().find(function(b){return b._getUid()===a})};StumpProgram.prototype.addClassToStump=function(a){var b=this.touchNode("class"),c=b.getWords();if(c.includes(a))return this;b.setWord(c.length,a);this.getShadow().addClassToShadow(a);return this};
StumpProgram.prototype.removeClassFromStump=function(a){var b=this.getNode("class");if(!b)return this;var c=b.getLine().replace(" "+a,"");"class"===c?b.destroy():b.setLine(c);this.getShadow().removeClassFromShadow(a);return this};StumpProgram.prototype.stumpHasClass=function(a){var b=this.getNode("class");return b&&b.getWords().includes(a)?!0:!1};StumpProgram.prototype.isStumpCheckbox=function(){return"checkbox"===this.findBeam("type")};StumpProgram.prototype.getShadow=function(){return new (this.getShadowClass())(this)};
StumpProgram.prototype.insertChildNode=function(a,b){a=(new TreeProgram(a)).getChildren()[0];b=this.insert(a.getLine(),a.childrenToString(),b);a=this.getChildrenByNodeType(StumpProgram).indexOf(b);this.getShadow().insertHtmlNode(b,a);return b};StumpProgram.prototype.isInputType=function(){return["input","div","textarea"].includes(this.getTag())||"true"===this.findBeam("contenteditable")};StumpProgram.prototype.findStumpByChild=function(a){return this.findStumpsByChild(a)[0]};
StumpProgram.prototype.findStumpByChildString=function(a){return this.getTopDownArray().find(function(b){return b.getChildren().map(function(a){return a.getLine()}).join("\n").includes(a)})};StumpProgram.prototype.findStumpByBase=function(a){return this._findStumpsByBase(a)[0]};StumpProgram.prototype._findStumpsByBase=function(a){return this.getTopDownArray().filter(function(b){return b instanceof StumpProgram&&b.getBase()===a})};
StumpProgram.prototype.hasLine=function(a){return this.getChildren().some(function(b){return b.getLine()===a})};StumpProgram.prototype.findStumpsByChild=function(a){return this.getTopDownArray().filter(function(b){return b instanceof StumpProgram&&b.hasLine(a)})};StumpProgram.prototype.findStumpsWithClass=function(a){return this.getTopDownArray().filter(function(b){return b instanceof StumpProgram&&b.has("class")&&b.getNode("class").getWords().includes(a)})};
StumpProgram.prototype.getShadowClass=function(){return this.getParent().getShadowClass()};StumpProgram.prototype.getLines=function(a,b){a=void 0===a?0:a;return this.toString().split("\n").slice(a,b).join("\n")};StumpProgram.prototype.getStumpChisel=function(){return this._chisel||this.getParent().getStumpChisel()};StumpProgram.prototype.setStumpChisel=function(a){this._chisel=a;return this};StumpProgram.prototype.setStumpCss=function(a){this.getShadow().setShadowCss(a);return this};
StumpProgram.prototype.getStumpCss=function(a){return this.getShadow().getShadowCss(a)};StumpProgram.prototype.getStumpAttr=function(a){return this.findBeam(a)};StumpProgram.prototype.setStumpAttr=function(a,b){return this};window.StumpProgram=StumpProgram;var DemoTemplates="faq.flow\n >url faq.md\n  format text\n  visible false\n  >markdown\nreadme.flow\n >url readme.md\n  format text\n  visible false\n  >markdown\nreleasenotes.flow\n >url releasenotes.md?06232017\n  format text\n  visible false\n  >markdown\nohayo.flow\n >youtube 8rwsuXHA7RA\nhelloWorld.fire\n block\n  setfn main\n   log$ Hello world\n  >> main\ntreeConsole.flow\n @wall\n  layout bin\n >data\n  slang\n   hello world\n  format tree\n  >outline\n   dots true\n  >outline\nfib.fire\n block\n  setfn fib num\n   set?< lessThan1 num 1\n   if lessThan1\n    return 0\n   set?<= lessOr2 num 2\n   if lessOr2\n    return 1\n   set#- oneLess num 1\n   set#- twoLess num 2\n   set*>> oneLessFib fib oneLess\n   set*>> twoLessFib fib twoLess\n   set#+ sum oneLessFib twoLessFib\n   return sum\n  set*>> result fib 10\n  set#[] tests 0 1 2 3 4 5 6 7 8 9 10\n  set.>> results tests map fib\n  log@ results";
window.DemoTemplates=DemoTemplates;var FlowCodeEditorTemplate=function(a,b){return">data\n format text\n etn "+b+"\n >lc\n  >kpi Total lines\n   column lines\n   reduction median\n >wc\n  >kpi Total words\n   column count\n   reduction sum\n >3d\n >outline\n >tags\n  >pre\n   >wc\n    >table\n    >wordcloud\n slang"+TreeProgram.nest(a,2)+"\n@wall\n layout bin"};window.FlowCodeEditorTemplate=FlowCodeEditorTemplate;
var FlowTemplates={csv:function(a,b){return">data\n >table\n  limit 300\n slang"+TreeProgram.nest(b,2)}};window.FlowTemplates=FlowTemplates;var MiniTemplate=">programs\n visible false\n >mini\n  title My Programs\n  orderBy link";window.MiniTemplate=MiniTemplate;var SpeedTestTemplate=function(a,b){return">data\n pin 45 32 17 5\n slang\n  "+b.replace(/\n/g,"\n  ")+"\n columns\n  timeToLoad\n   type number\n  timeToRender\n   type number\n >h1 "+a+"\n  pin 45 0 23 3\n >table\n  link url\n  title Slow Load Times\n  x timeToLoad\n  y timeToRender\n  orderBy -timeToLoad\n  pin 0 0 43 18\n >table\n  link url\n  title Slow Render Times\n  x timeToLoad\n  y timeToRender\n  orderBy -timeToRender\n  pin 0 20 41 17\n >kpi\n  pin 45 4 11 7\n  column timeToLoad\n  reduction average\n >kpi\n  pin 45 15 11 7\n  column timeToRender\n  reduction average\n >kpi\n  pin 45 24 11 7\n  column timeToRender\n  reduction median\n >kpi\n  pin 57 4 11 7\n  column timeToLoad\n  reduction sum\n >kpi\n  pin 57 15 11 7\n  column timeToRender\n  reduction sum\n >kpi\n  pin 57 24 11 7\n  column timeToRender\n  reduction count"};
window.SpeedTestTemplate=SpeedTestTemplate;
var Theme=function(a){var b=a=void 0===a?{}:a,c=void 0===b.backgroundColor?"rgb(255,255,255)":b.backgroundColor,d=void 0===b.foregroundColor?"black":b.foregroundColor,e=void 0===b.fn?"lighten":b.fn,b=void 0===b.selectionColor?"rgb(42, 89, 178)":b.selectionColor;this.tileBackgroundColor=this.contextMenuBackground=this.wallBackground=this.bodyBackground=this.programsBackground=this.tabBackground=this.menuBackground=this.backgroundColor=c;this.tileShadow="none";this.tileOpacity=1;this.foregroundColor=
this.menuChiselColor=d;this.lineColor=tinycolor(d).setAlpha(.075).toString();this.boxShadow=tinycolor(d).setAlpha(.1).toString();this.activeTabColor=this.darkerBackground=tinycolor(c).darken(10).toString();c=function(a){return tinycolor(d)[e](a).toString()};this.darkBlack=c(20);this.bodyColor=this.mediumBlack=c(40);this.midGray=c(60);this.greyish=c(82);this.lightGrey=c(93);this.veryLightGrey=c(97);this.borderColor=this.greyish;this.linkColor=this.hoverBackground=b;this.selectedOutline=tinycolor(b).setAlpha(.8).toString();
this.selectionBackground=tinycolor(b).setAlpha(.1).toString();this.errorColor="rgb(226, 120, 121)";this.successColor="#4CAF50";this.white="#fff";this.fonts="'San Francisco', 'Myriad Set Pro', 'Lucida Grande', 'Helvetica Neue', Helvetica, Arial, Verdana, sans-serif";this.modalDimmerBackground=tinycolor("#000").setAlpha(.4).toString();Object.assign(this,a)};Theme.prototype.enableTextSelect=function(a){return Theme._getIndented(a,"-moz-user-select text\n  -webkit-user-select text\n  -ms-user-select text\n  user-select text")};
Theme.prototype.getHeatColor=function(a){return"hsl(200, "+(25+75*a)+"%, "+(20+25*a)+"%)"};Theme._getIndented=function(a,b){return b.split(/\n/g).join("\n"+" ".repeat(a))};Theme.prototype.disableTextSelect=function(a){return Theme._getIndented(a,"-webkit-touch-callout none\n-webkit-user-select none\n-khtml-user-select none\n-moz-user-select none\n-ms-user-select none\nuser-select none")};Theme.prototype.hakonToCss=function(a){return(new HakonProgram(a)).toCss()};var Themes={};
Themes.dark=new Theme({backgroundColor:"rgb(16, 16, 16)",foregroundColor:"#fff",fn:"darken"});Themes.workshop=new Theme({wallBackground:"url('/cork.jpg')",menuBackground:"#3B539A",tileOpacity:.95,tileShadow:"0 3px 5px rgba(33,33,33,.3)",menuChiselColor:"white"});
var glassColors={selectionColor:"rgba(46, 195, 212, .9)",bodyBackground:"linear-gradient(130deg, rgb(56, 114, 127), rgb(28, 98, 151) 45%, rgb(62, 73, 135))",backgroundColor:"rgba(0,0,0,.12)",contextMenuBackground:"rgba(0,0,0,.90)",tileBackgroundColor:"rgba(0,0,0,.12)",programsBackground:"transparent",boxShadow:"transparent",wallBackground:"transparent",activeTabColor:"transparent",borderColor:"transparent",foregroundColor:"#eee"};Themes.glass=new Theme(glassColors);
glassColors.tileBackgroundColor="transparent";Themes.clearGlass=new Theme(glassColors);window.Themes=Themes;var TurtleDictionary="@preface\n @fileExtension turtle\n @targetExtension logo\n @primitives\n  any\n  word\n  int\nlogo\n @tileSize 100 100\n @tileClass BasicTile /aientist/client/base/tiles/BasicTile.js\nblock logo\n @childNodeTypes logo\nto block\n @parameters word\n @compiled to {word}\n @closeChildren end\nrepeat block\n @parameters int\n @compiled repeat {int}\n @openChildren  [\n @closeChildren ]\nclear logo\n @compiled clearscreen\nfd logo\n @parameters int\n @compiled fd {int}\nrt logo\n @parameters int\n @compiled rt {int}";
window.TurtleDictionary=TurtleDictionary;var TurtleFunctionNode=function(a){return SnapNode.apply(this,arguments)||this};$jscomp.inherits(TurtleFunctionNode,SnapNode);TurtleFunctionNode.prototype.getCompiledLine=function(){return this.getLine()};var TurtleProgram=function(a){return SnapProgram.apply(this,arguments)||this};$jscomp.inherits(TurtleProgram,SnapProgram);TurtleProgram.prototype.getDictionaryString=function(){return TurtleDictionary};TurtleProgram.prototype.getDefaultNodeType=function(){return TurtleFunctionNode};
TurtleProgram.prototype.execute=function(a){this.compileFile(a)};window.TurtleProgram=TurtleProgram;
var Util={getFileExtension:function(a){return(a=(void 0===a?"":a).match(/\.([^\.]+)$/))&&a[1]||""},getMethodFromDotPath:function(a,b){for(b=b.split(".");1<b.length;)a=a[b.shift()]();b=b.shift();return[a,b]},removeFileExtension:function(a){return a?a.replace(/\.[^\.]+$/,""):""},getUniqueWordsArray:function(a){var b={};a.replace(/\n/g," ").split(" ").forEach(function(a){b[a]||(b[a]=0);b[a]++});return Object.keys(b).map(function(a){return{word:a,count:b[a]}})},compileProgramToJavascriptFile:function(a){var b=
require("fs"),c=Util.getFileName(a),d=Util.removeFileExtension(c),c=Util.getFileExtension(c),c=d+c.charAt(0).toUpperCase()+c.substr(1),d=Util.getPathWithoutFileName(a)+"/"+c+".compiled.js";a=b.readFileSync(a,"utf8").split(/\n/);a.shift();a="const "+c+" = `"+a.join("\n")+"`\n\nwindow."+c+" = "+c+"\n";b.writeFileSync(d,a,"utf8")},getFileName:function(a){return a.split("/").pop()},getPathWithoutFileName:function(a){a=a.split("/");a.pop();return a.join("/")},makeSemiRandomFn:function(a){a=void 0===a?
1:a;return function(){var b=1E4*Math.sin(a++);return b-Math.floor(b)}},getAvailablePermalink:function(a,b){var c=Util.getFileExtension(a);a=Util.removeFileExtension(a);for(var d=2,e="",f=""+a+e+"."+c;b(f);)f=""+a+e+"."+c,e="-"+d,d++;return f},pLimit:function(a){var b=[],c=0;return function(d){return new Promise(function(e,f){var g=function(){c++;d().then(function(a){e(a);c--;b.length&&b.shift()()},function(a){f(a);c--;b.length&&b.shift()()})};c<a?g():b.push(g)})}},sortByAccessor:function(a){return function(b,
c){b=a(b);c=a(c);var d=b<c?-1:b>c?1:0;void 0===b&&void 0!==c?d=-1:void 0===c&&void 0!==b&&(d=1);return d}},toggle:function(a,b){a=b.indexOf(a);return-1===a||a+1===b.length?b[0]:b[a+1]},sortByFast:function(a,b){var c=[],d=b.split(/ /g).map(function(a,b){return"-"===a.substr(0,1)?(c[b]=!0,a.substr(1)):a}),e=function(a,b,h){var f=d[h];if(!f)return 0;var g=a.getCardNumeric()[f],f=b.getCardNumeric()[f];return g===f?e(a,b,h+1):g>f?c[h]?-1:1:c[h]?1:-1};a.sort(function(a,b){return e(a,b,0)})},joinArraysOn:function(a,
b,c){var d={};c||(c=b.map(function(a){return Object.keys(a[0])}));b.forEach(function(b,f){var e=c[f];b.forEach(function(b){var c=a?b[a]:f++;d[c]||(d[c]={});var g=d[c];e.forEach(function(a){return g[a]=b[a]})})});return Object.values(d)}};window.Util=Util;var WhateverDictionary="@preface\n @fileExtension tree\n @targetExtension tree\n @primitives\n  any\nsnap\n @childNodeTypes snap";window.WhateverDictionary=WhateverDictionary;var WhateverNode=function(a){return SnapNode.apply(this,arguments)||this};
$jscomp.inherits(WhateverNode,SnapNode);WhateverNode.prototype.getCompiledLine=function(){return this.getLine()};var WhateverProgram=function(a){return SnapProgram.apply(this,arguments)||this};$jscomp.inherits(WhateverProgram,SnapProgram);WhateverProgram.prototype.getDictionaryString=function(){return WhateverDictionary};WhateverProgram.prototype.getDefaultNodeType=function(){return WhateverNode};WhateverProgram.prototype.execute=function(a){this.compileFile(a)};window.WhateverProgram=WhateverProgram;
var WillowStore=function(){this._values={}};WillowStore.prototype.get=function(a){return this._values[a]};WillowStore.prototype.set=function(a,b){this._values[a]=b;return this};WillowStore.prototype.remove=function(a){delete this._values[a]};WillowStore.prototype.each=function(a){var b=this;Object.keys(this._values).forEach(function(c){a(b._values[c],c)})};WillowStore.prototype.clearAll=function(){this._values={}};var WillowMousetrap=function(){this.prototype={}};WillowMousetrap.prototype.bind=function(){};
var AbstractWillowProgram=function(a){var b=StumpProgram.call(this,"@html\n @head\n @body")||this;b._htmlStump=b.nodeAt(0);b._headStump=b.nodeAt(0).nodeAt(0);b._bodyStump=b.nodeAt(0).nodeAt(1);b.addSuidsToHtmlHeadAndBodyShadows();b._baseUrl=a;a=new miuri(a);b.location={};b.location.hostname=a.hostname();return b};$jscomp.inherits(AbstractWillowProgram,StumpProgram);AbstractWillowProgram.prototype.addSuidsToHtmlHeadAndBodyShadows=function(){};AbstractWillowProgram.prototype.getShadowClass=function(){return WillowShadow};
AbstractWillowProgram.prototype.getMockMouseEvent=function(){return{clientX:0,clientY:0,offsetX:0,offsetY:0}};AbstractWillowProgram.prototype.toggleFullScreen=function(){};AbstractWillowProgram.prototype.getMousetrap=function(){this._mousetrap||(this._mousetrap=new WillowMousetrap);return this._mousetrap};AbstractWillowProgram.prototype._getFocusedShadow=function(){return this._focusedShadow||this.getBodyStump().getShadow()};AbstractWillowProgram.prototype.getHeadStump=function(){return this._headStump};
AbstractWillowProgram.prototype.getBodyStump=function(){return this._bodyStump};AbstractWillowProgram.prototype.getHtmlStump=function(){return this._htmlStump};AbstractWillowProgram.prototype.getStore=function(){this._store||(this._store=new WillowStore);return this._store};AbstractWillowProgram.prototype.someInputHasFocus=function(){var a=this._getFocusedShadow();return a?(a=a.getShadowStump())&&a.isInputType():!1};AbstractWillowProgram.prototype.isNodeJs=function(){return"undefined"!==typeof exports};
AbstractWillowProgram.prototype.copyTextToClipboard=function(){};AbstractWillowProgram.prototype.setCopyData=function(a,b){};AbstractWillowProgram.prototype._makeRelativeUrlAbsolute=function(a){return a.startsWith("http://")||a.startsWith("https://")?a:this._baseUrl.replace(/\/$/,"")+a};AbstractWillowProgram.prototype.get=function(a,b){a=this._makeRelativeUrlAbsolute(a);return superagent.get(a).query(b).set(this._headers||{}).then(function(a){return a.body||a.text})};
AbstractWillowProgram.prototype.post=function(a,b){a=this._makeRelativeUrlAbsolute(a);return superagent.post(a).set(this._headers||{}).send(b).then(function(a){return a.body||a.text})};AbstractWillowProgram.prototype.encodeURIComponent=function(a){return encodeURIComponent(a)};AbstractWillowProgram.prototype.downloadFile=function(a,b,c){};AbstractWillowProgram.prototype.appendScript=function(a){return Promise.resolve()};
AbstractWillowProgram.prototype.getWindowTitle=function(){var a=this.getTopDownArray().find(function(a){return"title"===a.getTag()});return a?a.getBeam():""};AbstractWillowProgram.prototype.setWindowTitle=function(a){this.getTopDownArray().find(function(a){return"head"===a.getTag()}).touchNode("@title").setBeam(a);return this};AbstractWillowProgram.prototype._getHostname=function(){return this.location.hostname||""};AbstractWillowProgram.prototype.openUrl=function(a){};
AbstractWillowProgram.prototype.getPageHtml=function(){return this.toHtmlWithSuids()};AbstractWillowProgram.prototype.getStumpFromElement=function(a){};AbstractWillowProgram.prototype.setPasteHandler=function(a){return this};AbstractWillowProgram.prototype.setErrorHandler=function(a){return this};AbstractWillowProgram.prototype.setCopyHandler=function(a){return this};AbstractWillowProgram.prototype.setCutHandler=function(a){return this};AbstractWillowProgram.prototype.setResizeEndHandler=function(a){return this};
AbstractWillowProgram.prototype.confirmThen=function(a){return Promise.resolve(!0)};AbstractWillowProgram.prototype.promptThen=function(a,b){return Promise.resolve(b)};AbstractWillowProgram.prototype.isLocalHost=function(){return"localhost"===this._getHostname()};AbstractWillowProgram.prototype.setLoadedDroppedFileHandler=function(a,b){};AbstractWillowProgram.prototype.getWindowSize=function(){return{width:1111,height:1111}};AbstractWillowProgram.prototype.getDocumentSize=function(){return this.getWindowSize()};
AbstractWillowProgram.prototype.isExternalLink=function(a){if(a&&"/"===a.substr(0,1)||!a.includes("//"))return!1;var b=this._getHostname();a=new miuri(a);return a.hostname()&&b!==a.hostname()};AbstractWillowProgram.prototype.forceRepaint=function(){};AbstractWillowProgram.prototype.blurFocusedInput=function(){};window.AbstractWillowProgram=AbstractWillowProgram;var AbstractWillowShadow=function(a){this._stump=a};AbstractWillowShadow.prototype.getShadowStump=function(){return this._stump};
AbstractWillowShadow.prototype.getShadowValue=function(){return""};AbstractWillowShadow.prototype.removeShadow=function(){return this};AbstractWillowShadow.prototype.getShadowParent=function(){return this.getShadowStump().getParent().getShadow()};
AbstractWillowShadow.prototype.getPositionAndDimensions=function(a){a=void 0===a?1:a;var b=this.getShadowOffset(),c=this.getShadowParent().getShadowOffset();return{left:Math.floor((b.left-c.left)/a),top:Math.floor((b.top-c.top)/a),width:Math.floor(this.getShadowWidth()/a),height:Math.floor(this.getShadowHeight()/a)}};AbstractWillowShadow.prototype.shadowHasClass=function(a){return!1};AbstractWillowShadow.prototype.getShadowAttr=function(a){return""};AbstractWillowShadow.prototype.makeResizable=function(){return this};
AbstractWillowShadow.prototype.makeDraggable=function(){return this};AbstractWillowShadow.prototype.makeSelectable=function(){return this};AbstractWillowShadow.prototype.isShadowChecked=function(){return!1};AbstractWillowShadow.prototype.getShadowHtml=function(){return""};AbstractWillowShadow.prototype.getShadowOffset=function(){return{left:111,top:111}};AbstractWillowShadow.prototype.getShadowWidth=function(){return 111};AbstractWillowShadow.prototype.getShadowHeight=function(){return 111};
AbstractWillowShadow.prototype.isShadowResizable=function(){return!1};AbstractWillowShadow.prototype.setShadowAttr=function(a,b){return this};AbstractWillowShadow.prototype.isShadowDraggable=function(){return this.shadowHasClass("draggable")};AbstractWillowShadow.prototype.toggleShadow=function(){};AbstractWillowShadow.prototype.addClassToShadow=function(){};AbstractWillowShadow.prototype.removeClassFromShadow=function(){};AbstractWillowShadow.prototype.setShadowHtml=function(a){return this};
AbstractWillowShadow.prototype.onShadowEvent=function(){return this};AbstractWillowShadow.prototype.offShadowEvent=function(){return this};AbstractWillowShadow.prototype.triggerShadowEvent=function(a){return this};AbstractWillowShadow.prototype.getShadowPosition=function(){return{left:111,top:111}};AbstractWillowShadow.prototype.getShadowOuterHeight=function(){return 11};AbstractWillowShadow.prototype.getShadowOuterWidth=function(){return 11};AbstractWillowShadow.prototype.getShadowCss=function(){return""};
AbstractWillowShadow.prototype.setShadowCss=function(){return this};AbstractWillowShadow.prototype.insertHtmlNode=function(){};AbstractWillowShadow.prototype.getShadowElement=function(){};window.AbstractWillowShadow=AbstractWillowShadow;window.lodash||(window.lodash=_);window.console||(window.console={log:function(){},time:function(){},error:function(){},debug:function(){}});Object.values||(Object.values=function(a){return Object.keys(a).map(function(b){return a[b]})});
var WillowBrowserProgram=function(a){return AbstractWillowProgram.apply(this,arguments)||this};$jscomp.inherits(WillowBrowserProgram,AbstractWillowProgram);WillowBrowserProgram.prototype.findStumpsByShadowClass=function(a){var b=[],c=this;jQuery("."+a).each(function(){b.push(c.getStumpFromElement(this))});return b};
WillowBrowserProgram.prototype.addSuidsToHtmlHeadAndBodyShadows=function(){jQuery("html").attr("data-suid",this.getHtmlStump()._getUid());jQuery("head").attr("data-suid",this.getHeadStump()._getUid());jQuery("body").attr("data-suid",this.getBodyStump()._getUid())};WillowBrowserProgram.prototype.getShadowClass=function(){return WillowBrowserShadow};WillowBrowserProgram.prototype.setCopyHandler=function(a){jQuery(document).on(WillowShadowEvents.copy,a);return this};
WillowBrowserProgram.prototype.setCutHandler=function(a){jQuery(document).on(WillowShadowEvents.cut,a);return this};WillowBrowserProgram.prototype.setPasteHandler=function(a){window.addEventListener(WillowShadowEvents.paste,a,!1);return this};WillowBrowserProgram.prototype.setErrorHandler=function(a){window.addEventListener("error",a);return this};
WillowBrowserProgram.prototype.toggleFullScreen=function(){var a=document;a.fullScreenElement&&null!==a.fullScreenElement||!a.mozFullScreen&&!a.webkitIsFullScreen?a.documentElement.requestFullScreen?a.documentElement.requestFullScreen():a.documentElement.mozRequestFullScreen?a.documentElement.mozRequestFullScreen():a.documentElement.webkitRequestFullScreen&&a.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):a.cancelFullScreen?a.cancelFullScreen():a.mozCancelFullScreen?a.mozCancelFullScreen():
a.webkitCancelFullScreen&&a.webkitCancelFullScreen()};WillowBrowserProgram.prototype.setCopyData=function(a,b){a=a.originalEvent;a.preventDefault();a.clipboardData.setData("text/plain",b);a.clipboardData.setData("text/html",b)};WillowBrowserProgram.prototype.getMousetrap=function(){return Mousetrap};
WillowBrowserProgram.prototype.copyTextToClipboard=function(a){var b=document.createElement("textarea");b.style.position="fixed";b.style.top=0;b.style.left=0;b.style.width="2em";b.style.height="2em";b.style.padding=0;b.style.border="none";b.style.outline="none";b.style.boxShadow="none";b.style.background="transparent";b.value=a;document.body.appendChild(b);b.select();try{document.execCommand("copy")}catch(c){}document.body.removeChild(b)};WillowBrowserProgram.prototype.getStore=function(){return store};
WillowBrowserProgram.prototype._getHostname=function(){return location.hostname};
WillowBrowserProgram.prototype.appendScript=function(a){if(!a)return Promise.resolve();this._loadingPromises||(this._loadingPromises={});if(this._loadingPromises[a])return this._loadingPromises[a];if(this.isNodeJs())return Promise.resolve();var b=new Promise(function(b,d){var c=!1,f=document.createElement("script");f.type="text/javascript";f.src=a;f.async=!0;f.onload=f.onreadystatechange=function(){c||this.readyState&&"complete"!=this.readyState||(c=!0,b(this))};f.onerror=f.onabort=d;document.head.appendChild(f)});
return this._loadingPromises[a]=b};WillowBrowserProgram.prototype.downloadFile=function(a,b,c){var d=document.createElement("a");d.setAttribute("href","data:"+c+","+encodeURIComponent(a));d.setAttribute("download",b);d.click()};WillowBrowserProgram.prototype.openUrl=function(a){window.open(a)};WillowBrowserProgram.prototype.setResizeEndHandler=function(a){var b;$(window).on(WillowShadowEvents.resize,function(c){$(c.target).is("div")||(clearTimeout(b),b=setTimeout(a,100))});return this};
WillowBrowserProgram.prototype.getStumpFromElement=function(a){return this.getHtmlStump().getNodeByGuid(parseInt(jQuery(a).attr("data-suid")))};WillowBrowserProgram.prototype.forceRepaint=function(){jQuery(window).width()};WillowBrowserProgram.prototype.getBrowserHtml=function(){return document.documentElement.outerHTML};WillowBrowserProgram.prototype.confirmThen=function(a){return Promise.resolve(confirm(a))};
WillowBrowserProgram.prototype.promptThen=function(a,b){return Promise.resolve(prompt(a,b))};WillowBrowserProgram.prototype.getWindowSize=function(){var a=jQuery(window);return{width:a.width(),height:a.height()}};WillowBrowserProgram.prototype.getDocumentSize=function(){var a=jQuery(document);return{width:a.width(),height:a.height()}};WillowBrowserProgram.prototype.blurFocusedInput=function(){document.activeElement.blur()};
WillowBrowserProgram.prototype.setLoadedDroppedFileHandler=function(a,b){b=void 0===b?"":b;var c=this,d=this.getBodyStump(),e=d.getShadow(),f=function(a){a=a.originalEvent;var b=a.dataTransfer.effectAllowed;a.dataTransfer.dropEffect="move"===b||"linkMove"===b?"move":"copy"},g=function(a){a.preventDefault();a.stopPropagation();d.removeClassFromStump("dragOver");d.findStumpByChild("id dragOverHelp").removeStump();e.offShadowEvent(WillowShadowEvents.dragleave,g)};e.onShadowEvent(WillowShadowEvents.dragover,
function(a){f(a);a.preventDefault();a.stopPropagation();d.stumpHasClass("dragOver")||(d.insertChildNode("@div "+b+"\n id dragOverHelp"),d.addClassToStump("dragOver"),setTimeout(function(){e.onShadowEvent(WillowShadowEvents.dragleave,g)},50))});e.onShadowEvent(WillowShadowEvents.drop,function(b){b.preventDefault();b.stopPropagation();d.removeClassFromStump("dragOver");d.findStumpByChild("id dragOverHelp").removeStump();b=b.originalEvent.dataTransfer.items;for(var e=0;e<b.length;e++){var f=b[e].webkitGetAsEntry();
c._handleDroppedEntry(f).then(function(b){a(b)})}});e.onShadowEvent(WillowShadowEvents.dragenter,function(a){a.preventDefault();a.stopPropagation()})};WillowBrowserProgram.prototype._handleDroppedEntry=function(a,b){b=void 0===b?"":b;return a.isFile?this._handleDroppedFile(b,a):_handleDroppedDirectory(b,a)};
WillowBrowserProgram.prototype._handleDroppedDirectory=function(a,b){var c=this;return new Promise(function(d,e){b.createReader().readEntries(function(e){for(var f=[],h=0;h<e.length;h++)f.push(c._handleDroppedEntry(e[h],a+b.name+"/"));Promise.all(f).then(function(a){d(a)})})})};
WillowBrowserProgram.prototype._handleDroppedFile=function(a,b){return new Promise(function(a,d){b.file(function(b){var c=new FileReader;c.onload=function(c){a({data:c.target.result,filename:b.name})};c.onerror=function(a){return d(a)};c.readAsText(b)})})};WillowBrowserProgram.prototype._getFocusedShadow=function(){var a=this.getStumpFromElement(document.activeElement);return a&&a.getShadow()};
WillowBrowserProgram.startApp=function(a){document.addEventListener("DOMContentLoaded",function(){window.app||(window.app=new a,window.app.renderApp())},!1)};window.WillowBrowserProgram=WillowBrowserProgram;var WillowBrowserShadow=function(a){AbstractWillowShadow.apply(this,arguments)};$jscomp.inherits(WillowBrowserShadow,AbstractWillowShadow);WillowBrowserShadow.prototype._getJQ=function(){return jQuery('[data-suid="'+this.getShadowStump()._getUid()+'"]')};
WillowBrowserShadow.prototype.getShadowElement=function(){return this._getJQ()[0]};WillowBrowserShadow.prototype.insertHtmlNode=function(a,b){var c=a.toHtmlWithSuids(),c=jQuery(c),d=this._getJQ();void 0===b?d.append(c):0===b?d.prepend(c):jQuery(d.children().get(b-1)).after(c);c.data("stump",a)};WillowBrowserShadow.prototype.getShadowPosition=function(){return this._getJQ().position()};WillowBrowserShadow.prototype.setShadowHtml=function(a){this._getJQ().html(a);return this};
WillowBrowserShadow.prototype.shadowHasClass=function(a){return this._getJQ().hasClass(a)};WillowBrowserShadow.prototype.addClassToShadow=function(a){this._getJQ().addClass(a);return this};WillowBrowserShadow.prototype.removeClassFromShadow=function(a){this._getJQ().removeClass(a);return this};WillowBrowserShadow.prototype.onShadowEvent=function(a,b,c){this._getJQ().on(a,b,c);return this};WillowBrowserShadow.prototype.offShadowEvent=function(a,b){this._getJQ().off(a,b);return this};
WillowBrowserShadow.prototype.triggerShadowEvent=function(a){this._getJQ().trigger(a);return this};WillowBrowserShadow.prototype.getShadowHtml=function(){return this._getJQ().html()};WillowBrowserShadow.prototype.getShadowValue=function(){return this._getJQ().val()};WillowBrowserShadow.prototype.getShadowOuterHeight=function(){return this._getJQ().outerHeight()};WillowBrowserShadow.prototype.getShadowOuterWidth=function(){return this._getJQ().outerWidth()};
WillowBrowserShadow.prototype.isShadowChecked=function(){return this._getJQ().is(":checked")};WillowBrowserShadow.prototype.toggleShadow=function(){this._getJQ().toggle();return this};WillowBrowserShadow.prototype.getShadowWidth=function(){return this._getJQ().width()};WillowBrowserShadow.prototype.getShadowHeight=function(){return this._getJQ().height()};WillowBrowserShadow.prototype.makeResizable=function(a){this._getJQ().resizable(a);return this};WillowBrowserShadow.prototype.getShadowOffset=function(){return this._getJQ().offset()};
WillowBrowserShadow.prototype.removeShadow=function(){this._getJQ().remove();return this};WillowBrowserShadow.prototype.getShadowAttr=function(a){return this._getJQ().attr(a)};WillowBrowserShadow.prototype.setShadowAttr=function(a,b){this._getJQ().attr(a,b);return this};WillowBrowserShadow.prototype.makeDraggable=function(a){this._getJQ().draggable(a);return this};WillowBrowserShadow.prototype.getShadowCss=function(a){return this._getJQ().css(a)};
WillowBrowserShadow.prototype.setShadowCss=function(a){this._getJQ().css(a);return this};WillowBrowserShadow.prototype.makeSelectable=function(a){this._getJQ().selectable(a);return this};WillowBrowserShadow.prototype.isShadowResizable=function(){return 0<this._getJQ().find(".ui-resizable-handle").length};window.WillowBrowserShadow=WillowBrowserShadow;WillowBrowserProgram.startApp(OhayoAppChisel);var WillowProgram=function(a){return AbstractWillowProgram.apply(this,arguments)||this};
$jscomp.inherits(WillowProgram,AbstractWillowProgram);window.WillowProgram=WillowProgram;var WillowShadow=function(a){AbstractWillowShadow.apply(this,arguments)};$jscomp.inherits(WillowShadow,AbstractWillowShadow);window.WillowShadow=WillowShadow;
var WillowShadowEvents={click:"click",change:"change",mouseover:"mouseover",mouseout:"mouseout",mousedown:"mousedown",contextmenu:"contextmenu",keypress:"keypress",keyup:"keyup",focus:"focus",mousemove:"mousemove",dblclick:"dblclick",submit:"submit",blur:"blur",paste:"paste",copy:"copy",resize:"resize",cut:"cut",drop:"drop",dragover:"dragover",dragenter:"dragenter",dragleave:"dragleave",ready:"ready"};window.WillowShadowEvents=WillowShadowEvents;
